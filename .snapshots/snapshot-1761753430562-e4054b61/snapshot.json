{
  "id": "snapshot-1761753430562-e4054b61",
  "timestamp": 1761753430562,
  "description": "work",
  "tags": [],
  "notes": "",
  "taskReference": "",
  "isFavorite": false,
  "isSelective": false,
  "selectedFiles": [],
  "files": {
    ".dockerignore": {
      "content": "node_modules\nnpm-debug.log\n.env\n.git\n.gitignore\nREADME.md\n.DS_Store\n*.log\nclient\n"
    },
    ".gitignore": {
      "content": "# Dependencies\nnode_modules/\npackage-lock.json\nyarn.lock\n\n# Environment variables\n.env\n.env.local\n.env.*.local\n\n# Logs\nlogs/\n*.log\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n\n# OS files\n.DS_Store\nThumbs.db\n\n# IDE\n.vscode/\n.idea/\n*.swp\n*.swo\n*~\n\n# Build\ndist/\nbuild/\n"
    },
    ".nodemon.json": {
      "content": "{\r\n    \"watch\": [\r\n        \"src\"\r\n    ],\r\n    \"ext\": \"js\",\r\n    \"ignore\": [\r\n        \"node_modules\",\r\n        \"**/*.test.js\"\r\n    ],\r\n    \"delay\": 500,\r\n    \"env\": {\r\n        \"NODE_ENV\": \"development\"\r\n    }\r\n}"
    },
    ".env.example": {
      "content": "# Server Configuration\nPORT=3000\nNODE_ENV=development\n\n# MySQL Database Configuration\nDB_USER=freelance_user\nDB_HOST=localhost\nDB_NAME=freelance_platform\nDB_PASSWORD=root123\nDB_PORT=3306\n\n# JWT Configuration\n# IMPORTANT: Generate strong secrets using: node -e \"console.log(require('crypto').randomBytes(64).toString('hex'))\"\n# DO NOT use these example values in production!\nJWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars\nJWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production-min-32-chars\nJWT_EXPIRES_IN=15m\nJWT_REFRESH_EXPIRES_IN=7d\n\n# Client URL (for CORS)\nCLIENT_URL=http://localhost:5173\n\n# Email Configuration (for future email verification)\n# SMTP_HOST=smtp.gmail.com\n# SMTP_PORT=587\n# SMTP_USER=your-email@gmail.com\n# SMTP_PASSWORD=your-app-password\n# SMTP_FROM=noreply@freelancing-platform.com\n"
    },
    "CONTRACT_CREATION.md": {
      "content": "# Contract Auto-Creation Feature - Implementation Guide\r\n\r\n## Overview\r\n\r\nWhen a client accepts a proposal, the system now **automatically creates a contract** between the client and freelancer. This streamlines the workflow and ensures all accepted proposals have associated contracts ready for work to begin.\r\n\r\n## What Happens When a Proposal is Accepted\r\n\r\n### Automated Workflow (Transaction-based)\r\n\r\n```\r\n1. Accept Proposal (status ‚Üí 'accepted')\r\n   ‚Üì\r\n2. Reject Other Proposals (status ‚Üí 'rejected')\r\n   ‚Üì\r\n3. Update Project Status (status ‚Üí 'awarded')\r\n   ‚Üì\r\n4. CREATE CONTRACT (NEW!)\r\n   ‚îú‚îÄ Contract Type: Matches project type (fixed/hourly)\r\n   ‚îú‚îÄ Amount/Rate: From accepted proposal\r\n   ‚îú‚îÄ Status: 'active'\r\n   ‚îî‚îÄ Links: Project, Client, Freelancer\r\n```\r\n\r\nAll steps happen in a **single database transaction** - if any step fails, everything rolls back.\r\n\r\n## Backend Implementation\r\n\r\n### Updated Accept Proposal Endpoint\r\n\r\n**Endpoint:** `POST /api/proposals/:id/accept`\r\n\r\n**New Response Format:**\r\n\r\n```json\r\n{\r\n  \"success\": true,\r\n  \"message\": \"Proposal accepted successfully and contract created\",\r\n  \"data\": {\r\n    \"proposal\": {\r\n      \"id\": \"proposal-uuid\",\r\n      \"status\": \"accepted\",\r\n      ...\r\n    },\r\n    \"contract\": {\r\n      \"id\": \"contract-uuid\",\r\n      \"status\": \"active\",\r\n      \"contract_type\": \"fixed\",\r\n      \"agreed_amount\": 4200.00,\r\n      ...\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### Contract Creation Logic\r\n\r\n```javascript\r\n// 4. Create a contract automatically\r\ncontractId = randomUUID();\r\n\r\n// Get project details\r\nconst project = await connection.query(\r\n  \"SELECT project_type, client_id, currency FROM projects WHERE id = ?\",\r\n  [proposal.project_id]\r\n);\r\n\r\n// Determine contract parameters based on project type\r\nconst contractType = project.project_type; // 'fixed' or 'hourly'\r\nconst agreedAmount = contractType === \"fixed\" ? proposal.bid_amount : null;\r\nconst hourlyRate = contractType === \"hourly\" ? proposal.hourly_rate : null;\r\n\r\n// Insert contract\r\nawait connection.query(\r\n  `INSERT INTO contracts \r\n   (id, project_id, client_id, freelancer_id, contract_type, \r\n    status, agreed_amount, hourly_rate, currency)\r\n   VALUES (?, ?, ?, ?, ?, 'active', ?, ?, ?)`,\r\n  [\r\n    contractId,\r\n    proposal.project_id,\r\n    project.client_id,\r\n    proposal.freelancer_id,\r\n    contractType,\r\n    agreedAmount,\r\n    hourlyRate,\r\n    project.currency,\r\n  ]\r\n);\r\n```\r\n\r\n### Contract Types\r\n\r\n#### Fixed Price Contract\r\n\r\n- **agreed_amount**: Set to proposal's `bid_amount`\r\n- **hourly_rate**: NULL\r\n- Used when project_type is 'fixed'\r\n\r\n#### Hourly Contract\r\n\r\n- **agreed_amount**: NULL\r\n- **hourly_rate**: Set to proposal's `hourly_rate`\r\n- Used when project_type is 'hourly'\r\n\r\n## New Contracts API\r\n\r\n### Endpoints\r\n\r\n#### GET /api/contracts\r\n\r\nGet all contracts for the authenticated user.\r\n\r\n**Query Parameters:**\r\n\r\n- `project_id` - Filter by project\r\n- `client_id` - Filter by client\r\n- `freelancer_id` - Filter by freelancer\r\n- `status` - Filter by status (active, completed, terminated)\r\n- `limit` - Pagination limit (default: 50)\r\n- `offset` - Pagination offset (default: 0)\r\n\r\n**Authorization:**\r\n\r\n- Clients see only their contracts\r\n- Freelancers see only their contracts\r\n- Admins see all contracts\r\n\r\n#### GET /api/contracts/:id\r\n\r\nGet contract details with milestones.\r\n\r\n**Response includes:**\r\n\r\n- Contract information\r\n- Project details\r\n- Client information\r\n- Freelancer information\r\n- Associated milestones (if any)\r\n\r\n#### PATCH /api/contracts/:id\r\n\r\nUpdate contract status or end date.\r\n\r\n**Body:**\r\n\r\n```json\r\n{\r\n  \"status\": \"completed\",\r\n  \"end_at\": \"2025-11-30T00:00:00Z\"\r\n}\r\n```\r\n\r\n**Valid Status Transitions:**\r\n\r\n- `active` ‚Üí `completed`\r\n- `active` ‚Üí `terminated`\r\n- Cannot change from completed/terminated back to active\r\n\r\n## Frontend Implementation\r\n\r\n### New Pages\r\n\r\n#### 1. MyContracts.jsx (`/contracts`)\r\n\r\nLists all contracts for the current user.\r\n\r\n**Features:**\r\n\r\n- Filter by status (All, Active, Completed, Terminated)\r\n- Shows contract type, amount/rate, parties\r\n- Quick actions: View Details, Mark Complete\r\n- Color-coded status badges\r\n\r\n**Access:**\r\n\r\n- Available to all authenticated users (clients and freelancers)\r\n- Shows in navbar as \"Contracts\"\r\n\r\n#### 2. ContractDetail.jsx (`/contracts/:id`)\r\n\r\nDetailed view of a single contract.\r\n\r\n**Features:**\r\n\r\n- Full contract information\r\n- Client and freelancer details\r\n- Project description\r\n- Milestones list with status\r\n- Actions: Mark Complete, Terminate\r\n\r\n**Sections:**\r\n\r\n- Contract Information (type, amount, dates)\r\n- Parties (client & freelancer details)\r\n- Project Description\r\n- Milestones (if any exist)\r\n\r\n### Enhanced MyProjects.jsx\r\n\r\nWhen accepting a proposal:\r\n\r\n```javascript\r\nconst response = await proposalsAPI.accept(proposalId);\r\nconst { contract } = response.data.data;\r\n\r\nalert(`Proposal accepted successfully!\r\nA contract has been created and is now active.\r\nContract ID: ${contract.id}`);\r\n\r\n// Option to navigate to contract\r\nif (window.confirm(\"Would you like to view the contract now?\")) {\r\n  navigate(`/contracts/${contract.id}`);\r\n}\r\n```\r\n\r\n### Navigation Updates\r\n\r\n**Navbar now includes:**\r\n\r\n```\r\nProjects | My Proposals | My Projects | Contracts | Profile\r\n```\r\n\r\nAvailable to all authenticated users.\r\n\r\n## Database Schema\r\n\r\n### Contracts Table\r\n\r\n```sql\r\nCREATE TABLE contracts (\r\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\r\n    project_id CHAR(36),\r\n    client_id CHAR(36),\r\n    freelancer_id CHAR(36),\r\n    contract_type VARCHAR(50) CHECK (contract_type IN ('fixed', 'hourly')),\r\n    status VARCHAR(50) CHECK (status IN ('active', 'completed', 'terminated')) DEFAULT 'active',\r\n    agreed_amount DECIMAL(10, 2),\r\n    hourly_rate DECIMAL(10, 2),\r\n    currency VARCHAR(3) DEFAULT 'USD',\r\n    start_at DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n    end_at DATETIME,\r\n    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE,\r\n    FOREIGN KEY (client_id) REFERENCES client_profiles (id) ON DELETE CASCADE,\r\n    FOREIGN KEY (freelancer_id) REFERENCES freelancer_profiles (id) ON DELETE CASCADE\r\n);\r\n```\r\n\r\n### Relationship to Proposals\r\n\r\n```\r\nProposal (accepted) ‚îÄ‚îÄ‚îê\r\n                      ‚îú‚îÄ‚îÄ> Contract (active)\r\nProject ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\r\n```\r\n\r\nOne accepted proposal creates one active contract.\r\n\r\n## User Workflows\r\n\r\n### Client Workflow\r\n\r\n1. **Post Project** ‚Üí Status: 'open'\r\n2. **Receive Proposals** from freelancers\r\n3. **Accept Proposal**\r\n   - Proposal status ‚Üí 'accepted'\r\n   - Other proposals ‚Üí 'rejected'\r\n   - Project status ‚Üí 'awarded'\r\n   - **Contract created** ‚Üí 'active'\r\n4. **View Contract** in \"Contracts\" section\r\n5. **Work Begins** - Track via milestones\r\n6. **Mark Complete** when work is done\r\n   - Contract status ‚Üí 'completed'\r\n   - Contract end_at set to current time\r\n\r\n### Freelancer Workflow\r\n\r\n1. **Submit Proposal** for project\r\n2. **Wait for Decision**\r\n3. **Get Notified** (proposal accepted)\r\n4. **View Contract** in \"Contracts\" section\r\n5. **Begin Work** - Deliver milestones\r\n6. **Mark Complete** when finished\r\n\r\n## Status Badges & Colors\r\n\r\n### Contract Status\r\n\r\n| Status     | Color | Meaning                    |\r\n| ---------- | ----- | -------------------------- |\r\n| active     | Green | Contract is ongoing        |\r\n| completed  | Blue  | Work finished successfully |\r\n| terminated | Red   | Contract ended early       |\r\n\r\n### Milestone Status\r\n\r\n| Status    | Color  | Meaning                        |\r\n| --------- | ------ | ------------------------------ |\r\n| funded    | Yellow | Money escrowed, work ready     |\r\n| in_review | Blue   | Deliverable under review       |\r\n| released  | Green  | Payment released to freelancer |\r\n| disputed  | Red    | Issue raised, needs resolution |\r\n\r\n## CSS Styling\r\n\r\n```css\r\n/* Contract statuses */\r\n.status-active {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n  font-weight: 600;\r\n}\r\n\r\n.status-completed {\r\n  background-color: #cce5ff;\r\n  color: #004085;\r\n}\r\n\r\n.status-terminated {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n/* Milestone statuses */\r\n.status-funded {\r\n  background-color: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.status-in-review {\r\n  background-color: #cce5ff;\r\n  color: #004085;\r\n}\r\n\r\n.status-released {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n  font-weight: 600;\r\n}\r\n```\r\n\r\n## Error Handling\r\n\r\n### Backend Validation\r\n\r\nAll existing proposal acceptance validations still apply:\r\n\r\n- User must be project owner\r\n- Proposal must be submitted/shortlisted\r\n- Project must be 'open'\r\n- Cannot accept already-rejected proposals\r\n\r\n**New validation:**\r\n\r\n- Contract creation must succeed within transaction\r\n- Foreign key constraints must be valid\r\n\r\n### Transaction Safety\r\n\r\n```javascript\r\nawait transaction(async (connection) => {\r\n  // 1. Accept proposal\r\n  // 2. Reject others\r\n  // 3. Update project\r\n  // 4. CREATE CONTRACT ‚Üê If this fails, all rolls back\r\n});\r\n```\r\n\r\nIf contract creation fails (e.g., database error), the entire operation is rolled back:\r\n\r\n- Proposal remains in original state\r\n- Other proposals not rejected\r\n- Project status unchanged\r\n\r\n## Testing Checklist\r\n\r\n### Backend\r\n\r\n- [x] Accept proposal creates contract\r\n- [x] Contract type matches project type\r\n- [x] Fixed price contract has agreed_amount\r\n- [x] Hourly contract has hourly_rate\r\n- [x] Contract status is 'active' on creation\r\n- [x] Contract links to correct project, client, freelancer\r\n- [x] Transaction rolls back on contract creation failure\r\n- [x] Contracts API requires authentication\r\n- [x] Contracts filtered by user role\r\n- [x] Contract update validates permissions\r\n\r\n### Frontend\r\n\r\n- [x] Contracts link in navbar\r\n- [x] MyContracts page loads contracts\r\n- [x] Status filters work correctly\r\n- [x] Contract detail page shows all info\r\n- [x] Mark complete action works\r\n- [x] Navigate to contract after acceptance\r\n- [x] Status badges display correctly\r\n- [x] Milestones display if present\r\n\r\n## API Examples\r\n\r\n### Accept Proposal & Create Contract\r\n\r\n```bash\r\nPOST /api/proposals/{proposalId}/accept\r\nAuthorization: Bearer <client-token>\r\n```\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"success\": true,\r\n  \"message\": \"Proposal accepted successfully and contract created\",\r\n  \"data\": {\r\n    \"proposal\": {\r\n      \"id\": \"abc-123\",\r\n      \"status\": \"accepted\",\r\n      \"bid_amount\": 4200.0\r\n    },\r\n    \"contract\": {\r\n      \"id\": \"contract-456\",\r\n      \"project_id\": \"project-789\",\r\n      \"client_id\": \"client-111\",\r\n      \"freelancer_id\": \"freelancer-222\",\r\n      \"contract_type\": \"fixed\",\r\n      \"status\": \"active\",\r\n      \"agreed_amount\": 4200.0,\r\n      \"hourly_rate\": null,\r\n      \"currency\": \"USD\",\r\n      \"start_at\": \"2025-10-29T15:30:00Z\",\r\n      \"end_at\": null\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### Get All Contracts\r\n\r\n```bash\r\nGET /api/contracts?status=active\r\nAuthorization: Bearer <token>\r\n```\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"success\": true,\r\n  \"data\": [\r\n    {\r\n      \"id\": \"contract-456\",\r\n      \"project_title\": \"React Dashboard Revamp\",\r\n      \"client_name\": \"Jane Smith\",\r\n      \"company_name\": \"Bright Pixel Labs\",\r\n      \"freelancer_name\": \"John Doe\",\r\n      \"contract_type\": \"fixed\",\r\n      \"status\": \"active\",\r\n      \"agreed_amount\": 4200.0,\r\n      \"start_at\": \"2025-10-29T15:30:00Z\"\r\n    }\r\n  ],\r\n  \"count\": 1\r\n}\r\n```\r\n\r\n### Get Contract Details\r\n\r\n```bash\r\nGET /api/contracts/contract-456\r\nAuthorization: Bearer <token>\r\n```\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"success\": true,\r\n  \"data\": {\r\n    \"id\": \"contract-456\",\r\n    \"project_title\": \"React Dashboard Revamp\",\r\n    \"project_description\": \"Update an existing SaaS analytics dashboard...\",\r\n    \"client_name\": \"Jane Smith\",\r\n    \"client_email\": \"jane.client@example.com\",\r\n    \"company_name\": \"Bright Pixel Labs\",\r\n    \"freelancer_name\": \"John Doe\",\r\n    \"freelancer_email\": \"john.freelancer@example.com\",\r\n    \"freelancer_bio\": \"Full-stack developer specialising in React...\",\r\n    \"freelancer_rating\": 4.9,\r\n    \"contract_type\": \"fixed\",\r\n    \"status\": \"active\",\r\n    \"agreed_amount\": 4200.0,\r\n    \"currency\": \"USD\",\r\n    \"start_at\": \"2025-10-29T15:30:00Z\",\r\n    \"milestones\": [\r\n      {\r\n        \"id\": \"milestone-1\",\r\n        \"title\": \"Discovery & Wireframes\",\r\n        \"status\": \"funded\",\r\n        \"amount\": 1800.0,\r\n        \"due_at\": \"2025-11-05T00:00:00Z\"\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n## Future Enhancements\r\n\r\n### Phase 2 Features\r\n\r\n1. **Automatic Milestone Creation**\r\n\r\n   - Create first milestone when contract is created\r\n   - Based on proposal's estimated_hours or bid_amount\r\n\r\n2. **Contract Templates**\r\n\r\n   - Predefined terms and conditions\r\n   - Customizable per project type\r\n\r\n3. **E-signatures**\r\n\r\n   - Digital signature requirement\r\n   - Contract becomes binding after both parties sign\r\n\r\n4. **Contract Amendments**\r\n\r\n   - Modify terms with mutual consent\r\n   - Version history tracking\r\n\r\n5. **Time Tracking** (for hourly contracts)\r\n\r\n   - Log hours worked\r\n   - Calculate amount owed\r\n   - Generate invoices\r\n\r\n6. **Notifications**\r\n   - Email freelancer when contract created\r\n   - Remind about upcoming milestones\r\n   - Notify when contract completed\r\n\r\n## Conclusion\r\n\r\nThe contract auto-creation feature provides:\r\n\r\n‚úÖ **Seamless Workflow** - No manual contract creation needed  \r\n‚úÖ **Data Integrity** - Transaction-based, all-or-nothing  \r\n‚úÖ **Clear Status Tracking** - Visual indicators throughout  \r\n‚úÖ **Complete API** - CRUD operations for contracts  \r\n‚úÖ **User-Friendly UI** - Easy navigation and management  \r\n‚úÖ **Future-Ready** - Foundation for milestones, payments, etc.\r\n\r\nThe system now has a complete proposal ‚Üí contract ‚Üí work cycle ready for production use!\r\n"
    },
    "docker-compose.dev.yml": {
      "content": "version: '3.8'\r\n\r\n# Development override configuration for hot reload/watch mode\r\n# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up\r\n\r\nservices:\r\n  app:\r\n    # Use legacy watch mode for file changes\r\n    environment:\r\n      NODE_ENV: development\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    # Ensure volume mounts for code sync\r\n    volumes:\r\n      - ./src:/app/src\r\n      - ./node_modules:/app/node_modules\r\n      - /app/.nodemon.json\r\n    stdin_open: true\r\n    tty: true\r\n    # Override with watch-enabled command\r\n    command: npx nodemon --watch src --ext js --delay 500 src/server.js\r\n\r\n  client:\r\n    environment:\r\n      VITE_HMR_HOST: localhost\r\n      VITE_HMR_PORT: 5173\r\n    # Ensure volume mounts for code sync\r\n    volumes:\r\n      - ./client/src:/app/src\r\n      - ./client/public:/app/public\r\n      - ./client/index.html:/app/index.html\r\n      - ./client/vite.config.js:/app/vite.config.js\r\n      - /app/node_modules\r\n    stdin_open: true\r\n    tty: true\r\n"
    },
    "docker-compose.yml": {
      "content": "version: '3.8'\n\nservices:\n  # MySQL Database\n  mysql:\n    image: mysql:8.0\n    container_name: freelance_mysql\n    restart: unless-stopped\n    environment:\n      MYSQL_ROOT_PASSWORD: ${DB_PASSWORD:-root123}\n      MYSQL_DATABASE: ${DB_NAME:-freelance_platform}\n      MYSQL_USER: ${DB_USER:-freelance_user}\n      MYSQL_PASSWORD: ${DB_PASSWORD:-root123}\n    ports:\n      - \"${DB_PORT:-3306}:3306\"\n    volumes:\n      - mysql_data:/var/lib/mysql\n      - ./src/db/schema.sql:/docker-entrypoint-initdb.d/01-schema.sql\n    networks:\n      - freelance_network\n    healthcheck:\n      test: [\"CMD\", \"mysqladmin\", \"ping\", \"-h\", \"localhost\", \"-u\", \"root\", \"-p${DB_PASSWORD:-root123}\"]\n      timeout: 20s\n      retries: 10\n\n  # Node.js Application (optional - can run locally too)\n  app:\n    build: .\n    container_name: freelance_app\n    restart: unless-stopped\n    ports:\n      - \"${PORT:-3000}:3000\"\n    environment:\n      NODE_ENV: ${NODE_ENV:-development}\n      PORT: ${PORT:-3000}\n      DB_USER: ${DB_USER:-freelance_user}\n      DB_HOST: mysql\n      DB_NAME: ${DB_NAME:-freelance_platform}\n      DB_PASSWORD: ${DB_PASSWORD:-root123}\n      DB_PORT: 3306\n      JWT_SECRET: ${JWT_SECRET}\n      JWT_REFRESH_SECRET: ${JWT_REFRESH_SECRET}\n      JWT_EXPIRES_IN: ${JWT_EXPIRES_IN:-15m}\n      JWT_REFRESH_EXPIRES_IN: ${JWT_REFRESH_EXPIRES_IN:-7d}\n      CLIENT_URL: ${CLIENT_URL:-http://localhost:5173}\n    depends_on:\n      mysql:\n        condition: service_healthy\n    networks:\n      - freelance_network\n    volumes:\n      - ./src:/app/src\n      - ./node_modules:/app/node_modules\n    command: npm run dev\n    stdin_open: true\n    tty: true\n\n  # React Client Application\n  client:\n    build:\n      context: ./client\n      dockerfile: Dockerfile\n    container_name: freelance_client\n    restart: unless-stopped\n    ports:\n      - \"${CLIENT_PORT:-5173}:5173\"\n    depends_on:\n      - app\n    networks:\n      - freelance_network\n    volumes:\n      - ./client:/app\n      - /app/node_modules\n    command: npm run dev -- --host 0.0.0.0 --port 5173\n\nvolumes:\n  mysql_data:\n    driver: local\n\nnetworks:\n  freelance_network:\n    driver: bridge\n"
    },
    "CLAUDE.md": {
      "content": "# CLAUDE.md\n\nThis file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n## Project Overview\n\nA full-stack freelancing platform with Node.js/Express RESTful API backend, MySQL database, and React frontend. The backend exclusively uses raw SQL queries via the `mysql2` library - no ORM is used.\n\n**Key Features:**\n- JWT authentication with refresh tokens\n- Role-based access control (freelancer, client, admin)\n- Input validation with express-validator\n- Rate limiting for auth endpoints\n- React frontend with Vite\n\n## Essential Commands\n\n### Development with Docker (Recommended)\n```bash\n# Start all services (MySQL + Node.js app)\ndocker-compose up\n\n# Start only MySQL (run app locally)\ndocker-compose up mysql\n\n# Stop services\ndocker-compose down\n\n# View logs\ndocker-compose logs -f\n```\n\n### Development without Docker\n\n**Backend:**\n```bash\nnpm install              # Install dependencies\nnpm run dev              # Start with auto-reload (nodemon)\nnpm start                # Start in production mode\nnpm run init-db          # Initialize database schema\nnpm run seed             # Seed database with sample data\nnpm run db:reset         # Reset database (init + seed)\n```\n\n**Frontend (in /client directory):**\n```bash\ncd client\nnpm install              # Install frontend dependencies\nnpm run dev              # Start React dev server (port 5173)\nnpm run build            # Build for production\n```\n\n### Database Setup\n\n**Option 1: Using Docker (Recommended)**\n```bash\n# Start MySQL container (automatically runs schema and seed files)\ndocker-compose up mysql\n\n# The schema and seed files are automatically loaded on first run\n```\n\n**Option 2: Manual MySQL Setup**\n```bash\n# Create database\nmysql -u root -p -e \"CREATE DATABASE freelance_platform\"\n\n# Run schema (creates tables)\nmysql -u root -p freelance_platform < src/db/schema.sql\n\n# Seed data (optional)\nmysql -u root -p freelance_platform < src/db/seed.sql\n```\n\n### Environment Configuration\n\n**Backend (.env):**\nCopy `.env.example` to `.env` and configure:\n- Database credentials (use `DB_HOST=mysql` for Docker, `localhost` for local)\n- JWT secrets (generate with: `node -e \"console.log(require('crypto').randomBytes(64).toString('hex'))\"`)\n- JWT token expiration times\n- Client URL for CORS\n\n**Frontend (client/.env):**\nConfigure API base URL (typically `http://localhost:3000`)\n\n## Architecture\n\n### Authentication & Authorization\n\nThe application uses JWT-based authentication with refresh tokens. All auth logic is in [src/routes/auth.js](src/routes/auth.js) and [src/middleware/auth.js](src/middleware/auth.js).\n\n**Auth Endpoints:**\n- `POST /api/auth/register` - Register new user (rate limited: 3 per hour)\n- `POST /api/auth/login` - Login (rate limited: 5 per 15 min)\n- `POST /api/auth/refresh` - Refresh access token using refresh token\n- `POST /api/auth/logout` - Logout and revoke refresh token\n- `POST /api/auth/logout-all` - Logout from all devices\n- `GET /api/auth/me` - Get current user info (requires authentication)\n\n**Authentication Middleware:**\n```javascript\nconst { authenticate, authorize, verifyOwnership, optionalAuth } = require('../middleware/auth');\n\n// Require authentication\nrouter.get('/protected', authenticate, handler);\n\n// Require specific role\nrouter.post('/projects', authenticate, authorize('client'), handler);\n\n// Verify user owns resource (admin bypass)\nrouter.patch('/users/:id', authenticate, verifyOwnership(), handler);\n\n// Optional auth (req.user set to null if no token)\nrouter.get('/projects', optionalAuth, handler);\n```\n\n**Key Points:**\n- Access tokens expire in 15 minutes (configurable via JWT_EXPIRES_IN)\n- Refresh tokens expire in 7 days (configurable via JWT_REFRESH_EXPIRES_IN)\n- Refresh tokens are stored in database and can be revoked\n- Passwords are hashed with bcrypt (10 salt rounds)\n- Rate limiting on login/register prevents brute force attacks\n- Authorization middleware supports role-based access control\n\n### Validation\n\nInput validation uses express-validator. See [src/middleware/validate.js](src/middleware/validate.js).\n\n**Pattern for adding validation:**\n```javascript\nconst { body, param, query } = require('express-validator');\nconst { validate } = require('../middleware/validate');\n\nrouter.post('/endpoint',\n  [\n    body('email').isEmail().normalizeEmail(),\n    body('password').isLength({ min: 8 })\n  ],\n  validate,  // Must come after validators, before handler\n  handler\n);\n```\n\n**Validation error response format:**\n```json\n{\n  \"success\": false,\n  \"message\": \"Validation failed\",\n  \"errors\": [\n    { \"field\": \"email\", \"message\": \"Invalid email\", \"value\": \"bad-email\" }\n  ]\n}\n```\n\n### Database Query Pattern\n\nAll database operations use the query utilities in [src/db/queries.js](src/db/queries.js).\n\n**Query results format:** All queries return PostgreSQL-like format: `{ rows, fields, rowCount }`\n\n**Simple queries:**\n```javascript\nconst { query } = require('../db/queries');\nconst result = await query('SELECT * FROM users WHERE email = ?', [email]);\n```\n\n**Transactions:**\n```javascript\nconst { transaction } = require('../db/queries');\nconst result = await transaction(async (connection) => {\n  await connection.query('INSERT INTO users ...');\n  await connection.query('INSERT INTO freelancer_profiles ...');\n  return someValue;\n});\n```\n\nAlways use parameterized queries (`?` placeholders) to prevent SQL injection.\n\n### Route Structure\n\nRoutes are organized by resource in [src/routes/](src/routes/):\n- Each route file exports an Express router\n- All routes are mounted under `/api` prefix via [src/routes/index.js](src/routes/index.js)\n- Route handlers use async/await and pass errors to Express error handler via `next(error)`\n\n**Standard route handler pattern:**\n```javascript\nrouter.get('/:id', async (req, res, next) => {\n  try {\n    const result = await query('SELECT ...', [req.params.id]);\n    if (result.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Not found' });\n    }\n    res.json({ success: true, data: result.rows[0] });\n  } catch (error) {\n    next(error);  // Pass to global error handler\n  }\n});\n```\n\n### Error Handling\n\nGlobal error handler in [src/middleware/errorHandler.js](src/middleware/errorHandler.js) handles MySQL errors:\n- `ER_DUP_ENTRY` - Unique constraint violation (409 Conflict)\n- `ER_NO_REFERENCED_ROW_2` / `ER_ROW_IS_REFERENCED_2` - Foreign key violation (400 Bad Request)\n- `ER_BAD_NULL_ERROR` - NOT NULL violation (400 Bad Request)\n- `ER_TRUNCATED_WRONG_VALUE` - Invalid data format (400 Bad Request)\n- `ER_DATA_TOO_LONG` - Data too long (400 Bad Request)\n\nAlways use `next(error)` in route handlers to trigger this middleware.\n\n### Database Schema Key Points\n\nLocated in [src/db/schema.sql](src/db/schema.sql):\n\n- **UUIDs**: All IDs are CHAR(36) UUIDs generated via `UUID()` function\n- **Role-based profiles**: Users have a `role` field ('freelancer', 'client', 'admin'), with separate `freelancer_profiles` and `client_profiles` tables\n- **Authentication tables**: `users` stores password_hash; `refresh_tokens` tracks active refresh tokens with revocation support\n- **Cascading deletes**: Most foreign keys use `ON DELETE CASCADE`\n- **JSON fields**: Used for flexible data like `availability` in freelancer profiles\n- **Junction tables**: Many-to-many relationships use junction tables (e.g., `freelancer_skills`, `project_skills`)\n- **MySQL 8.0+**: Requires MySQL 8.0 or higher for CHECK constraints and improved UUID support\n\n### Creating New Routes\n\nWhen adding new resource endpoints:\n1. Create a new router file in [src/routes/](src/routes/)\n2. Import and mount in [src/routes/index.js](src/routes/index.js)\n3. Add authentication/authorization middleware as needed\n4. Add validation middleware for input validation\n5. Use the standard async/await + error forwarding pattern\n6. Return consistent response format: `{ success: boolean, data?: any, message?: string }`\n\n**Example with auth and validation:**\n```javascript\nconst { authenticate, authorize } = require('../middleware/auth');\nconst { body } = require('express-validator');\nconst { validate } = require('../middleware/validate');\n\nrouter.post('/',\n  authenticate,                          // Require authentication\n  authorize('client'),                   // Require specific role\n  [body('title').notEmpty()],           // Validation rules\n  validate,                              // Validation middleware\n  async (req, res, next) => {           // Route handler\n    try {\n      // Access authenticated user via req.user\n      const result = await query('INSERT INTO ...', [...]);\n      res.status(201).json({ success: true, data: result.rows[0] });\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n```\n\n### Database Queries Best Practices\n\n1. **Use COALESCE or IFNULL for partial updates:**\n   ```javascript\n   UPDATE users SET first_name = COALESCE(?, first_name) WHERE id = ?\n   ```\n\n2. **Check rows.length for existence:**\n   ```javascript\n   const result = await query('SELECT ...', [id]);\n   if (result.rows.length === 0) {\n     return res.status(404).json({ success: false, message: 'Not found' });\n   }\n   ```\n\n3. **Use LAST_INSERT_ID() for new records:**\n   ```javascript\n   const result = await query('INSERT INTO users (...) VALUES (...)', [values]);\n   const insertId = result.rows.insertId;\n   ```\n\n4. **Use transactions for multi-table operations:**\n   Any operation that creates/updates multiple related records should use the `transaction()` utility.\n\n## Server Configuration\n\n**Backend Express app** in [src/server.js](src/server.js) uses:\n- **helmet** - Security headers\n- **cors** - CORS support (configured via CLIENT_URL env variable)\n- **morgan** - Request logging in 'dev' format\n- **express.json()** - JSON body parsing\n- **express.urlencoded()** - URL-encoded body parsing\n- **cookie-parser** - Parse cookies for future use\n- **express-rate-limit** - Rate limiting on auth routes\n\n**Database connection pool** in [src/config/database.js](src/config/database.js):\n- Max 20 connections (connectionLimit)\n- Wait for connections enabled\n- Keep-alive enabled\n\n## Frontend Architecture\n\nReact application located in [client/](client/) directory:\n- **Build tool**: Vite\n- **Routing**: React Router v6\n- **HTTP client**: Axios with automatic token refresh interceptor\n- **State management**: React Context for authentication state\n- **Structure**:\n  - [client/src/components/](client/src/components/) - Reusable UI components\n  - [client/src/pages/](client/src/pages/) - Page components\n  - [client/src/context/](client/src/context/) - React Context providers\n  - [client/src/services/](client/src/services/) - API integration layer\n\n**Key Features:**\n- Automatic JWT token refresh on 401 responses\n- Protected routes with authentication checks\n- Form validation before API submission\n- Responsive design with vanilla CSS\n\n## Adding New Database Tables\n\n1. Add CREATE TABLE statement to [src/db/schema.sql](src/db/schema.sql)\n2. Use UUID primary keys: `id CHAR(36) PRIMARY KEY DEFAULT (UUID())`\n3. Add foreign key constraints with `ON DELETE CASCADE` or `ON DELETE SET NULL` as appropriate\n4. Add CHECK constraints for enum-like columns (requires MySQL 8.0+)\n5. Add ENGINE=InnoDB and charset: `ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci`\n6. Re-run schema file to recreate database:\n   - Docker: `docker-compose down -v && docker-compose up mysql`\n   - Manual: `mysql -u root -p freelance_platform < src/db/schema.sql`\n"
    },
    "AUTH_ANALYSIS.md": {
      "content": "# Authentication & Authorization Security Analysis\n\n## Problem Fixed: Login 401 Error\n\n### Root Cause\nYour seed file ([src/db/seed.js](src/db/seed.js)) was using **fake password hashes** like `'hashed_password_jane'` instead of real bcrypt hashes. When users tried to log in, `bcrypt.compare()` failed because it expected actual bcrypt hashes, not plain text strings.\n\n### What Was Happening\n1. User submits login with email + password\n2. Backend finds user in database\n3. Backend calls `bcrypt.compare(password, 'hashed_password_jane')`\n4. Bcrypt detects this isn't a valid hash ‚Üí returns false\n5. Backend returns 401 Unauthorized\n6. Frontend auto-refresh interceptor detects 401 ‚Üí tries to refresh token\n7. No valid token exists ‚Üí refresh fails ‚Üí repeated 401s\n\n### Solution Applied\n‚úÖ Generated real bcrypt hashes for all seed users\n‚úÖ Updated [src/db/seed.js](src/db/seed.js) with proper hashes\n‚úÖ Reseeded database with new hashes\n‚úÖ Created [SEED_CREDENTIALS.md](SEED_CREDENTIALS.md) with test credentials\n\n---\n\n## Test Login Credentials\n\n### Quick Test - Freelancer Account\n```\nEmail: john.freelancer@example.com\nPassword: Password123!\n```\n\n### Quick Test - Client Account\n```\nEmail: jane.client@example.com\nPassword: Password123!\n```\n\n### Quick Test - Admin Account\n```\nEmail: ava.admin@example.com\nPassword: Admin123!\n```\n\nSee [SEED_CREDENTIALS.md](SEED_CREDENTIALS.md) for all 6 test accounts.\n\n---\n\n## Frontend Auto-Refresh Behavior\n\n### Current Implementation\n[client/src/services/api.js:27-73](client/src/services/api.js#L27-L73)\n\n**Response Interceptor Flow:**\n1. API call fails with 401\n2. Check if this is a retry attempt (prevents infinite loop)\n3. Get refresh token from localStorage\n4. Call `/api/auth/refresh` to get new access token\n5. If successful: Retry original request with new token\n6. If failed: Logout user and redirect to login page\n\n### Why It Was \"Refreshing\" Before\nThe interceptor was detecting 401 responses and attempting to refresh, but since login never succeeded, there was no valid refresh token. This caused the interceptor to immediately fail and clear auth state, creating a loop of failed requests.\n\n### Now Fixed\nWith proper bcrypt hashes, login succeeds ‚Üí valid tokens issued ‚Üí refresh works correctly.\n\n---\n\n## Security Analysis Summary\n\n### ‚úÖ What's Working Well\n\n1. **Password Hashing:** bcrypt with cost factor 10 (industry standard)\n2. **JWT Tokens:** Proper implementation with separate secrets for access/refresh\n3. **Token Refresh:** Short-lived access tokens (15m) with long-lived refresh tokens (7d)\n4. **Authorization Middleware:** Clean RBAC with 3 roles (freelancer, client, admin)\n5. **Ownership Verification:** Users can only modify their own resources\n6. **Rate Limiting:** Login (5/15min) and registration (3/hour) protected\n7. **Input Validation:** express-validator on all endpoints\n8. **SQL Injection Prevention:** Parameterized queries throughout\n9. **Error Messages:** Generic \"Invalid credentials\" prevents user enumeration\n\n### ‚ö†Ô∏è Security Recommendations\n\n#### üî¥ HIGH PRIORITY\n\n**1. XSS Vulnerability - Token Storage**\n- **Current:** Tokens stored in localStorage (vulnerable to XSS)\n- **Location:** [client/src/context/AuthContext.jsx:48-50](client/src/context/AuthContext.jsx#L48-L50)\n- **Risk:** If attacker injects malicious JavaScript, they can steal tokens\n- **Fix:** Use httpOnly, Secure, SameSite cookies instead\n  ```javascript\n  // Backend sends cookie instead of token in response body\n  res.cookie('accessToken', token, {\n    httpOnly: true,  // JavaScript can't access\n    secure: true,    // HTTPS only\n    sameSite: 'strict' // CSRF protection\n  });\n  ```\n\n#### üü° MEDIUM PRIORITY\n\n**2. Email Verification Not Enforced**\n- **Current:** `is_verified` field exists but not required\n- **Fix:** Add middleware to check verification status\n  ```javascript\n  const requireVerified = (req, res, next) => {\n    if (!req.user.is_verified) {\n      return res.status(403).json({\n        success: false,\n        message: 'Email verification required'\n      });\n    }\n    next();\n  };\n  ```\n\n**3. No Password Reset Flow**\n- **Missing:** Forgot password functionality\n- **Fix:** Add endpoints:\n  - `POST /api/auth/forgot-password` - Send reset email\n  - `POST /api/auth/reset-password/:token` - Reset with token\n\n**4. Account Lockout**\n- **Current:** Rate limiting slows attacks but doesn't lock accounts\n- **Fix:** Lock account for 30 minutes after 5 failed login attempts\n  ```javascript\n  // Add to users table: failed_login_attempts, locked_until\n  ```\n\n#### üü¢ LOW PRIORITY\n\n**5. Audit Logging**\n- **Missing:** No logging of auth events\n- **Fix:** Log all authentication events to separate table\n  ```sql\n  CREATE TABLE auth_logs (\n    id CHAR(36) PRIMARY KEY,\n    user_id CHAR(36),\n    event_type VARCHAR(50), -- 'login', 'logout', 'failed_login', 'token_refresh'\n    ip_address VARCHAR(45),\n    user_agent TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n  );\n  ```\n\n**6. Token Cleanup**\n- **Missing:** Expired refresh tokens not deleted\n- **Fix:** Add cron job to delete expired tokens\n  ```javascript\n  // Run daily\n  DELETE FROM refresh_tokens WHERE expires_at < NOW() AND revoked = TRUE;\n  ```\n\n**7. Two-Factor Authentication**\n- **Missing:** Single-factor authentication only\n- **Fix:** Add optional TOTP-based 2FA\n\n---\n\n## Architecture Overview\n\n### Backend Files\n- **[src/middleware/auth.js](src/middleware/auth.js)** - Core auth middleware\n  - `authenticate` - JWT verification (lines 8-69)\n  - `authorize(...roles)` - Role-based access control (lines 104-122)\n  - `verifyOwnership` - Resource ownership checks (lines 129-155)\n  - `optionalAuth` - Non-failing auth for public endpoints (lines 75-98)\n\n- **[src/routes/auth.js](src/routes/auth.js)** - Auth endpoints\n  - `POST /api/auth/register` - User registration (lines 71-201)\n  - `POST /api/auth/login` - User login (lines 207-286)\n  - `POST /api/auth/refresh` - Token refresh (lines 292-367)\n  - `POST /api/auth/logout` - Single device logout (lines 373-388)\n  - `POST /api/auth/logout-all` - All devices logout (lines 394-413)\n  - `GET /api/auth/me` - Current user info (lines 419-458)\n\n### Frontend Files\n- **[client/src/context/AuthContext.jsx](client/src/context/AuthContext.jsx)** - Auth state management\n  - Provides: `user`, `isAuthenticated`, `isFreelancer`, `isClient`, `isAdmin`\n  - Methods: `login()`, `logout()`, `updateUser()`\n\n- **[client/src/services/api.js](client/src/services/api.js)** - API client\n  - Request interceptor: Adds `Authorization: Bearer <token>` header\n  - Response interceptor: Auto-refreshes expired tokens\n\n- **[client/src/App.jsx](client/src/App.jsx)** - Route protection\n  - `ProtectedRoute` component wraps authenticated routes\n\n### Database Schema\n- **users** - Core user data with password_hash\n- **refresh_tokens** - Tracks issued refresh tokens with revocation support\n- **freelancer_profiles** - Freelancer-specific data\n- **client_profiles** - Client-specific data\n\n---\n\n## Testing Authentication\n\n### 1. Test Login Flow\n```bash\n# Using curl\ncurl -X POST http://localhost:3000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"john.freelancer@example.com\",\n    \"password\": \"Password123!\"\n  }'\n\n# Expected response:\n# {\n#   \"success\": true,\n#   \"data\": {\n#     \"user\": { ... },\n#     \"accessToken\": \"eyJhbGc...\",\n#     \"refreshToken\": \"eyJhbGc...\"\n#   }\n# }\n```\n\n### 2. Test Protected Endpoint\n```bash\n# Get current user (requires authentication)\ncurl -X GET http://localhost:3000/api/auth/me \\\n  -H \"Authorization: Bearer YOUR_ACCESS_TOKEN\"\n```\n\n### 3. Test Token Refresh\n```bash\n# Refresh access token\ncurl -X POST http://localhost:3000/api/auth/refresh \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"refreshToken\": \"YOUR_REFRESH_TOKEN\"\n  }'\n```\n\n### 4. Test Role-Based Access\n```bash\n# Try creating a project as a freelancer (should fail with 403)\ncurl -X POST http://localhost:3000/api/projects \\\n  -H \"Authorization: Bearer FREELANCER_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{ \"title\": \"Test Project\" }'\n\n# Try creating a project as a client (should succeed)\ncurl -X POST http://localhost:3000/api/projects \\\n  -H \"Authorization: Bearer CLIENT_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{ \"title\": \"Test Project\", ... }'\n```\n\n---\n\n## Security Score: 8/10\n\n| Category | Score | Status |\n|----------|-------|--------|\n| Password Security | 9/10 | ‚úÖ Excellent (bcrypt, strong requirements) |\n| JWT Implementation | 8/10 | ‚úÖ Very Good (proper structure, refresh tokens) |\n| Authorization (RBAC) | 8/10 | ‚úÖ Very Good (3 roles, ownership checks) |\n| Input Validation | 8/10 | ‚úÖ Very Good (express-validator throughout) |\n| Token Storage | 5/10 | ‚ö†Ô∏è Risk (localStorage vulnerable to XSS) |\n| Rate Limiting | 7/10 | ‚úÖ Good (login/register protected) |\n| Error Handling | 9/10 | ‚úÖ Excellent (generic messages, no enumeration) |\n| **Overall** | **8/10** | ‚úÖ **Production-Ready with Minor Improvements** |\n\n---\n\n## Next Steps\n\n1. ‚úÖ **DONE:** Fixed seed data with real bcrypt hashes\n2. ‚úÖ **DONE:** Created test credentials documentation\n3. ‚è≠Ô∏è **TODO:** Consider moving tokens from localStorage to httpOnly cookies\n4. ‚è≠Ô∏è **TODO:** Implement email verification flow\n5. ‚è≠Ô∏è **TODO:** Add password reset functionality\n6. ‚è≠Ô∏è **TODO:** Implement account lockout after failed attempts\n7. ‚è≠Ô∏è **TODO:** Add audit logging for authentication events\n\n---\n\n## Files Created/Modified\n\n### Created\n- ‚úÖ [src/db/generateHashes.js](src/db/generateHashes.js) - Script to generate bcrypt hashes\n- ‚úÖ [SEED_CREDENTIALS.md](SEED_CREDENTIALS.md) - Test account credentials\n- ‚úÖ [AUTH_ANALYSIS.md](AUTH_ANALYSIS.md) - This file\n\n### Modified\n- ‚úÖ [src/db/seed.js](src/db/seed.js) - Updated lines 91-159 with real bcrypt hashes\n\n---\n\n**Your authentication system is now fully functional!** üéâ\n\nTry logging in with any of the credentials from [SEED_CREDENTIALS.md](SEED_CREDENTIALS.md).\n"
    },
    "AGENTS.md": {
      "content": "# CLAUDE.md\r\n\r\nThis file provides guidance to LLM agents when working with code in this repository.\r\n\r\n## Project Overview\r\n\r\nA full-stack freelancing platform with Node.js/Express RESTful API backend, MySQL database, and React frontend. The backend exclusively uses raw SQL queries via the `mysql2` library - no ORM is used.\r\n\r\n**Key Features:**\r\n\r\n- JWT authentication with refresh tokens\r\n- Role-based access control (freelancer, client, admin)\r\n- Input validation with express-validator\r\n- Rate limiting for auth endpoints\r\n- React frontend with Vite\r\n\r\n## Essential Commands\r\n\r\n### Development with Docker (Recommended)\r\n\r\n```bash\r\n# Start all services (MySQL + Node.js app)\r\ndocker-compose up\r\n\r\n# Start only MySQL (run app locally)\r\ndocker-compose up mysql\r\n\r\n# Stop services\r\ndocker-compose down\r\n\r\n# View logs\r\ndocker-compose logs -f\r\n```\r\n\r\n### Development without Docker\r\n\r\n**Backend:**\r\n\r\n```bash\r\nnpm install              # Install dependencies\r\nnpm run dev              # Start with auto-reload (nodemon)\r\nnpm start                # Start in production mode\r\nnpm run init-db          # Initialize database schema\r\nnpm run seed             # Seed database with sample data\r\nnpm run db:reset         # Reset database (init + seed)\r\n```\r\n\r\n**Frontend (in /client directory):**\r\n\r\n```bash\r\ncd client\r\nnpm install              # Install frontend dependencies\r\nnpm run dev              # Start React dev server (port 5173)\r\nnpm run build            # Build for production\r\n```\r\n\r\n### Database Setup\r\n\r\n**Option 1: Using Docker (Recommended)**\r\n\r\n```bash\r\n# Start MySQL container (automatically runs schema and seed files)\r\ndocker-compose up mysql\r\n\r\n# The schema and seed files are automatically loaded on first run\r\n```\r\n\r\n**Option 2: Manual MySQL Setup**\r\n\r\n```bash\r\n# Create database\r\nmysql -u root -p -e \"CREATE DATABASE freelance_platform\"\r\n\r\n# Run schema (creates tables)\r\nmysql -u root -p freelance_platform < src/db/schema.sql\r\n\r\n# Seed data (optional)\r\nmysql -u root -p freelance_platform < src/db/seed.sql\r\n```\r\n\r\n### Environment Configuration\r\n\r\n**Backend (.env):**\r\nCopy `.env.example` to `.env` and configure:\r\n\r\n- Database credentials (use `DB_HOST=mysql` for Docker, `localhost` for local)\r\n- JWT secrets (generate with: `node -e \"console.log(require('crypto').randomBytes(64).toString('hex'))\"`)\r\n- JWT token expiration times\r\n- Client URL for CORS\r\n\r\n**Frontend (client/.env):**\r\nConfigure API base URL (typically `http://localhost:3000`)\r\n\r\n## Architecture\r\n\r\n### Authentication & Authorization\r\n\r\nThe application uses JWT-based authentication with refresh tokens. All auth logic is in [src/routes/auth.js](src/routes/auth.js) and [src/middleware/auth.js](src/middleware/auth.js).\r\n\r\n**Auth Endpoints:**\r\n\r\n- `POST /api/auth/register` - Register new user (rate limited: 3 per hour)\r\n- `POST /api/auth/login` - Login (rate limited: 5 per 15 min)\r\n- `POST /api/auth/refresh` - Refresh access token using refresh token\r\n- `POST /api/auth/logout` - Logout and revoke refresh token\r\n- `POST /api/auth/logout-all` - Logout from all devices\r\n- `GET /api/auth/me` - Get current user info (requires authentication)\r\n\r\n**Authentication Middleware:**\r\n\r\n```javascript\r\nconst {\r\n  authenticate,\r\n  authorize,\r\n  verifyOwnership,\r\n  optionalAuth,\r\n} = require(\"../middleware/auth\");\r\n\r\n// Require authentication\r\nrouter.get(\"/protected\", authenticate, handler);\r\n\r\n// Require specific role\r\nrouter.post(\"/projects\", authenticate, authorize(\"client\"), handler);\r\n\r\n// Verify user owns resource (admin bypass)\r\nrouter.patch(\"/users/:id\", authenticate, verifyOwnership(), handler);\r\n\r\n// Optional auth (req.user set to null if no token)\r\nrouter.get(\"/projects\", optionalAuth, handler);\r\n```\r\n\r\n**Key Points:**\r\n\r\n- Access tokens expire in 15 minutes (configurable via JWT_EXPIRES_IN)\r\n- Refresh tokens expire in 7 days (configurable via JWT_REFRESH_EXPIRES_IN)\r\n- Refresh tokens are stored in database and can be revoked\r\n- Passwords are hashed with bcrypt (10 salt rounds)\r\n- Rate limiting on login/register prevents brute force attacks\r\n- Authorization middleware supports role-based access control\r\n\r\n### Validation\r\n\r\nInput validation uses express-validator. See [src/middleware/validate.js](src/middleware/validate.js).\r\n\r\n**Pattern for adding validation:**\r\n\r\n```javascript\r\nconst { body, param, query } = require(\"express-validator\");\r\nconst { validate } = require(\"../middleware/validate\");\r\n\r\nrouter.post(\r\n  \"/endpoint\",\r\n  [\r\n    body(\"email\").isEmail().normalizeEmail(),\r\n    body(\"password\").isLength({ min: 8 }),\r\n  ],\r\n  validate, // Must come after validators, before handler\r\n  handler\r\n);\r\n```\r\n\r\n**Validation error response format:**\r\n\r\n```json\r\n{\r\n  \"success\": false,\r\n  \"message\": \"Validation failed\",\r\n  \"errors\": [\r\n    { \"field\": \"email\", \"message\": \"Invalid email\", \"value\": \"bad-email\" }\r\n  ]\r\n}\r\n```\r\n\r\n### Database Query Pattern\r\n\r\nAll database operations use the query utilities in [src/db/queries.js](src/db/queries.js).\r\n\r\n**Query results format:** All queries return PostgreSQL-like format: `{ rows, fields, rowCount }`\r\n\r\n**Simple queries:**\r\n\r\n```javascript\r\nconst { query } = require(\"../db/queries\");\r\nconst result = await query(\"SELECT * FROM users WHERE email = ?\", [email]);\r\n```\r\n\r\n**Transactions:**\r\n\r\n```javascript\r\nconst { transaction } = require(\"../db/queries\");\r\nconst result = await transaction(async (connection) => {\r\n  await connection.query(\"INSERT INTO users ...\");\r\n  await connection.query(\"INSERT INTO freelancer_profiles ...\");\r\n  return someValue;\r\n});\r\n```\r\n\r\nAlways use parameterized queries (`?` placeholders) to prevent SQL injection.\r\n\r\n### Route Structure\r\n\r\nRoutes are organized by resource in [src/routes/](src/routes/):\r\n\r\n- Each route file exports an Express router\r\n- All routes are mounted under `/api` prefix via [src/routes/index.js](src/routes/index.js)\r\n- Route handlers use async/await and pass errors to Express error handler via `next(error)`\r\n\r\n**Standard route handler pattern:**\r\n\r\n```javascript\r\nrouter.get(\"/:id\", async (req, res, next) => {\r\n  try {\r\n    const result = await query(\"SELECT ...\", [req.params.id]);\r\n    if (result.rows.length === 0) {\r\n      return res.status(404).json({ success: false, message: \"Not found\" });\r\n    }\r\n    res.json({ success: true, data: result.rows[0] });\r\n  } catch (error) {\r\n    next(error); // Pass to global error handler\r\n  }\r\n});\r\n```\r\n\r\n### Error Handling\r\n\r\nGlobal error handler in [src/middleware/errorHandler.js](src/middleware/errorHandler.js) handles MySQL errors:\r\n\r\n- `ER_DUP_ENTRY` - Unique constraint violation (409 Conflict)\r\n- `ER_NO_REFERENCED_ROW_2` / `ER_ROW_IS_REFERENCED_2` - Foreign key violation (400 Bad Request)\r\n- `ER_BAD_NULL_ERROR` - NOT NULL violation (400 Bad Request)\r\n- `ER_TRUNCATED_WRONG_VALUE` - Invalid data format (400 Bad Request)\r\n- `ER_DATA_TOO_LONG` - Data too long (400 Bad Request)\r\n\r\nAlways use `next(error)` in route handlers to trigger this middleware.\r\n\r\n### Database Schema Key Points\r\n\r\nLocated in [src/db/schema.sql](src/db/schema.sql):\r\n\r\n- **UUIDs**: All IDs are CHAR(36) UUIDs generated via `UUID()` function\r\n- **Role-based profiles**: Users have a `role` field ('freelancer', 'client', 'admin'), with separate `freelancer_profiles` and `client_profiles` tables\r\n- **Authentication tables**: `users` stores password_hash; `refresh_tokens` tracks active refresh tokens with revocation support\r\n- **Cascading deletes**: Most foreign keys use `ON DELETE CASCADE`\r\n- **JSON fields**: Used for flexible data like `availability` in freelancer profiles\r\n- **Junction tables**: Many-to-many relationships use junction tables (e.g., `freelancer_skills`, `project_skills`)\r\n- **MySQL 8.0+**: Requires MySQL 8.0 or higher for CHECK constraints and improved UUID support\r\n\r\n### Creating New Routes\r\n\r\nWhen adding new resource endpoints:\r\n\r\n1. Create a new router file in [src/routes/](src/routes/)\r\n2. Import and mount in [src/routes/index.js](src/routes/index.js)\r\n3. Add authentication/authorization middleware as needed\r\n4. Add validation middleware for input validation\r\n5. Use the standard async/await + error forwarding pattern\r\n6. Return consistent response format: `{ success: boolean, data?: any, message?: string }`\r\n\r\n**Example with auth and validation:**\r\n\r\n```javascript\r\nconst { authenticate, authorize } = require('../middleware/auth');\r\nconst { body } = require('express-validator');\r\nconst { validate } = require('../middleware/validate');\r\n\r\nrouter.post('/',\r\n  authenticate,                          // Require authentication\r\n  authorize('client'),                   // Require specific role\r\n  [body('title').notEmpty()],           // Validation rules\r\n  validate,                              // Validation middleware\r\n  async (req, res, next) => {           // Route handler\r\n    try {\r\n      // Access authenticated user via req.user\r\n      const result = await query('INSERT INTO ...', [...]);\r\n      res.status(201).json({ success: true, data: result.rows[0] });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  }\r\n);\r\n```\r\n\r\n### Database Queries Best Practices\r\n\r\n1. **Use COALESCE or IFNULL for partial updates:**\r\n\r\n   ```javascript\r\n   UPDATE users SET first_name = COALESCE(?, first_name) WHERE id = ?\r\n   ```\r\n\r\n2. **Check rows.length for existence:**\r\n\r\n   ```javascript\r\n   const result = await query(\"SELECT ...\", [id]);\r\n   if (result.rows.length === 0) {\r\n     return res.status(404).json({ success: false, message: \"Not found\" });\r\n   }\r\n   ```\r\n\r\n3. **Use LAST_INSERT_ID() for new records:**\r\n\r\n   ```javascript\r\n   const result = await query(\"INSERT INTO users (...) VALUES (...)\", [values]);\r\n   const insertId = result.rows.insertId;\r\n   ```\r\n\r\n4. **Use transactions for multi-table operations:**\r\n   Any operation that creates/updates multiple related records should use the `transaction()` utility.\r\n\r\n## Server Configuration\r\n\r\n**Backend Express app** in [src/server.js](src/server.js) uses:\r\n\r\n- **helmet** - Security headers\r\n- **cors** - CORS support (configured via CLIENT_URL env variable)\r\n- **morgan** - Request logging in 'dev' format\r\n- **express.json()** - JSON body parsing\r\n- **express.urlencoded()** - URL-encoded body parsing\r\n- **cookie-parser** - Parse cookies for future use\r\n- **express-rate-limit** - Rate limiting on auth routes\r\n\r\n**Database connection pool** in [src/config/database.js](src/config/database.js):\r\n\r\n- Max 20 connections (connectionLimit)\r\n- Wait for connections enabled\r\n- Keep-alive enabled\r\n\r\n## Frontend Architecture\r\n\r\nReact application located in [client/](client/) directory:\r\n\r\n- **Build tool**: Vite\r\n- **Routing**: React Router v6\r\n- **HTTP client**: Axios with automatic token refresh interceptor\r\n- **State management**: React Context for authentication state\r\n- **Structure**:\r\n  - [client/src/components/](client/src/components/) - Reusable UI components\r\n  - [client/src/pages/](client/src/pages/) - Page components\r\n  - [client/src/context/](client/src/context/) - React Context providers\r\n  - [client/src/services/](client/src/services/) - API integration layer\r\n\r\n**Key Features:**\r\n\r\n- Automatic JWT token refresh on 401 responses\r\n- Protected routes with authentication checks\r\n- Form validation before API submission\r\n- Responsive design with vanilla CSS\r\n\r\n## Adding New Database Tables\r\n\r\n1. Add CREATE TABLE statement to [src/db/schema.sql](src/db/schema.sql)\r\n2. Use UUID primary keys: `id CHAR(36) PRIMARY KEY DEFAULT (UUID())`\r\n3. Add foreign key constraints with `ON DELETE CASCADE` or `ON DELETE SET NULL` as appropriate\r\n4. Add CHECK constraints for enum-like columns (requires MySQL 8.0+)\r\n5. Add ENGINE=InnoDB and charset: `ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci`\r\n6. Re-run schema file to recreate database:\r\n   - Docker: `docker-compose down -v && docker-compose up mysql`\r\n   - Manual: `mysql -u root -p freelance_platform < src/db/schema.sql`\r\n"
    },
    ".claude\\settings.local.json": {
      "content": "{\n  \"permissions\": {\n    \"allow\": [\n      \"Bash(python -m venv:*)\",\n      \"Bash(./venv/Scripts/pip:*)\"\n    ],\n    \"deny\": [],\n    \"ask\": []\n  }\n}\n"
    },
    "SEED_CREDENTIALS.md": {
      "content": "# Seed Database Test Credentials\n\nAfter running the seed script, use these credentials to log in:\n\n## Client Accounts\n\n### Jane Smith (Verified Client)\n- **Email:** `jane.client@example.com`\n- **Password:** `Password123!`\n- **Role:** Client\n- **Company:** Bright Pixel Labs\n- **Projects:** React Dashboard Revamp (open)\n\n### Hiro Tanaka (Verified Client)\n- **Email:** `hiro.client@example.com`\n- **Password:** `Password123!`\n- **Role:** Client\n- **Company:** Sakura Commerce\n- **Projects:** E-commerce API Modernisation (in_progress)\n\n---\n\n## Freelancer Accounts\n\n### John Doe (Verified Freelancer)\n- **Email:** `john.freelancer@example.com`\n- **Password:** `Password123!`\n- **Role:** Freelancer\n- **Skills:** JavaScript, React, Node.js\n- **Hourly Rate:** $65/hour\n- **Active Contracts:** React Dashboard project with Jane\n\n### Priya Patel (Verified Freelancer)\n- **Email:** `priya.freelancer@example.com`\n- **Password:** `Password123!`\n- **Role:** Freelancer\n- **Skills:** Node.js, Python, MySQL\n- **Hourly Rate:** $55/hour\n- **Active Contracts:** E-commerce API project with Hiro\n\n### Carlos Mendez (Unverified Freelancer)\n- **Email:** `carlos.freelancer@example.com`\n- **Password:** `Password123!`\n- **Role:** Freelancer\n- **Skills:** UI/UX Design, React\n- **Hourly Rate:** $45/hour\n- **Status:** ‚ö†Ô∏è Not verified (is_verified = false)\n\n---\n\n## Admin Account\n\n### Ava Wong (Admin)\n- **Email:** `ava.admin@example.com`\n- **Password:** `Admin123!`\n- **Role:** Admin\n- **Permissions:** Full access to all resources\n\n---\n\n## Reseed Database\n\nTo apply these credentials:\n\n```bash\n# Using Docker\ndocker-compose down -v\ndocker-compose up\n\n# Or manually\nnode src/db/seed.js\n```\n\n---\n\n## Password Security\n\nAll passwords are hashed with bcrypt (cost factor: 10). The seed file contains actual bcrypt hashes, not plain text passwords.\n\n**Never use these credentials in production environments.**\n"
    },
    "README.md": {
      "content": "# Freelancing Platform API\n\nA secure RESTful API for a freelancing platform built with Node.js, Express, and MySQL using raw SQL queries with Docker support.\n\n## üîê Security Features (New!)\n\nThis application now includes **production-ready authentication and authorization**:\n\n- ‚úÖ **Secure Password Storage** - Bcrypt hashing with salt\n- ‚úÖ **JWT Authentication** - Access tokens + refresh tokens\n- ‚úÖ **Role-Based Access Control** - Freelancer, Client, Admin roles\n- ‚úÖ **Ownership Verification** - Users can only modify their own resources\n- ‚úÖ **Input Validation** - Comprehensive validation on all endpoints\n- ‚úÖ **Rate Limiting** - Protection against brute force attacks\n- ‚úÖ **Automatic Token Refresh** - Seamless authentication experience\n\n**üìö Documentation:**\n\n- [Security Implementation Guide](./SECURITY_IMPLEMENTATION.md)\n- [Authentication Analysis](./AUTHENTICATION_ANALYSIS.md)\n- [Implementation Summary](./IMPLEMENTATION_SUMMARY.md)\n\n## Features\n\n### Backend API\n\n- **Authentication & Authorization** (JWT-based)\n- User management (freelancers, clients, admins)\n- Project posting and management\n- Proposal submission system\n- Contract and milestone tracking\n- Escrow and payment handling\n- Messaging system\n- Review and rating system\n- Dispute resolution\n\n### Frontend UI (React)\n\n- Secure user authentication (Login/Register with password validation)\n- Browse and filter projects\n- Submit and manage proposals (Freelancers)\n- Create and manage projects (Clients)\n- Review and accept/reject proposals (Clients)\n- Profile management\n- Responsive design\n- Automatic token refresh\n\n## Tech Stack\n\n### Backend\n\n- **Runtime**: Node.js 18\n- **Framework**: Express.js 5\n- **Database**: MySQL 8.0\n- **Query Method**: Raw SQL (using `mysql2` library)\n- **Authentication**: JWT (jsonwebtoken)\n- **Password Hashing**: bcrypt\n- **Validation**: express-validator\n- **Rate Limiting**: express-rate-limit\n- **Containerization**: Docker & Docker Compose\n\n### Frontend\n\n- **Library**: React 18\n- **Build Tool**: Vite\n- **Routing**: React Router v6\n- **HTTP Client**: Axios\n- **Styling**: Vanilla CSS\n\n## Prerequisites\n\n### Option 1: With Docker (Recommended)\n\n- Docker\n- Docker Compose\n\n### Option 2: Without Docker\n\n- Node.js (v18 or higher)\n- MySQL (v8.0 or higher)\n- npm or yarn\n\n## Installation & Setup\n\n### Quick Start with Docker (Recommended)\n\n1. **Clone or navigate to the project:**\n\n```bash\ncd c:\\Rangsit\\dbms\n```\n\n2. **Create environment file:**\n\n```bash\ncopy .env.example .env\n```\n\n3. **Start all services:**\n\n```bash\ndocker-compose up\n```\n\nThe API will be available at `http://localhost:3000` and MySQL at `localhost:3306`.\n\n### Manual Setup (Without Docker)\n\n1. **Install dependencies:**\n\n```bash\nnpm install\n```\n\n2. **Set up environment variables:**\n\n```bash\ncopy .env.example .env\n```\n\nEdit `.env` with your database credentials:\n\n```env\nPORT=3000\nNODE_ENV=development\n\nDB_USER=freelance_user\nDB_HOST=localhost\nDB_NAME=freelance_platform\nDB_PASSWORD=root123\nDB_PORT=3306\n```\n\n3. **Create the database:**\n\n```bash\n# Connect to MySQL\nmysql -u root -p\n\n# Create database\nCREATE DATABASE freelance_platform;\nexit\n```\n\n4. **Run the schema:**\n\n```bash\nmysql -u root -p freelance_platform < src/db/schema.sql\n```\n\n5. **(Optional) Seed the database:**\n\n```bash\n# Using the Node.js seed script (resets sample data)\nnpm run seed\n\n# Or run the SQL file manually\nmysql -u root -p freelance_platform < src/db/seed.sql\n```\n\n## Running the Application\n\n### With Docker\n\n```bash\n# Start all services (MySQL + App)\ndocker-compose up\n\n# Start in detached mode\ndocker-compose up -d\n\n# Start only MySQL (run app locally)\ndocker-compose up mysql\n\n# Stop services\ndocker-compose down\n\n# Stop and remove volumes (deletes data)\ndocker-compose down -v\n\n# View logs\ndocker-compose logs -f\n\n# Restart services\ndocker-compose restart\n```\n\n### Without Docker\n\n#### Development mode (with auto-reload):\n\n```bash\nnpm run dev\n```\n\n#### Production mode:\n\n```bash\nnpm start\n```\n\nThe API will be available at `http://localhost:3000`\n\n### Frontend React UI\n\nThe project includes a React frontend in the [client/](client/) directory.\n\n1. Navigate to the client directory:\n\n```bash\ncd client\n```\n\n2. Install dependencies:\n\n```bash\nnpm install\n```\n\n3. Create environment file:\n\n```bash\n# Windows\ncopy .env.example .env\n\n# Mac/Linux\ncp .env.example .env\n```\n\n4. Start the development server:\n\n```bash\nnpm run dev\n```\n\nThe frontend will be available at `http://localhost:3000`\n\nFor detailed frontend documentation, see [client/README.md](client/README.md)\n\n## API Endpoints\n\n### Health Check\n\n- `GET /api/health` - Check API status\n\n### Users\n\n- `GET /api/users` - Get all users (with optional role filter)\n- `GET /api/users/:id` - Get user by ID with profile\n- `POST /api/users` - Create new user\n- `PATCH /api/users/:id` - Update user\n- `DELETE /api/users/:id` - Delete user\n\n### Projects\n\n- `GET /api/projects` - Get all projects (with filters)\n- `GET /api/projects/:id` - Get project by ID\n- `POST /api/projects` - Create new project\n- `PATCH /api/projects/:id` - Update project\n- `DELETE /api/projects/:id` - Delete project\n\n### Proposals\n\n- `GET /api/proposals` - Get all proposals (with filters)\n- `GET /api/proposals/:id` - Get proposal by ID\n- `POST /api/proposals` - Submit new proposal\n- `PATCH /api/proposals/:id` - Update proposal\n- `DELETE /api/proposals/:id` - Delete proposal\n\n## Example Requests\n\n### Create a User (Freelancer)\n\n```bash\ncurl -X POST http://localhost:3000/api/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"john@example.com\",\n    \"password\": \"hashed_password\",\n    \"role\": \"freelancer\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"phone\": \"+1234567890\",\n    \"country\": \"USA\",\n    \"profile\": {\n      \"bio\": \"Full-stack developer\",\n      \"hourly_rate\": 50.00,\n      \"experience_years\": 5,\n      \"headline\": \"Expert in React and Node.js\"\n    }\n  }'\n```\n\n### Create a Project\n\n```bash\ncurl -X POST http://localhost:3000/api/projects \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"client_id\": \"client-uuid-here\",\n    \"title\": \"Build a Web Application\",\n    \"description\": \"Need a full-stack developer for a web app\",\n    \"project_type\": \"fixed\",\n    \"budget_min\": 1000,\n    \"budget_max\": 5000,\n    \"currency\": \"USD\",\n    \"skill_ids\": [\"skill-uuid-1\", \"skill-uuid-2\"]\n  }'\n```\n\n### Submit a Proposal\n\n```bash\ncurl -X POST http://localhost:3000/api/proposals \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"project_id\": \"project-uuid-here\",\n    \"freelancer_id\": \"freelancer-uuid-here\",\n    \"bid_amount\": 3000,\n    \"estimated_hours\": 60,\n    \"cover_letter\": \"I am the perfect fit for this project...\"\n  }'\n```\n\n### Get Projects with Filters\n\n```bash\ncurl \"http://localhost:3000/api/projects?status=open&project_type=fixed&limit=10\"\n```\n\n## Database Schema\n\nThe database consists of the following main tables:\n\n- **users** - Base user information\n- **freelancer_profiles** - Freelancer-specific data\n- **client_profiles** - Client-specific data\n- **skills** - Available skills\n- **freelancer_skills** - Junction table for freelancer skills\n- **projects** - Project listings\n- **project_skills** - Junction table for project required skills\n- **proposals** - Freelancer proposals\n- **contracts** - Active contracts\n- **milestones** - Contract milestones\n- **escrows** - Escrow accounts\n- **payments** - Payment transactions\n- **reviews** - User reviews\n- **message_threads** - Message threads\n- **messages** - Individual messages\n- **disputes** - Dispute cases\n\nFull schema is available in [src/db/schema.sql](src/db/schema.sql)\n\n## Project Structure\n\n```\ndbms/\n‚îú‚îÄ‚îÄ src/                           # Backend source code\n‚îÇ   ‚îú‚îÄ‚îÄ config/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.js          # MySQL connection pool\n‚îÇ   ‚îú‚îÄ‚îÄ db/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.sql            # Database schema\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seed.sql              # Sample data\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ queries.js            # Query utilities\n‚îÇ   ‚îú‚îÄ‚îÄ routes/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.js              # User endpoints\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ projects.js           # Project endpoints\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ proposals.js          # Proposal endpoints\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js              # Route aggregator\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errorHandler.js       # Error handling\n‚îÇ   ‚îî‚îÄ‚îÄ server.js                 # Express app\n‚îú‚îÄ‚îÄ client/                        # React frontend\n‚îÇ   ‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/           # Reusable components\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/              # React Context\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                # Page components\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/             # API integration\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx               # Main app component\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.jsx             # Entry point\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.css             # Global styles\n‚îÇ   ‚îú‚îÄ‚îÄ index.html                # HTML template\n‚îÇ   ‚îú‚îÄ‚îÄ vite.config.js            # Vite configuration\n‚îÇ   ‚îú‚îÄ‚îÄ package.json              # Frontend dependencies\n‚îÇ   ‚îî‚îÄ‚îÄ README.md                 # Frontend documentation\n‚îú‚îÄ‚îÄ .env.example                   # Backend environment template\n‚îú‚îÄ‚îÄ .gitignore\n‚îú‚îÄ‚îÄ package.json                   # Backend dependencies\n‚îî‚îÄ‚îÄ README.md                      # This file\n```\n\n## Using Raw SQL Queries\n\nThis project uses raw SQL queries exclusively with MySQL. Example from the codebase:\n\n```javascript\nconst { query } = require(\"../db/queries\");\n\n// Simple query (using ? placeholders)\nconst result = await query(\"SELECT * FROM users WHERE email = ?\", [email]);\n\n// Complex query with joins\nconst projects = await query(\n  `\n  SELECT p.*, c.company_name, CONCAT(u.first_name, ' ', u.last_name) as client_name\n  FROM projects p\n  JOIN client_profiles c ON p.client_id = c.id\n  JOIN users u ON c.user_id = u.id\n  WHERE p.status = ?\n  ORDER BY p.posted_at DESC\n`,\n  [\"open\"]\n);\n\n// Transaction example\nconst { transaction } = require(\"../db/queries\");\n\nawait transaction(async (connection) => {\n  await connection.query(\"INSERT INTO users ...\");\n  await connection.query(\"INSERT INTO freelancer_profiles ...\");\n});\n```\n\n## Error Handling\n\nThe API uses a global error handler that catches:\n\n- Database constraint violations\n- Foreign key violations\n- Invalid data formats\n- Not found errors\n- Server errors\n\nAll errors return a JSON response with the format:\n\n```json\n{\n  \"success\": false,\n  \"message\": \"Error message\",\n  \"error\": \"Detailed error (in development mode)\"\n}\n```\n\n## Development Tips\n\n1. Use Postman or similar tool to test API endpoints\n2. Check MySQL logs for query debugging: `docker-compose logs mysql`\n3. Use transactions for operations that modify multiple tables\n4. Always use parameterized queries (`?` placeholders) to prevent SQL injection\n5. Add indexes for frequently queried columns\n6. Access MySQL CLI: `docker-compose exec mysql mysql -u root -p freelance_platform`\n7. Reset database: `docker-compose down -v && docker-compose up`\n\n## TODO / Future Enhancements\n\n- [ ] Add authentication (JWT)\n- [ ] Add authorization middleware\n- [ ] Implement pagination helpers\n- [ ] Add input validation (express-validator)\n- [ ] Add API documentation (Swagger/OpenAPI)\n- [ ] Add unit and integration tests\n- [ ] Implement rate limiting\n- [ ] Add file upload for attachments\n- [ ] Add real-time messaging (WebSocket)\n- [ ] Add search functionality\n- [ ] Add email notifications\n\n## License\n\nISC\n"
    },
    "client\\Dockerfile": {
      "content": "FROM node:18-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm install\n\nCOPY . .\n\nEXPOSE 5173\n\nCMD [\"npm\", \"run\", \"dev\", \"--\", \"--host\", \"0.0.0.0\", \"--port\", \"5173\"]\n\n"
    },
    "src\\config\\database.js": {
      "content": "const mysql = require('mysql2');\nrequire('dotenv').config();\n\n// Create a MySQL connection pool\nconst pool = mysql.createPool({\n  host: process.env.DB_HOST || 'localhost',\n  user: process.env.DB_USER || 'root',\n  password: process.env.DB_PASSWORD || 'root123',\n  database: process.env.DB_NAME || 'freelance_platform',\n  port: process.env.DB_PORT || 3306,\n  waitForConnections: true,\n  connectionLimit: 20, // Maximum number of connections in the pool\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\n\n// Get promise-based pool\nconst promisePool = pool.promise();\n\n// Test the connection\npool.getConnection((err, connection) => {\n  if (err) {\n    console.error('Error connecting to MySQL database:', err);\n    process.exit(-1);\n  }\n  if (connection) {\n    console.log('Connected to MySQL database');\n    connection.release();\n  }\n});\n\n// Handle pool errors\npool.on('error', (err) => {\n  console.error('Unexpected error on MySQL pool', err);\n  if (err.code === 'PROTOCOL_CONNECTION_LOST') {\n    console.error('Database connection was closed.');\n  }\n  if (err.code === 'ER_CON_COUNT_ERROR') {\n    console.error('Database has too many connections.');\n  }\n  if (err.code === 'ECONNREFUSED') {\n    console.error('Database connection was refused.');\n  }\n});\n\nmodule.exports = promisePool;\n"
    },
    "client\\index.html": {
      "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Freelancing Platform</title>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"/src/index.jsx\"></script>\n  </body>\n</html>\n"
    },
    "client\\.gitignore": {
      "content": "# Dependencies\nnode_modules\n\n# Production build\ndist\n\n# Local env files\n.env\n.env.local\n.env.development.local\n.env.test.local\n.env.production.local\n\n# Logs\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\npnpm-debug.log*\nlerna-debug.log*\n\n# Editor directories and files\n.vscode/*\n!.vscode/extensions.json\n.idea\n.DS_Store\n*.suo\n*.ntvs*\n*.njsproj\n*.sln\n*.sw?\n"
    },
    "src\\server.js": {
      "content": "const express = require('express');\nconst cors = require('cors');\nconst helmet = require('helmet');\nconst morgan = require('morgan');\nconst cookieParser = require('cookie-parser');\nrequire('dotenv').config();\n\nconst routes = require('./routes');\nconst errorHandler = require('./middleware/errorHandler');\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Security: Check for required environment variables\nif (!process.env.JWT_SECRET) {\n  console.error('FATAL ERROR: JWT_SECRET is not defined.');\n  process.exit(1);\n}\n\nif (!process.env.JWT_REFRESH_SECRET) {\n  console.error('FATAL ERROR: JWT_REFRESH_SECRET is not defined.');\n  process.exit(1);\n}\n\n// Middleware\napp.use(helmet()); // Security headers\napp.use(cors({\n  origin: process.env.CLIENT_URL || 'http://localhost:5173',\n  credentials: true,\n  methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'],\n  allowedHeaders: ['Content-Type', 'Authorization']\n})); // Enable CORS with specific origin\napp.use(morgan('dev')); // Request logging\napp.use(express.json()); // Parse JSON bodies\napp.use(express.urlencoded({ extended: true })); // Parse URL-encoded bodies\napp.use(cookieParser()); // Parse cookies\n\n// API Routes\napp.use('/api', routes);\n\n// Root endpoint\napp.get('/', (req, res) => {\n  res.json({\n    success: true,\n    message: 'Freelancing Platform API',\n    version: '1.0.0',\n    endpoints: {\n      health: '/api/health',\n      users: '/api/users',\n      projects: '/api/projects',\n      proposals: '/api/proposals'\n    }\n  });\n});\n\n// 404 handler\napp.use((req, res) => {\n  res.status(404).json({\n    success: false,\n    message: 'Route not found'\n  });\n});\n\n// Error handler (must be last)\napp.use(errorHandler);\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`Server is running on port ${PORT}`);\n  console.log(`Environment: ${process.env.NODE_ENV || 'development'}`);\n  console.log(`API URL: http://localhost:${PORT}`);\n});\n\n// Handle unhandled promise rejections\nprocess.on('unhandledRejection', (err) => {\n  console.error('Unhandled Promise Rejection:', err);\n  process.exit(1);\n});\n"
    },
    "scripts\\setup.js": {
      "content": "/**\r\n * Setup Script for Freelancing Platform\r\n * Generates secure JWT secrets and helps configure environment\r\n */\r\n\r\nconst crypto = require('crypto');\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst readline = require('readline');\r\n\r\nconst rl = readline.createInterface({\r\n  input: process.stdin,\r\n  output: process.stdout\r\n});\r\n\r\nfunction question(prompt) {\r\n  return new Promise((resolve) => {\r\n    rl.question(prompt, resolve);\r\n  });\r\n}\r\n\r\nfunction generateSecret() {\r\n  return crypto.randomBytes(64).toString('hex');\r\n}\r\n\r\nasync function setup() {\r\n  console.log('\\nüîê Freelancing Platform - Security Setup\\n');\r\n  console.log('This script will help you set up your environment variables.\\n');\r\n\r\n  // Check if .env exists\r\n  const envPath = path.join(__dirname, '..', '.env');\r\n  const envExamplePath = path.join(__dirname, '..', '.env.example');\r\n\r\n  if (fs.existsSync(envPath)) {\r\n    const overwrite = await question('.env file already exists. Overwrite? (y/N): ');\r\n    if (overwrite.toLowerCase() !== 'y') {\r\n      console.log('Setup cancelled.');\r\n      rl.close();\r\n      return;\r\n    }\r\n  }\r\n\r\n  console.log('\\nüìù Please provide the following information:\\n');\r\n\r\n  // Database configuration\r\n  const dbHost = await question('Database Host (localhost): ') || 'localhost';\r\n  const dbPort = await question('Database Port (3306): ') || '3306';\r\n  const dbUser = await question('Database User (root): ') || 'root';\r\n  const dbPassword = await question('Database Password: ');\r\n  const dbName = await question('Database Name (freelancing_platform): ') || 'freelancing_platform';\r\n\r\n  // Server configuration\r\n  const port = await question('Server Port (3000): ') || '3000';\r\n  const clientUrl = await question('Client URL (http://localhost:5173): ') || 'http://localhost:5173';\r\n\r\n  // Generate JWT secrets\r\n  console.log('\\nüîë Generating secure JWT secrets...');\r\n  const jwtSecret = generateSecret();\r\n  const jwtRefreshSecret = generateSecret();\r\n  console.log('‚úÖ Secrets generated!\\n');\r\n\r\n  // JWT expiration\r\n  const jwtExpires = await question('Access Token Expiration (15m): ') || '15m';\r\n  const jwtRefreshExpires = await question('Refresh Token Expiration (7d): ') || '7d';\r\n\r\n  // Create .env content\r\n  const envContent = `# Server Configuration\r\nPORT=${port}\r\nNODE_ENV=development\r\n\r\n# MySQL Database Configuration\r\nDB_HOST=${dbHost}\r\nDB_PORT=${dbPort}\r\nDB_USER=${dbUser}\r\nDB_PASSWORD=${dbPassword}\r\nDB_NAME=${dbName}\r\n\r\n# JWT Configuration\r\n# IMPORTANT: Keep these secrets safe! Do not commit to version control!\r\nJWT_SECRET=${jwtSecret}\r\nJWT_REFRESH_SECRET=${jwtRefreshSecret}\r\nJWT_EXPIRES_IN=${jwtExpires}\r\nJWT_REFRESH_EXPIRES_IN=${jwtRefreshExpires}\r\n\r\n# Client URL (for CORS)\r\nCLIENT_URL=${clientUrl}\r\n\r\n# Email Configuration (for future email verification)\r\n# SMTP_HOST=smtp.gmail.com\r\n# SMTP_PORT=587\r\n# SMTP_USER=your-email@gmail.com\r\n# SMTP_PASSWORD=your-app-password\r\n# SMTP_FROM=noreply@freelancing-platform.com\r\n`;\r\n\r\n  // Write .env file\r\n  fs.writeFileSync(envPath, envContent);\r\n  console.log('\\n‚úÖ .env file created successfully!');\r\n\r\n  // Create .gitignore if it doesn't exist\r\n  const gitignorePath = path.join(__dirname, '..', '.gitignore');\r\n  if (!fs.existsSync(gitignorePath)) {\r\n    fs.writeFileSync(gitignorePath, '.env\\nnode_modules/\\n.DS_Store\\n');\r\n    console.log('‚úÖ .gitignore file created');\r\n  } else {\r\n    const gitignoreContent = fs.readFileSync(gitignorePath, 'utf8');\r\n    if (!gitignoreContent.includes('.env')) {\r\n      fs.appendFileSync(gitignorePath, '\\n.env\\n');\r\n      console.log('‚úÖ Added .env to .gitignore');\r\n    }\r\n  }\r\n\r\n  console.log('\\nüìã Next Steps:\\n');\r\n  console.log('1. Review the .env file and make any necessary adjustments');\r\n  console.log('2. Create the database if it doesn\\'t exist:');\r\n  console.log(`   mysql -u ${dbUser} -p -e \"CREATE DATABASE IF NOT EXISTS ${dbName}\"`);\r\n  console.log('3. Run database migrations:');\r\n  console.log('   npm run seed');\r\n  console.log('4. Start the server:');\r\n  console.log('   npm run dev');\r\n  console.log('\\nüéâ Setup complete!\\n');\r\n\r\n  rl.close();\r\n}\r\n\r\n// Run setup\r\nsetup().catch((error) => {\r\n  console.error('Setup failed:', error);\r\n  rl.close();\r\n  process.exit(1);\r\n});\r\n"
    },
    "src\\routes\\proposals.js": {
      "content": "const express = require('express');\nconst { randomUUID } = require('crypto');\nconst router = express.Router();\nconst { query } = require('../db/queries');\nconst { authenticate, authorize } = require('../middleware/auth');\n\nconst parseIntOrDefault = (value, defaultValue) => {\n  const parsed = Number.parseInt(value, 10);\n  return Number.isNaN(parsed) ? defaultValue : parsed;\n};\n\n/**\n * GET /api/proposals\n * Get proposals with filters\n * Protected: Requires authentication\n */\nrouter.get('/', authenticate, async (req, res, next) => {\n  try {\n    const { project_id, freelancer_id, status, limit = 50, offset = 0 } = req.query;\n\n    let sql = `\n      SELECT p.*,\n             proj.title AS project_title,\n             CONCAT_WS(' ', u.first_name, u.last_name) AS freelancer_name,\n             fp.rating_avg AS freelancer_rating,\n             fp.hourly_rate AS freelancer_hourly_rate\n      FROM proposals p\n      JOIN projects proj ON p.project_id = proj.id\n      JOIN freelancer_profiles fp ON p.freelancer_id = fp.id\n      JOIN users u ON fp.user_id = u.id\n      WHERE 1=1\n    `;\n\n    const params = [];\n\n    if (project_id) {\n      sql += ' AND p.project_id = ?';\n      params.push(project_id);\n    }\n\n    if (freelancer_id) {\n      sql += ' AND p.freelancer_id = ?';\n      params.push(freelancer_id);\n    }\n\n    if (status) {\n      sql += ' AND p.status = ?';\n      params.push(status);\n    }\n\n    sql += ' ORDER BY p.submitted_at DESC LIMIT ? OFFSET ?';\n    params.push(parseIntOrDefault(limit, 50), parseIntOrDefault(offset, 0));\n\n    const result = await query(sql, params);\n\n    res.json({\n      success: true,\n      data: result.rows,\n      count: result.rowCount\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/proposals/:id\n * Get proposal by ID with full details\n * Protected: Requires authentication\n */\nrouter.get('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    const result = await query(\n      `SELECT p.*,\n              proj.title AS project_title,\n              proj.description AS project_description,\n              CONCAT_WS(' ', u.first_name, u.last_name) AS freelancer_name,\n              u.email AS freelancer_email,\n              fp.bio AS freelancer_bio,\n              fp.rating_avg AS freelancer_rating,\n              fp.rating_count AS freelancer_rating_count,\n              fp.experience_years AS freelancer_experience\n       FROM proposals p\n       JOIN projects proj ON p.project_id = proj.id\n       JOIN freelancer_profiles fp ON p.freelancer_id = fp.id\n       JOIN users u ON fp.user_id = u.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (result.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    res.json({ success: true, data: result.rows[0] });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * POST /api/proposals\n * Submit a new proposal\n * Protected: Only freelancers can submit proposals\n */\nrouter.post('/', authenticate, authorize('freelancer', 'admin'), async (req, res, next) => {\n  try {\n    const {\n      project_id,\n      bid_amount,\n      hourly_rate,\n      estimated_hours,\n      cover_letter\n    } = req.body;\n\n    if (!project_id) {\n      return res.status(400).json({\n        success: false,\n        message: 'project_id is required'\n      });\n    }\n\n    // Get the freelancer profile for the authenticated user\n    const freelancerProfileResult = await query(\n      'SELECT id FROM freelancer_profiles WHERE user_id = ?',\n      [req.user.userId]\n    );\n\n    if (freelancerProfileResult.rows.length === 0) {\n      return res.status(403).json({\n        success: false,\n        message: 'Freelancer profile not found. Only freelancers can submit proposals.'\n      });\n    }\n\n    const freelancer_id = freelancerProfileResult.rows[0].id;\n\n    // Validate that the project exists\n    const projectCheck = await query(\n      'SELECT id FROM projects WHERE id = ?',\n      [project_id]\n    );\n\n    if (projectCheck.rows.length === 0) {\n      return res.status(404).json({\n        success: false,\n        message: 'Project not found'\n      });\n    }\n\n    // Check if a proposal already exists for this freelancer and project\n    const existingProposal = await query(\n      'SELECT id FROM proposals WHERE project_id = ? AND freelancer_id = ?',\n      [project_id, freelancer_id]\n    );\n\n    if (existingProposal.rows.length > 0) {\n      return res.status(409).json({\n        success: false,\n        message: 'You have already submitted a proposal for this project'\n      });\n    }\n\n    const proposalId = randomUUID();\n\n    await query(\n      `INSERT INTO proposals (id, project_id, freelancer_id, bid_amount, hourly_rate, estimated_hours, cover_letter)\n       VALUES (?, ?, ?, ?, ?, ?, ?)`,\n      [\n        proposalId,\n        project_id,\n        freelancer_id,\n        bid_amount ?? null,\n        hourly_rate ?? null,\n        estimated_hours ?? null,\n        cover_letter ?? null\n      ]\n    );\n\n    const result = await query(\n      'SELECT * FROM proposals WHERE id = ?',\n      [proposalId]\n    );\n\n    res.status(201).json({ success: true, data: result.rows[0] });\n  } catch (error) {\n    if (error.code === 'ER_DUP_ENTRY') {\n      return res.status(409).json({\n        success: false,\n        message: 'You have already submitted a proposal for this project'\n      });\n    }\n    if (error.code === 'ER_NO_REFERENCED_ROW' || error.code === 'ER_NO_REFERENCED_ROW_2') {\n      return res.status(400).json({\n        success: false,\n        message: 'Invalid reference: freelancer or project does not exist'\n      });\n    }\n    next(error);\n  }\n});\n\n/**\n * POST /api/proposals/:id/accept\n * Accept a proposal (client only)\n * Protected: Only the project owner can accept proposals\n * Business Logic:\n * - Sets proposal status to 'accepted'\n * - Rejects all other proposals for the same project\n * - Updates project status to 'awarded'\n */\nrouter.post('/:id/accept', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    // Get the proposal with full project and ownership info\n    const proposalResult = await query(\n      `SELECT p.*, \n              p.project_id,\n              proj.status as project_status,\n              cp.user_id as client_user_id\n       FROM proposals p\n       JOIN projects proj ON p.project_id = proj.id\n       JOIN client_profiles cp ON proj.client_id = cp.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (proposalResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    const proposal = proposalResult.rows[0];\n\n    // Check if user is the project owner or admin\n    const isProjectOwner = proposal.client_user_id === req.user.userId;\n    const isAdmin = req.user.role === 'admin';\n\n    if (!isProjectOwner && !isAdmin) {\n      return res.status(403).json({\n        success: false,\n        message: 'Only the project owner can accept proposals'\n      });\n    }\n\n    // Check if proposal is already accepted or rejected\n    if (proposal.status === 'accepted') {\n      return res.status(400).json({\n        success: false,\n        message: 'This proposal has already been accepted'\n      });\n    }\n\n    if (proposal.status === 'rejected') {\n      return res.status(400).json({\n        success: false,\n        message: 'Cannot accept a rejected proposal'\n      });\n    }\n\n    // Check if project is in valid state to accept proposals\n    if (proposal.project_status !== 'open') {\n      return res.status(400).json({\n        success: false,\n        message: 'Project is not open for accepting proposals'\n      });\n    }\n\n    // Use transaction to ensure atomicity\n    const { transaction } = require('../db/queries');\n    \n    let contractId = null;\n    \n    await transaction(async (connection) => {\n      // 1. Accept this proposal\n      await connection.query(\n        'UPDATE proposals SET status = ? WHERE id = ?',\n        ['accepted', id]\n      );\n\n      // 2. Reject all other proposals for this project\n      await connection.query(\n        `UPDATE proposals \n         SET status = 'rejected' \n         WHERE project_id = ? \n         AND id != ? \n         AND status IN ('submitted', 'shortlisted')`,\n        [proposal.project_id, id]\n      );\n\n      // 3. Update project status to 'awarded'\n      await connection.query(\n        'UPDATE projects SET status = ? WHERE id = ?',\n        ['awarded', proposal.project_id]\n      );\n\n      // 4. Create a contract automatically\n      contractId = randomUUID();\n      \n      // Get project details to determine contract type and client_id\n      const projectResult = await connection.query(\n        'SELECT project_type, client_id, currency FROM projects WHERE id = ?',\n        [proposal.project_id]\n      );\n      \n      const project = projectResult.rows[0];\n      const contractType = project.project_type; // 'fixed' or 'hourly'\n      const agreedAmount = contractType === 'fixed' ? proposal.bid_amount : null;\n      const hourlyRate = contractType === 'hourly' ? proposal.hourly_rate : null;\n      \n      await connection.query(\n        `INSERT INTO contracts \n         (id, project_id, client_id, freelancer_id, contract_type, status, agreed_amount, hourly_rate, currency)\n         VALUES (?, ?, ?, ?, ?, 'active', ?, ?, ?)`,\n        [\n          contractId,\n          proposal.project_id,\n          project.client_id,\n          proposal.freelancer_id,\n          contractType,\n          agreedAmount,\n          hourlyRate,\n          project.currency\n        ]\n      );\n    });\n\n    // Fetch updated proposal\n    const updatedProposal = await query(\n      'SELECT * FROM proposals WHERE id = ?',\n      [id]\n    );\n\n    // Fetch created contract\n    const contractResult = await query(\n      'SELECT * FROM contracts WHERE id = ?',\n      [contractId]\n    );\n\n    res.json({ \n      success: true, \n      message: 'Proposal accepted successfully and contract created',\n      data: {\n        proposal: updatedProposal.rows[0],\n        contract: contractResult.rows[0]\n      }\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * POST /api/proposals/:id/reject\n * Reject a proposal (client only)\n * Protected: Only the project owner can reject proposals\n */\nrouter.post('/:id/reject', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    // Get the proposal with ownership info\n    const proposalResult = await query(\n      `SELECT p.*, \n              cp.user_id as client_user_id\n       FROM proposals p\n       JOIN projects proj ON p.project_id = proj.id\n       JOIN client_profiles cp ON proj.client_id = cp.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (proposalResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    const proposal = proposalResult.rows[0];\n\n    // Check if user is the project owner or admin\n    const isProjectOwner = proposal.client_user_id === req.user.userId;\n    const isAdmin = req.user.role === 'admin';\n\n    if (!isProjectOwner && !isAdmin) {\n      return res.status(403).json({\n        success: false,\n        message: 'Only the project owner can reject proposals'\n      });\n    }\n\n    // Check if proposal is already accepted\n    if (proposal.status === 'accepted') {\n      return res.status(400).json({\n        success: false,\n        message: 'Cannot reject an accepted proposal'\n      });\n    }\n\n    // Update proposal status to rejected\n    await query(\n      'UPDATE proposals SET status = ? WHERE id = ?',\n      ['rejected', id]\n    );\n\n    const updatedProposal = await query(\n      'SELECT * FROM proposals WHERE id = ?',\n      [id]\n    );\n\n    res.json({ \n      success: true, \n      message: 'Proposal rejected successfully',\n      data: updatedProposal.rows[0] \n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * PATCH /api/proposals/:id\n * Update proposal (e.g., change status, update bid)\n * Protected: Freelancer can update their own proposal, Client can update status\n */\nrouter.patch('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n    const { bid_amount, hourly_rate, estimated_hours, cover_letter, status } = req.body;\n\n    // Get the proposal with owner info\n    const proposalResult = await query(\n      `SELECT p.*, fp.user_id as freelancer_user_id, cp.user_id as client_user_id\n       FROM proposals p\n       JOIN freelancer_profiles fp ON p.freelancer_id = fp.id\n       JOIN projects proj ON p.project_id = proj.id\n       JOIN client_profiles cp ON proj.client_id = cp.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (proposalResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    const proposal = proposalResult.rows[0];\n\n    // Check permissions\n    const isFreelancerOwner = proposal.freelancer_user_id === req.user.userId;\n    const isProjectOwner = proposal.client_user_id === req.user.userId;\n    const isAdmin = req.user.role === 'admin';\n\n    if (!isFreelancerOwner && !isProjectOwner && !isAdmin) {\n      return res.status(403).json({\n        success: false,\n        message: 'You do not have permission to update this proposal'\n      });\n    }\n\n    // Freelancers can only update bid details, not status\n    // Clients can only update status\n    let updateFields = {};\n    \n    if (isFreelancerOwner && !isProjectOwner) {\n      // Freelancer updating their own proposal\n      updateFields = {\n        bid_amount: bid_amount ?? null,\n        hourly_rate: hourly_rate ?? null,\n        estimated_hours: estimated_hours ?? null,\n        cover_letter: cover_letter ?? null\n      };\n    } else if (isProjectOwner || isAdmin) {\n      // Client or admin updating status\n      if (status) {\n        updateFields.status = status;\n      }\n    }\n\n    const updateResult = await query(\n      `UPDATE proposals\n       SET bid_amount = COALESCE(?, bid_amount),\n           hourly_rate = COALESCE(?, hourly_rate),\n           estimated_hours = COALESCE(?, estimated_hours),\n           cover_letter = COALESCE(?, cover_letter),\n           status = COALESCE(?, status)\n       WHERE id = ?`,\n      [\n        updateFields.bid_amount ?? null,\n        updateFields.hourly_rate ?? null,\n        updateFields.estimated_hours ?? null,\n        updateFields.cover_letter ?? null,\n        updateFields.status ?? null,\n        id\n      ]\n    );\n\n    if (updateResult.rowCount === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    const result = await query(\n      'SELECT * FROM proposals WHERE id = ?',\n      [id]\n    );\n\n    res.json({ success: true, data: result.rows[0] });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * DELETE /api/proposals/:id\n * Withdraw/delete a proposal\n * Protected: Only the freelancer who created it can delete\n */\nrouter.delete('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    // Get the proposal with owner info\n    const proposalResult = await query(\n      `SELECT p.*, fp.user_id as freelancer_user_id\n       FROM proposals p\n       JOIN freelancer_profiles fp ON p.freelancer_id = fp.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (proposalResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    const proposal = proposalResult.rows[0];\n\n    // Check if user is the owner or an admin\n    if (proposal.freelancer_user_id !== req.user.userId && req.user.role !== 'admin') {\n      return res.status(403).json({\n        success: false,\n        message: 'You do not have permission to delete this proposal'\n      });\n    }\n\n    const result = await query('DELETE FROM proposals WHERE id = ?', [id]);\n\n    if (result.rowCount === 0) {\n      return res.status(404).json({ success: false, message: 'Proposal not found' });\n    }\n\n    res.json({ success: true, message: 'Proposal deleted successfully' });\n  } catch (error) {\n    next(error);\n  }\n});\n\nmodule.exports = router;\n"
    },
    "src\\routes\\users.js": {
      "content": "const express = require('express');\nconst router = express.Router();\nconst { query, transaction } = require('../db/queries');\nconst { authenticate, authorize, verifyOwnership } = require('../middleware/auth');\n\n/**\n * GET /api/users\n * Get all users with optional role filter\n * Protected: Requires authentication\n */\nrouter.get('/', authenticate, async (req, res, next) => {\n  try {\n    const { role, limit = 50, offset = 0 } = req.query;\n\n    let sql = 'SELECT id, email, role, first_name, last_name, phone, country, is_verified, created_at FROM users';\n    const params = [];\n\n    if (role) {\n      sql += ' WHERE role = ?';\n      params.push(role);\n      sql += ' ORDER BY created_at DESC LIMIT ? OFFSET ?';\n      params.push(parseInt(limit), parseInt(offset));\n    } else {\n      sql += ' ORDER BY created_at DESC LIMIT ? OFFSET ?';\n      params.push(parseInt(limit), parseInt(offset));\n    }\n\n    const result = await query(sql, params);\n    res.json({\n      success: true,\n      data: result.rows,\n      count: result.rowCount\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/users/:id\n * Get user by ID with profile details\n * Protected: Requires authentication\n */\nrouter.get('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    // Get user basic info\n    const userResult = await query(\n      'SELECT id, email, role, first_name, last_name, phone, country, is_verified, created_at FROM users WHERE id = ?',\n      [id]\n    );\n\n    if (userResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'User not found' });\n    }\n\n    const user = userResult.rows[0];\n\n    // Get profile based on role\n    if (user.role === 'freelancer') {\n      const profileResult = await query(\n        'SELECT * FROM freelancer_profiles WHERE user_id = ?',\n        [id]\n      );\n      user.profile = profileResult.rows[0] || null;\n    } else if (user.role === 'client') {\n      const profileResult = await query(\n        'SELECT * FROM client_profiles WHERE user_id = ?',\n        [id]\n      );\n      user.profile = profileResult.rows[0] || null;\n    }\n\n    res.json({ success: true, data: user });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * POST /api/users\n * Create a new user (with optional profile)\n * NOTE: This endpoint is kept for admin use or testing\n * Regular users should use /api/auth/register\n * Protected: Admin only\n */\nrouter.post('/', authenticate, authorize('admin'), async (req, res, next) => {\n  try {\n    const { email, password, role, first_name, last_name, phone, country, profile } = req.body;\n\n    // Validate required fields\n    if (!email || !role) {\n      return res.status(400).json({\n        success: false,\n        message: 'Email and role are required'\n      });\n    }\n\n    // Use transaction to create user and profile\n    const result = await transaction(async (connection) => {\n      // Insert user\n      await connection.query(\n        `INSERT INTO users (email, password_hash, role, first_name, last_name, phone, country)\n         VALUES (?, ?, ?, ?, ?, ?, ?)`,\n        [email, password, role, first_name, last_name, phone, country]\n      );\n\n      // Get the inserted user\n      const userResult = await connection.query(\n        'SELECT id, email, role, first_name, last_name, phone, country, is_verified, created_at FROM users WHERE id = LAST_INSERT_ID()'\n      );\n      const user = userResult.rows[0];\n\n      // Create profile based on role\n      if (role === 'freelancer' && profile) {\n        await connection.query(\n          `INSERT INTO freelancer_profiles (user_id, bio, hourly_rate, experience_years, headline)\n           VALUES (?, ?, ?, ?, ?)`,\n          [user.id, profile.bio, profile.hourly_rate, profile.experience_years, profile.headline]\n        );\n        const profileResult = await connection.query(\n          'SELECT * FROM freelancer_profiles WHERE user_id = ?',\n          [user.id]\n        );\n        user.profile = profileResult.rows[0];\n      } else if (role === 'client' && profile) {\n        await connection.query(\n          `INSERT INTO client_profiles (user_id, company_name, company_size, website)\n           VALUES (?, ?, ?, ?)`,\n          [user.id, profile.company_name, profile.company_size, profile.website]\n        );\n        const profileResult = await connection.query(\n          'SELECT * FROM client_profiles WHERE user_id = ?',\n          [user.id]\n        );\n        user.profile = profileResult.rows[0];\n      }\n\n      return user;\n    });\n\n    res.status(201).json({ success: true, data: result });\n  } catch (error) {\n    if (error.code === 'ER_DUP_ENTRY') { // MySQL Unique violation\n      return res.status(409).json({ success: false, message: 'Email already exists' });\n    }\n    next(error);\n  }\n});\n\n/**\n * PATCH /api/users/:id\n * Update user information\n * Protected: User can only update their own profile, or admin can update any\n */\nrouter.patch('/:id', authenticate, verifyOwnership(), async (req, res, next) => {\n  try {\n    const { id } = req.params;\n    const { first_name, last_name, phone, country } = req.body;\n\n    const updateResult = await query(\n      `UPDATE users\n       SET first_name = COALESCE(?, first_name),\n           last_name = COALESCE(?, last_name),\n           phone = COALESCE(?, phone),\n           country = COALESCE(?, country),\n           updated_at = CURRENT_TIMESTAMP\n       WHERE id = ?`,\n      [first_name, last_name, phone, country, id]\n    );\n\n    if (updateResult.rowCount === 0) {\n      return res.status(404).json({ success: false, message: 'User not found' });\n    }\n\n    // Fetch the updated user\n    const result = await query(\n      'SELECT id, email, role, first_name, last_name, phone, country, is_verified, updated_at FROM users WHERE id = ?',\n      [id]\n    );\n\n    res.json({ success: true, data: result.rows[0] });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * DELETE /api/users/:id\n * Delete a user (cascades to profiles)\n * Protected: User can delete own account, or admin can delete any\n */\nrouter.delete('/:id', authenticate, verifyOwnership(), async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    const result = await query('DELETE FROM users WHERE id = ?', [id]);\n\n    if (result.rowCount === 0) {\n      return res.status(404).json({ success: false, message: 'User not found' });\n    }\n\n    res.json({ success: true, message: 'User deleted successfully' });\n  } catch (error) {\n    next(error);\n  }\n});\n\nmodule.exports = router;\n"
    },
    "src\\routes\\projects.js": {
      "content": "const express = require('express');\nconst { randomUUID } = require('crypto');\nconst router = express.Router();\nconst { query, transaction } = require('../db/queries');\nconst { authenticate, authorize, optionalAuth } = require('../middleware/auth');\n\nconst parseIntOrDefault = (value, defaultValue) => {\n  const parsed = Number.parseInt(value, 10);\n  return Number.isNaN(parsed) ? defaultValue : parsed;\n};\n\n/**\n * GET /api/projects\n * Get all projects with filters\n * Public endpoint but shows different data for authenticated users\n */\nrouter.get('/', optionalAuth, async (req, res, next) => {\n  try {\n    const { status, project_type, min_budget, max_budget, limit = 50, offset = 0 } = req.query;\n\n    let sql = `\n      SELECT p.*,\n             c.company_name,\n             CONCAT_WS(' ', u.first_name, u.last_name) AS client_name,\n             (SELECT COUNT(*) FROM proposals WHERE project_id = p.id) AS proposal_count\n      FROM projects p\n      JOIN client_profiles c ON p.client_id = c.id\n      JOIN users u ON c.user_id = u.id\n      WHERE 1=1\n    `;\n\n    const params = [];\n\n    if (status) {\n      sql += ' AND p.status = ?';\n      params.push(status);\n    }\n\n    if (project_type) {\n      sql += ' AND p.project_type = ?';\n      params.push(project_type);\n    }\n\n    if (min_budget) {\n      sql += ' AND p.budget_min >= ?';\n      params.push(min_budget);\n    }\n\n    if (max_budget) {\n      sql += ' AND p.budget_max <= ?';\n      params.push(max_budget);\n    }\n\n    sql += ' ORDER BY p.posted_at DESC LIMIT ? OFFSET ?';\n    params.push(parseIntOrDefault(limit, 50), parseIntOrDefault(offset, 0));\n\n    const result = await query(sql, params);\n\n    for (const project of result.rows) {\n      const skillsResult = await query(\n        `SELECT s.id, s.name, s.category\n         FROM skills s\n         JOIN project_skills ps ON s.id = ps.skill_id\n         WHERE ps.project_id = ?`,\n        [project.id]\n      );\n      project.skills = skillsResult.rows;\n      project.proposal_count = Number(project.proposal_count || 0);\n    }\n\n    res.json({\n      success: true,\n      data: result.rows,\n      count: result.rowCount\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * GET /api/projects/:id\n * Get project by ID with full details\n * Protected: Requires authentication\n */\nrouter.get('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    const result = await query(\n      `SELECT p.*,\n              c.company_name,\n              c.company_size,\n              CONCAT_WS(' ', u.first_name, u.last_name) AS client_name,\n              u.country AS client_country\n       FROM projects p\n       JOIN client_profiles c ON p.client_id = c.id\n       JOIN users u ON c.user_id = u.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (result.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Project not found' });\n    }\n\n    const project = result.rows[0];\n\n    const skillsResult = await query(\n      `SELECT s.id, s.name, s.category\n       FROM skills s\n       JOIN project_skills ps ON s.id = ps.skill_id\n       WHERE ps.project_id = ?`,\n      [id]\n    );\n    project.skills = skillsResult.rows;\n\n    const proposalCount = await query(\n      'SELECT COUNT(*) AS count FROM proposals WHERE project_id = ?',\n      [id]\n    );\n    const countRow = proposalCount.rows[0];\n    project.proposal_count = countRow ? Number(countRow.count || 0) : 0;\n\n    res.json({ success: true, data: project });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * POST /api/projects\n * Create a new project\n * Protected: Only clients can create projects\n */\nrouter.post('/', authenticate, authorize('client', 'admin'), async (req, res, next) => {\n  try {\n    const {\n      title,\n      description,\n      project_type,\n      budget_min,\n      budget_max,\n      currency,\n      due_at,\n      skill_ids = []\n    } = req.body;\n\n    if (!title || !project_type) {\n      return res.status(400).json({\n        success: false,\n        message: 'title and project_type are required'\n      });\n    }\n\n    // Get the client profile for the authenticated user\n    const clientProfileResult = await query(\n      'SELECT id FROM client_profiles WHERE user_id = ?',\n      [req.user.userId]\n    );\n\n    if (clientProfileResult.rows.length === 0) {\n      return res.status(403).json({\n        success: false,\n        message: 'Client profile not found. Only clients can create projects.'\n      });\n    }\n\n    const client_id = clientProfileResult.rows[0].id;\n    const projectId = randomUUID();\n\n    await transaction(async (connection) => {\n      await connection.query(\n        `INSERT INTO projects (id, client_id, title, description, project_type, budget_min, budget_max, currency, due_at)\n         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n        [\n          projectId,\n          client_id,\n          title,\n          description ?? null,\n          project_type,\n          budget_min ?? null,\n          budget_max ?? null,\n          currency ?? 'USD',\n          due_at ?? null\n        ]\n      );\n\n      if (Array.isArray(skill_ids) && skill_ids.length > 0) {\n        for (const skillId of skill_ids) {\n          await connection.query(\n            'INSERT INTO project_skills (project_id, skill_id) VALUES (?, ?)',\n            [projectId, skillId]\n          );\n        }\n      }\n    });\n\n    const projectResult = await query(\n      `SELECT p.*,\n              c.company_name,\n              CONCAT_WS(' ', u.first_name, u.last_name) AS client_name,\n              (SELECT COUNT(*) FROM proposals WHERE project_id = p.id) AS proposal_count\n       FROM projects p\n       JOIN client_profiles c ON p.client_id = c.id\n       JOIN users u ON c.user_id = u.id\n       WHERE p.id = ?`,\n      [projectId]\n    );\n\n    if (projectResult.rows.length === 0) {\n      return res.status(500).json({ success: false, message: 'Failed to create project' });\n    }\n\n    const project = projectResult.rows[0];\n\n    const skillsResult = await query(\n      `SELECT s.id, s.name, s.category\n       FROM skills s\n       JOIN project_skills ps ON s.id = ps.skill_id\n       WHERE ps.project_id = ?`,\n      [projectId]\n    );\n    project.skills = skillsResult.rows;\n    project.proposal_count = Number(project.proposal_count || 0);\n\n    res.status(201).json({ success: true, data: project });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * PATCH /api/projects/:id\n * Update project\n * Protected: Only the project owner (client) can update\n */\nrouter.patch('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n    const { title, description, budget_min, budget_max, status, due_at } = req.body;\n\n    // Verify ownership - check if the project belongs to the authenticated user's client profile\n    const projectOwnerResult = await query(\n      `SELECT p.*, c.user_id \n       FROM projects p\n       JOIN client_profiles c ON p.client_id = c.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (projectOwnerResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Project not found' });\n    }\n\n    const project = projectOwnerResult.rows[0];\n\n    // Check if user is the owner or an admin\n    if (project.user_id !== req.user.userId && req.user.role !== 'admin') {\n      return res.status(403).json({\n        success: false,\n        message: 'You do not have permission to update this project'\n      });\n    }\n\n    const updateResult = await query(\n      `UPDATE projects\n       SET title = COALESCE(?, title),\n           description = COALESCE(?, description),\n           budget_min = COALESCE(?, budget_min),\n           budget_max = COALESCE(?, budget_max),\n           status = COALESCE(?, status),\n           due_at = COALESCE(?, due_at)\n       WHERE id = ?`,\n      [\n        title ?? null,\n        description ?? null,\n        budget_min ?? null,\n        budget_max ?? null,\n        status ?? null,\n        due_at ?? null,\n        id\n      ]\n    );\n\n    if (updateResult.rowCount === 0) {\n      return res.status(404).json({ success: false, message: 'Project not found' });\n    }\n\n    const result = await query(\n      'SELECT * FROM projects WHERE id = ?',\n      [id]\n    );\n\n    res.json({ success: true, data: result.rows[0] });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * DELETE /api/projects/:id\n * Delete a project\n * Protected: Only the project owner (client) or admin can delete\n */\nrouter.delete('/:id', authenticate, async (req, res, next) => {\n  try {\n    const { id } = req.params;\n\n    // Verify ownership\n    const projectOwnerResult = await query(\n      `SELECT p.*, c.user_id \n       FROM projects p\n       JOIN client_profiles c ON p.client_id = c.id\n       WHERE p.id = ?`,\n      [id]\n    );\n\n    if (projectOwnerResult.rows.length === 0) {\n      return res.status(404).json({ success: false, message: 'Project not found' });\n    }\n\n    const project = projectOwnerResult.rows[0];\n\n    // Check if user is the owner or an admin\n    if (project.user_id !== req.user.userId && req.user.role !== 'admin') {\n      return res.status(403).json({\n        success: false,\n        message: 'You do not have permission to delete this project'\n      });\n    }\n\n    const result = await query('DELETE FROM projects WHERE id = ?', [id]);\n\n    if (result.rowCount === 0) {\n      return res.status(404).json({ success: false, message: 'Project not found' });\n    }\n\n    res.json({ success: true, message: 'Project deleted successfully' });\n  } catch (error) {\n    next(error);\n  }\n});\n\nmodule.exports = router;\n"
    },
    "src\\routes\\index.js": {
      "content": "const express = require('express');\nconst router = express.Router();\n\nconst authRouter = require('./auth');\nconst usersRouter = require('./users');\nconst projectsRouter = require('./projects');\nconst proposalsRouter = require('./proposals');\nconst contractsRouter = require('./contracts');\n\n// Mount routers\nrouter.use('/auth', authRouter);\nrouter.use('/users', usersRouter);\nrouter.use('/projects', projectsRouter);\nrouter.use('/proposals', proposalsRouter);\nrouter.use('/contracts', contractsRouter);\n\n// Health check endpoint\nrouter.get('/health', (req, res) => {\n  res.json({\n    success: true,\n    message: 'API is running',\n    timestamp: new Date().toISOString()\n  });\n});\n\nmodule.exports = router;\n"
    },
    "client\\vite.config.js": {
      "content": "import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    port: 3000,\n    proxy: {\n      '/api': {\n        target: 'http://localhost:5000',\n        changeOrigin: true\n      }\n    }\n  }\n})\n"
    },
    "src\\routes\\contracts.js": {
      "content": "const express = require('express');\r\nconst { randomUUID } = require('crypto');\r\nconst router = express.Router();\r\nconst { query } = require('../db/queries');\r\nconst { authenticate, authorize } = require('../middleware/auth');\r\n\r\nconst parseIntOrDefault = (value, defaultValue) => {\r\n  const parsed = Number.parseInt(value, 10);\r\n  return Number.isNaN(parsed) ? defaultValue : parsed;\r\n};\r\n\r\n/**\r\n * GET /api/contracts\r\n * Get contracts with filters\r\n * Protected: Requires authentication\r\n */\r\nrouter.get('/', authenticate, async (req, res, next) => {\r\n  try {\r\n    const { project_id, client_id, freelancer_id, status, limit = 50, offset = 0 } = req.query;\r\n\r\n    let sql = `\r\n      SELECT c.*,\r\n             proj.title AS project_title,\r\n             CONCAT_WS(' ', uc.first_name, uc.last_name) AS client_name,\r\n             cp.company_name,\r\n             CONCAT_WS(' ', uf.first_name, uf.last_name) AS freelancer_name,\r\n             fp.hourly_rate AS freelancer_hourly_rate\r\n      FROM contracts c\r\n      JOIN projects proj ON c.project_id = proj.id\r\n      JOIN client_profiles cp ON c.client_id = cp.id\r\n      JOIN users uc ON cp.user_id = uc.id\r\n      JOIN freelancer_profiles fp ON c.freelancer_id = fp.id\r\n      JOIN users uf ON fp.user_id = uf.id\r\n      WHERE 1=1\r\n    `;\r\n\r\n    const params = [];\r\n\r\n    if (project_id) {\r\n      sql += ' AND c.project_id = ?';\r\n      params.push(project_id);\r\n    }\r\n\r\n    if (client_id) {\r\n      sql += ' AND c.client_id = ?';\r\n      params.push(client_id);\r\n    }\r\n\r\n    if (freelancer_id) {\r\n      sql += ' AND c.freelancer_id = ?';\r\n      params.push(freelancer_id);\r\n    }\r\n\r\n    if (status) {\r\n      sql += ' AND c.status = ?';\r\n      params.push(status);\r\n    }\r\n\r\n    // Filter by user role\r\n    if (req.user.role === 'client') {\r\n      const clientProfileResult = await query(\r\n        'SELECT id FROM client_profiles WHERE user_id = ?',\r\n        [req.user.userId]\r\n      );\r\n      if (clientProfileResult.rows.length > 0) {\r\n        sql += ' AND c.client_id = ?';\r\n        params.push(clientProfileResult.rows[0].id);\r\n      }\r\n    } else if (req.user.role === 'freelancer') {\r\n      const freelancerProfileResult = await query(\r\n        'SELECT id FROM freelancer_profiles WHERE user_id = ?',\r\n        [req.user.userId]\r\n      );\r\n      if (freelancerProfileResult.rows.length > 0) {\r\n        sql += ' AND c.freelancer_id = ?';\r\n        params.push(freelancerProfileResult.rows[0].id);\r\n      }\r\n    }\r\n\r\n    sql += ' ORDER BY c.start_at DESC LIMIT ? OFFSET ?';\r\n    params.push(parseIntOrDefault(limit, 50), parseIntOrDefault(offset, 0));\r\n\r\n    const result = await query(sql, params);\r\n\r\n    res.json({\r\n      success: true,\r\n      data: result.rows,\r\n      count: result.rowCount\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/contracts/:id\r\n * Get contract by ID with full details\r\n * Protected: Requires authentication\r\n */\r\nrouter.get('/:id', authenticate, async (req, res, next) => {\r\n  try {\r\n    const { id } = req.params;\r\n\r\n    const result = await query(\r\n      `SELECT c.*,\r\n              proj.title AS project_title,\r\n              proj.description AS project_description,\r\n              proj.project_type,\r\n              CONCAT_WS(' ', uc.first_name, uc.last_name) AS client_name,\r\n              uc.email AS client_email,\r\n              cp.company_name,\r\n              CONCAT_WS(' ', uf.first_name, uf.last_name) AS freelancer_name,\r\n              uf.email AS freelancer_email,\r\n              fp.bio AS freelancer_bio,\r\n              fp.rating_avg AS freelancer_rating\r\n       FROM contracts c\r\n       JOIN projects proj ON c.project_id = proj.id\r\n       JOIN client_profiles cp ON c.client_id = cp.id\r\n       JOIN users uc ON cp.user_id = uc.id\r\n       JOIN freelancer_profiles fp ON c.freelancer_id = fp.id\r\n       JOIN users uf ON fp.user_id = uf.id\r\n       WHERE c.id = ?`,\r\n      [id]\r\n    );\r\n\r\n    if (result.rows.length === 0) {\r\n      return res.status(404).json({ success: false, message: 'Contract not found' });\r\n    }\r\n\r\n    const contract = result.rows[0];\r\n\r\n    // Check if user has access to this contract\r\n    const clientProfileResult = await query(\r\n      'SELECT id FROM client_profiles WHERE user_id = ?',\r\n      [req.user.userId]\r\n    );\r\n    const freelancerProfileResult = await query(\r\n      'SELECT id FROM freelancer_profiles WHERE user_id = ?',\r\n      [req.user.userId]\r\n    );\r\n\r\n    const isClient = clientProfileResult.rows.length > 0 && \r\n                     clientProfileResult.rows[0].id === contract.client_id;\r\n    const isFreelancer = freelancerProfileResult.rows.length > 0 && \r\n                         freelancerProfileResult.rows[0].id === contract.freelancer_id;\r\n    const isAdmin = req.user.role === 'admin';\r\n\r\n    if (!isClient && !isFreelancer && !isAdmin) {\r\n      return res.status(403).json({\r\n        success: false,\r\n        message: 'You do not have permission to view this contract'\r\n      });\r\n    }\r\n\r\n    // Get milestones for this contract\r\n    const milestonesResult = await query(\r\n      'SELECT * FROM milestones WHERE contract_id = ? ORDER BY due_at ASC',\r\n      [id]\r\n    );\r\n\r\n    res.json({ \r\n      success: true, \r\n      data: {\r\n        ...contract,\r\n        milestones: milestonesResult.rows\r\n      }\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\n/**\r\n * PATCH /api/contracts/:id\r\n * Update contract (e.g., change status, end date)\r\n * Protected: Only client or freelancer in the contract can update\r\n */\r\nrouter.patch('/:id', authenticate, async (req, res, next) => {\r\n  try {\r\n    const { id } = req.params;\r\n    const { status, end_at } = req.body;\r\n\r\n    // Get the contract with owner info\r\n    const contractResult = await query(\r\n      `SELECT c.*, cp.user_id as client_user_id, fp.user_id as freelancer_user_id\r\n       FROM contracts c\r\n       JOIN client_profiles cp ON c.client_id = cp.id\r\n       JOIN freelancer_profiles fp ON c.freelancer_id = fp.id\r\n       WHERE c.id = ?`,\r\n      [id]\r\n    );\r\n\r\n    if (contractResult.rows.length === 0) {\r\n      return res.status(404).json({ success: false, message: 'Contract not found' });\r\n    }\r\n\r\n    const contract = contractResult.rows[0];\r\n\r\n    // Check permissions\r\n    const isClient = contract.client_user_id === req.user.userId;\r\n    const isFreelancer = contract.freelancer_user_id === req.user.userId;\r\n    const isAdmin = req.user.role === 'admin';\r\n\r\n    if (!isClient && !isFreelancer && !isAdmin) {\r\n      return res.status(403).json({\r\n        success: false,\r\n        message: 'You do not have permission to update this contract'\r\n      });\r\n    }\r\n\r\n    // Convert ISO datetime to MySQL format (YYYY-MM-DD HH:MM:SS)\r\n    let formattedEndAt = null;\r\n    if (end_at) {\r\n      formattedEndAt = new Date(end_at).toISOString().slice(0, 19).replace('T', ' ');\r\n    }\r\n\r\n    const updateResult = await query(\r\n      `UPDATE contracts\r\n       SET status = COALESCE(?, status),\r\n           end_at = COALESCE(?, end_at)\r\n       WHERE id = ?`,\r\n      [status ?? null, formattedEndAt, id]\r\n    );\r\n\r\n    if (updateResult.rowCount === 0) {\r\n      return res.status(404).json({ success: false, message: 'Contract not found' });\r\n    }\r\n\r\n    const result = await query(\r\n      'SELECT * FROM contracts WHERE id = ?',\r\n      [id]\r\n    );\r\n\r\n    res.json({ success: true, data: result.rows[0] });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\n/**\r\n * DELETE /api/contracts/:id\r\n * Terminate a contract\r\n * Protected: Only admin or mutual agreement\r\n */\r\nrouter.delete('/:id', authenticate, authorize('admin'), async (req, res, next) => {\r\n  try {\r\n    const { id } = req.params;\r\n\r\n    const result = await query('DELETE FROM contracts WHERE id = ?', [id]);\r\n\r\n    if (result.rowCount === 0) {\r\n      return res.status(404).json({ success: false, message: 'Contract not found' });\r\n    }\r\n\r\n    res.json({ success: true, message: 'Contract deleted successfully' });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"
    },
    "src\\routes\\auth.js": {
      "content": "const express = require('express');\r\nconst router = express.Router();\r\nconst bcrypt = require('bcrypt');\r\nconst jwt = require('jsonwebtoken');\r\nconst { body } = require('express-validator');\r\nconst rateLimit = require('express-rate-limit');\r\nconst { query, transaction } = require('../db/queries');\r\nconst { validate } = require('../middleware/validate');\r\nconst { authenticate } = require('../middleware/auth');\r\n\r\n// Rate limiters\r\nconst loginLimiter = rateLimit({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  max: 5, // 5 attempts per window\r\n  message: { success: false, message: 'Too many login attempts. Please try again later.' },\r\n  standardHeaders: true,\r\n  legacyHeaders: false,\r\n});\r\n\r\nconst registerLimiter = rateLimit({\r\n  windowMs: 60 * 60 * 1000, // 1 hour\r\n  max: 3, // 3 registrations per hour per IP\r\n  message: { success: false, message: 'Too many registration attempts. Please try again later.' },\r\n  standardHeaders: true,\r\n  legacyHeaders: false,\r\n});\r\n\r\n/**\r\n * Helper function to generate JWT tokens\r\n */\r\nconst generateTokens = (user) => {\r\n  const accessToken = jwt.sign(\r\n    {\r\n      userId: user.id,\r\n      email: user.email,\r\n      role: user.role\r\n    },\r\n    process.env.JWT_SECRET,\r\n    { expiresIn: process.env.JWT_EXPIRES_IN || '15m' }\r\n  );\r\n\r\n  const refreshToken = jwt.sign(\r\n    {\r\n      userId: user.id,\r\n      type: 'refresh'\r\n    },\r\n    process.env.JWT_REFRESH_SECRET,\r\n    { expiresIn: process.env.JWT_REFRESH_EXPIRES_IN || '7d' }\r\n  );\r\n\r\n  return { accessToken, refreshToken };\r\n};\r\n\r\n/**\r\n * Helper function to save refresh token to database\r\n */\r\nconst saveRefreshToken = async (userId, token) => {\r\n  const expiresAt = new Date();\r\n  expiresAt.setDate(expiresAt.getDate() + 7); // 7 days from now\r\n\r\n  await query(\r\n    'INSERT INTO refresh_tokens (user_id, token, expires_at) VALUES (?, ?, ?)',\r\n    [userId, token, expiresAt]\r\n  );\r\n};\r\n\r\n/**\r\n * POST /api/auth/register\r\n * Register a new user\r\n */\r\nrouter.post(\r\n  '/register',\r\n  registerLimiter,\r\n  [\r\n    body('email')\r\n      .isEmail()\r\n      .normalizeEmail()\r\n      .withMessage('Please provide a valid email address'),\r\n    body('password')\r\n      .isLength({ min: 8 })\r\n      .withMessage('Password must be at least 8 characters long')\r\n      .matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/)\r\n      .withMessage('Password must contain at least one uppercase letter, one lowercase letter, and one number'),\r\n    body('role')\r\n      .isIn(['freelancer', 'client'])\r\n      .withMessage('Role must be either freelancer or client'),\r\n    body('first_name')\r\n      .optional()\r\n      .trim()\r\n      .isLength({ min: 1, max: 100 })\r\n      .withMessage('First name must be between 1 and 100 characters'),\r\n    body('last_name')\r\n      .optional()\r\n      .trim()\r\n      .isLength({ min: 1, max: 100 })\r\n      .withMessage('Last name must be between 1 and 100 characters'),\r\n    body('phone')\r\n      .optional()\r\n      .matches(/^[+]?[(]?[0-9]{1,4}[)]?[-\\s\\.]?[(]?[0-9]{1,4}[)]?[-\\s\\.]?[0-9]{1,9}$/)\r\n      .withMessage('Please provide a valid phone number'),\r\n    body('country')\r\n      .optional()\r\n      .trim()\r\n      .isLength({ max: 100 })\r\n      .withMessage('Country must not exceed 100 characters')\r\n  ],\r\n  validate,\r\n  async (req, res, next) => {\r\n    try {\r\n      const { email, password, role, first_name, last_name, phone, country, profile } = req.body;\r\n\r\n      // Check if user already exists\r\n      const existingUser = await query('SELECT id FROM users WHERE email = ?', [email]);\r\n      \r\n      if (existingUser.rows.length > 0) {\r\n        return res.status(409).json({\r\n          success: false,\r\n          message: 'Email already registered. Please login or use a different email.'\r\n        });\r\n      }\r\n\r\n      // Hash password\r\n      const saltRounds = 10;\r\n      const passwordHash = await bcrypt.hash(password, saltRounds);\r\n\r\n      // Create user with profile in transaction\r\n      const result = await transaction(async (connection) => {\r\n        // Generate UUID for the new user\r\n        const uuidResult = await connection.query('SELECT UUID() as id');\r\n        const userId = uuidResult.rows[0].id;\r\n\r\n        // Insert user with the generated UUID\r\n        await connection.query(\r\n          `INSERT INTO users (id, email, password_hash, role, first_name, last_name, phone, country)\r\n           VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,\r\n          [userId, email, passwordHash, role, first_name, last_name, phone, country]\r\n        );\r\n\r\n        // Get the inserted user\r\n        const userResult = await connection.query(\r\n          'SELECT id, email, role, first_name, last_name, phone, country, is_verified, created_at FROM users WHERE id = ?',\r\n          [userId]\r\n        );\r\n        const user = userResult.rows[0];\r\n\r\n        // Create profile based on role\r\n        if (role === 'freelancer' && profile) {\r\n          await connection.query(\r\n            `INSERT INTO freelancer_profiles (user_id, bio, hourly_rate, experience_years, headline)\r\n             VALUES (?, ?, ?, ?, ?)`,\r\n            [\r\n              user.id,\r\n              profile.bio || null,\r\n              profile.hourly_rate || null,\r\n              profile.experience_years || null,\r\n              profile.headline || null\r\n            ]\r\n          );\r\n          \r\n          const profileResult = await connection.query(\r\n            'SELECT * FROM freelancer_profiles WHERE user_id = ?',\r\n            [user.id]\r\n          );\r\n          user.profile = profileResult.rows[0];\r\n        } else if (role === 'client' && profile) {\r\n          await connection.query(\r\n            `INSERT INTO client_profiles (user_id, company_name, company_size, website)\r\n             VALUES (?, ?, ?, ?)`,\r\n            [\r\n              user.id,\r\n              profile.company_name || null,\r\n              profile.company_size || null,\r\n              profile.website || null\r\n            ]\r\n          );\r\n          \r\n          const profileResult = await connection.query(\r\n            'SELECT * FROM client_profiles WHERE user_id = ?',\r\n            [user.id]\r\n          );\r\n          user.profile = profileResult.rows[0];\r\n        }\r\n\r\n        return user;\r\n      });\r\n\r\n      // Generate tokens\r\n      const { accessToken, refreshToken } = generateTokens(result);\r\n\r\n      // Save refresh token to database\r\n      await saveRefreshToken(result.id, refreshToken);\r\n\r\n      res.status(201).json({\r\n        success: true,\r\n        message: 'Registration successful',\r\n        data: {\r\n          user: result,\r\n          accessToken,\r\n          refreshToken\r\n        }\r\n      });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  }\r\n);\r\n\r\n/**\r\n * POST /api/auth/login\r\n * Login with email and password\r\n */\r\nrouter.post(\r\n  '/login',\r\n  loginLimiter,\r\n  [\r\n    body('email')\r\n      .isEmail()\r\n      .normalizeEmail()\r\n      .withMessage('Please provide a valid email address'),\r\n    body('password')\r\n      .notEmpty()\r\n      .withMessage('Password is required')\r\n  ],\r\n  validate,\r\n  async (req, res, next) => {\r\n    try {\r\n      const { email, password } = req.body;\r\n\r\n      // Get user with password\r\n      const userResult = await query(\r\n        'SELECT * FROM users WHERE email = ?',\r\n        [email]\r\n      );\r\n\r\n      if (userResult.rows.length === 0) {\r\n        return res.status(401).json({\r\n          success: false,\r\n          message: 'Invalid email or password'\r\n        });\r\n      }\r\n\r\n      const user = userResult.rows[0];\r\n\r\n      // Verify password\r\n      const isPasswordValid = await bcrypt.compare(password, user.password_hash);\r\n\r\n      if (!isPasswordValid) {\r\n        return res.status(401).json({\r\n          success: false,\r\n          message: 'Invalid email or password'\r\n        });\r\n      }\r\n\r\n      // Get profile based on role\r\n      if (user.role === 'freelancer') {\r\n        const profileResult = await query(\r\n          'SELECT * FROM freelancer_profiles WHERE user_id = ?',\r\n          [user.id]\r\n        );\r\n        user.profile = profileResult.rows[0] || null;\r\n      } else if (user.role === 'client') {\r\n        const profileResult = await query(\r\n          'SELECT * FROM client_profiles WHERE user_id = ?',\r\n          [user.id]\r\n        );\r\n        user.profile = profileResult.rows[0] || null;\r\n      }\r\n\r\n      // Remove password from response\r\n      delete user.password_hash;\r\n\r\n      // Generate tokens\r\n      const { accessToken, refreshToken } = generateTokens(user);\r\n\r\n      // Save refresh token to database\r\n      await saveRefreshToken(user.id, refreshToken);\r\n\r\n      res.json({\r\n        success: true,\r\n        message: 'Login successful',\r\n        data: {\r\n          user,\r\n          accessToken,\r\n          refreshToken\r\n        }\r\n      });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  }\r\n);\r\n\r\n/**\r\n * POST /api/auth/refresh\r\n * Refresh access token using refresh token\r\n */\r\nrouter.post('/refresh', async (req, res, next) => {\r\n  try {\r\n    const { refreshToken } = req.body;\r\n\r\n    if (!refreshToken) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Refresh token required'\r\n      });\r\n    }\r\n\r\n    // Verify refresh token\r\n    const decoded = jwt.verify(refreshToken, process.env.JWT_REFRESH_SECRET);\r\n\r\n    if (decoded.type !== 'refresh') {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Invalid token type'\r\n      });\r\n    }\r\n\r\n    // Check if refresh token exists in database and is not revoked\r\n    const tokenResult = await query(\r\n      'SELECT * FROM refresh_tokens WHERE token = ? AND user_id = ? AND revoked = FALSE AND expires_at > NOW()',\r\n      [refreshToken, decoded.userId]\r\n    );\r\n\r\n    if (tokenResult.rows.length === 0) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Invalid or expired refresh token'\r\n      });\r\n    }\r\n\r\n    // Get user\r\n    const userResult = await query(\r\n      'SELECT id, email, role, first_name, last_name FROM users WHERE id = ?',\r\n      [decoded.userId]\r\n    );\r\n\r\n    if (userResult.rows.length === 0) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'User not found'\r\n      });\r\n    }\r\n\r\n    const user = userResult.rows[0];\r\n\r\n    // Generate new access token\r\n    const accessToken = jwt.sign(\r\n      {\r\n        userId: user.id,\r\n        email: user.email,\r\n        role: user.role\r\n      },\r\n      process.env.JWT_SECRET,\r\n      { expiresIn: process.env.JWT_EXPIRES_IN || '15m' }\r\n    );\r\n\r\n    res.json({\r\n      success: true,\r\n      data: {\r\n        accessToken\r\n      }\r\n    });\r\n  } catch (error) {\r\n    if (error.name === 'JsonWebTokenError' || error.name === 'TokenExpiredError') {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Invalid or expired refresh token'\r\n      });\r\n    }\r\n    next(error);\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/auth/logout\r\n * Logout and revoke refresh token\r\n * Note: Does not require authentication to allow logout even with expired tokens\r\n */\r\nrouter.post('/logout', async (req, res, next) => {\r\n  try {\r\n    const { refreshToken } = req.body;\r\n\r\n    if (refreshToken) {\r\n      // Verify the refresh token to get the user ID\r\n      try {\r\n        const decoded = jwt.verify(refreshToken, process.env.JWT_REFRESH_SECRET);\r\n        \r\n        // Revoke the refresh token\r\n        await query(\r\n          'UPDATE refresh_tokens SET revoked = TRUE WHERE token = ? AND user_id = ?',\r\n          [refreshToken, decoded.userId]\r\n        );\r\n      } catch (jwtError) {\r\n        // If token is invalid/expired, still return success\r\n        // The token is unusable anyway\r\n        console.log('Invalid refresh token on logout:', jwtError.message);\r\n      }\r\n    }\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Logout successful'\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\n/**\r\n * POST /api/auth/logout-all\r\n * Logout from all devices (revoke all refresh tokens)\r\n */\r\nrouter.post('/logout-all', authenticate, async (req, res, next) => {\r\n  try {\r\n    // Revoke all refresh tokens for this user\r\n    await query(\r\n      'UPDATE refresh_tokens SET revoked = TRUE WHERE user_id = ?',\r\n      [req.user.userId]\r\n    );\r\n\r\n    res.json({\r\n      success: true,\r\n      message: 'Logged out from all devices'\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\n/**\r\n * GET /api/auth/me\r\n * Get current user info\r\n */\r\nrouter.get('/me', authenticate, async (req, res, next) => {\r\n  try {\r\n    // Get user with profile\r\n    const userResult = await query(\r\n      'SELECT id, email, role, first_name, last_name, phone, country, is_verified, created_at FROM users WHERE id = ?',\r\n      [req.user.userId]\r\n    );\r\n\r\n    if (userResult.rows.length === 0) {\r\n      return res.status(404).json({\r\n        success: false,\r\n        message: 'User not found'\r\n      });\r\n    }\r\n\r\n    const user = userResult.rows[0];\r\n\r\n    // Get profile based on role\r\n    if (user.role === 'freelancer') {\r\n      const profileResult = await query(\r\n        'SELECT * FROM freelancer_profiles WHERE user_id = ?',\r\n        [user.id]\r\n      );\r\n      user.profile = profileResult.rows[0] || null;\r\n    } else if (user.role === 'client') {\r\n      const profileResult = await query(\r\n        'SELECT * FROM client_profiles WHERE user_id = ?',\r\n        [user.id]\r\n      );\r\n      user.profile = profileResult.rows[0] || null;\r\n    }\r\n\r\n    res.json({\r\n      success: true,\r\n      data: user\r\n    });\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"
    },
    "client\\README.md": {
      "content": "# Freelancing Platform - React Frontend\n\nA modern React frontend for the Freelancing Platform API, built with Vite, React Router, and Axios.\n\n## Features\n\n### For Freelancers\n- Browse available projects\n- View project details with full descriptions\n- Submit proposals with bid amounts and cover letters\n- Track submitted proposals\n- Manage profile information\n\n### For Clients\n- Create new projects\n- View and manage posted projects\n- Review freelancer proposals\n- Accept or reject proposals\n- Track project status\n\n### General Features\n- User authentication (Login/Register)\n- Role-based navigation (Freelancer vs Client)\n- Project filtering by status and type\n- Responsive design\n- Clean, modern UI\n\n## Prerequisites\n\n- Node.js (v16 or higher)\n- npm or yarn\n- Backend API running on port 5000\n\n## Installation\n\n1. Navigate to the client directory:\n```bash\ncd client\n```\n\n2. Install dependencies:\n```bash\nnpm install\n```\n\n3. Create environment file:\n```bash\ncopy .env.example .env\n```\n\n4. Update `.env` if your API is running on a different URL:\n```env\nVITE_API_URL=http://localhost:5000/api\n```\n\n## Running the Application\n\n### Development Mode\n```bash\nnpm run dev\n```\n\nThe application will start on [http://localhost:3000](http://localhost:3000)\n\n### Production Build\n```bash\nnpm run build\n```\n\n### Preview Production Build\n```bash\nnpm run preview\n```\n\n## Project Structure\n\n```\nclient/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ components/         # Reusable UI components\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Navbar.jsx     # Navigation bar\n‚îÇ   ‚îú‚îÄ‚îÄ context/           # React Context providers\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.jsx # Authentication state\n‚îÇ   ‚îú‚îÄ‚îÄ pages/             # Page components\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx      # Login page\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Register.jsx   # Registration page\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx  # Browse projects\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProjectDetail.jsx # Project details & proposal submission\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyProposals.jsx # Freelancer proposals list\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MyProjects.jsx  # Client projects management\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateProject.jsx # Create new project\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Profile.jsx    # User profile\n‚îÇ   ‚îú‚îÄ‚îÄ services/          # API integration\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js         # Axios configuration & API endpoints\n‚îÇ   ‚îú‚îÄ‚îÄ App.jsx            # Main app component with routing\n‚îÇ   ‚îú‚îÄ‚îÄ index.jsx          # Entry point\n‚îÇ   ‚îî‚îÄ‚îÄ index.css          # Global styles\n‚îú‚îÄ‚îÄ index.html             # HTML template\n‚îú‚îÄ‚îÄ vite.config.js         # Vite configuration\n‚îî‚îÄ‚îÄ package.json           # Dependencies\n```\n\n## Usage Guide\n\n### First Time Setup\n\n1. **Start the Backend API** (see main README.md)\n   ```bash\n   # From the root directory\n   npm run dev\n   ```\n\n2. **Start the Frontend** (from client directory)\n   ```bash\n   npm run dev\n   ```\n\n3. **Register a New Account**\n   - Navigate to [http://localhost:3000/register](http://localhost:3000/register)\n   - Choose your role (Freelancer or Client)\n   - Fill in the registration form\n   - Submit to create your account\n\n### As a Freelancer\n\n1. **Browse Projects**\n   - View all available projects on the dashboard\n   - Filter by status and project type\n   - Click on any project to view details\n\n2. **Submit Proposals**\n   - On the project detail page, click \"Submit Proposal\"\n   - Enter your bid amount (for fixed price) or hourly rate\n   - Write a cover letter explaining your qualifications\n   - Submit the proposal\n\n3. **Manage Proposals**\n   - Navigate to \"My Proposals\" from the navbar\n   - View all submitted proposals and their status\n   - Withdraw pending proposals if needed\n\n### As a Client\n\n1. **Create Projects**\n   - Click \"Create New Project\" from My Projects page or navbar\n   - Fill in project details (title, description, budget, etc.)\n   - Submit to post the project\n\n2. **Manage Projects**\n   - Navigate to \"My Projects\" from the navbar\n   - View all your posted projects\n   - Click \"View Proposals\" to see freelancer submissions\n   - Accept or reject proposals\n   - Delete projects that are no longer needed\n\n3. **Review Proposals**\n   - Click \"View Proposals\" on any project\n   - Review freelancer bids, rates, and cover letters\n   - Accept a proposal to start the project\n   - Reject proposals that don't fit your needs\n\n## API Integration\n\nThe frontend communicates with the backend API using Axios. All API calls are centralized in [src/services/api.js](src/services/api.js).\n\n### Available API Endpoints\n\n- **Users**: GET, POST, PATCH, DELETE `/api/users`\n- **Projects**: GET, POST, PATCH, DELETE `/api/projects`\n- **Proposals**: GET, POST, PATCH, DELETE `/api/proposals`\n\n### Authentication\n\nAuthentication is handled client-side using localStorage to persist user data. In a production environment, you would implement proper JWT tokens or session-based authentication.\n\n## Styling\n\nThe application uses vanilla CSS with a mobile-first, responsive design approach. All styles are in [src/index.css](src/index.css).\n\n### Color Scheme\n- Primary: `#3498db` (Blue)\n- Success: `#27ae60` (Green)\n- Danger: `#e74c3c` (Red)\n- Dark: `#2c3e50` (Navy)\n- Light: `#f5f5f5` (Gray)\n\n## Development Notes\n\n### State Management\n- Global auth state is managed using React Context\n- Local component state uses React useState hooks\n\n### Routing\n- Uses React Router v6 for navigation\n- Protected routes redirect to login if not authenticated\n- Role-based routing for freelancer/client specific pages\n\n### Form Validation\n- HTML5 form validation is used\n- Server-side errors are displayed to users\n- Success messages confirm completed actions\n\n## Future Enhancements\n\n- Real-time notifications\n- File upload for project attachments\n- Advanced search and filtering\n- Messaging system between clients and freelancers\n- Payment integration\n- Review and rating system\n- Profile picture uploads\n\n## Troubleshooting\n\n### Common Issues\n\n1. **API Connection Failed**\n   - Ensure backend is running on port 5000\n   - Check VITE_API_URL in .env file\n   - Verify CORS is enabled in backend\n\n2. **Login Not Working**\n   - Check browser console for errors\n   - Verify user exists in database\n   - Ensure backend API is accessible\n\n3. **Blank Page After Login**\n   - Check browser console for errors\n   - Clear localStorage and try again\n   - Verify API responses in Network tab\n\n## Contributing\n\nWhen adding new features:\n1. Create components in appropriate directories\n2. Update routing in App.jsx\n3. Add API endpoints to services/api.js\n4. Update this README with new features\n\n## License\n\nISC\n"
    },
    "src\\middleware\\validate.js": {
      "content": "const { validationResult } = require('express-validator');\r\n\r\n/**\r\n * Middleware to handle validation errors from express-validator\r\n */\r\nconst validate = (req, res, next) => {\r\n  const errors = validationResult(req);\r\n  \r\n  if (!errors.isEmpty()) {\r\n    return res.status(400).json({\r\n      success: false,\r\n      message: 'Validation failed',\r\n      errors: errors.array().map(err => ({\r\n        field: err.path,\r\n        message: err.msg,\r\n        value: err.value\r\n      }))\r\n    });\r\n  }\r\n  \r\n  next();\r\n};\r\n\r\n\r\nmodule.exports = { validate };\r\n"
    },
    "src\\middleware\\errorHandler.js": {
      "content": "/**\n * Global error handler middleware for MySQL\n */\nconst errorHandler = (err, req, res, next) => {\n  console.error('Error:', err);\n\n  // MySQL database errors\n  if (err.code) {\n    switch (err.code) {\n      case 'ER_DUP_ENTRY': // Duplicate entry (1062)\n        return res.status(409).json({\n          success: false,\n          message: 'Duplicate entry',\n          error: err.sqlMessage\n        });\n      case 'ER_NO_REFERENCED_ROW': // Foreign key violation - no referenced row (1216)\n      case 'ER_ROW_IS_REFERENCED': // Foreign key violation - row is referenced (1217)\n      case 'ER_NO_REFERENCED_ROW_2': // Foreign key violation (1452)\n      case 'ER_ROW_IS_REFERENCED_2': // Foreign key violation (1451)\n        return res.status(400).json({\n          success: false,\n          message: 'Invalid reference',\n          error: err.sqlMessage\n        });\n      case 'ER_BAD_NULL_ERROR': // NOT NULL constraint violation (1048)\n        return res.status(400).json({\n          success: false,\n          message: 'Missing required field',\n          error: err.sqlMessage\n        });\n      case 'ER_TRUNCATED_WRONG_VALUE': // Invalid data format (1366)\n      case 'ER_WRONG_VALUE': // Invalid data format (1525)\n        return res.status(400).json({\n          success: false,\n          message: 'Invalid data format',\n          error: err.sqlMessage\n        });\n      case 'ER_DATA_TOO_LONG': // Data too long for column (1406)\n        return res.status(400).json({\n          success: false,\n          message: 'Data too long',\n          error: err.sqlMessage\n        });\n      case 'ER_BAD_FIELD_ERROR': // Unknown column (1054)\n        return res.status(400).json({\n          success: false,\n          message: 'Unknown column',\n          error: err.sqlMessage\n        });\n      case 'ER_NO_SUCH_TABLE': // Table doesn't exist (1146)\n        return res.status(500).json({\n          success: false,\n          message: 'Database table not found',\n          error: err.sqlMessage\n        });\n    }\n  }\n\n  // Default error response\n  res.status(err.status || 500).json({\n    success: false,\n    message: err.message || 'Internal server error',\n    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })\n  });\n};\n\nmodule.exports = errorHandler;\n"
    },
    "src\\middleware\\auth.js": {
      "content": "const jwt = require('jsonwebtoken');\r\nconst { query } = require('../db/queries');\r\n\r\n/**\r\n * Authentication middleware - Verifies JWT token\r\n * Attaches user info to req.user\r\n */\r\nconst authenticate = async (req, res, next) => {\r\n  try {\r\n    // Get token from Authorization header\r\n    const authHeader = req.headers.authorization;\r\n    \r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'No token provided. Please login.'\r\n      });\r\n    }\r\n\r\n    const token = authHeader.split(' ')[1];\r\n\r\n    // Verify token\r\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\r\n\r\n    // Check if user still exists\r\n    const result = await query(\r\n      'SELECT id, email, role, first_name, last_name, is_verified FROM users WHERE id = ?',\r\n      [decoded.userId]\r\n    );\r\n\r\n    if (result.rows.length === 0) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'User no longer exists.'\r\n      });\r\n    }\r\n\r\n    // Attach user info to request\r\n    req.user = {\r\n      userId: decoded.userId,\r\n      email: decoded.email,\r\n      role: decoded.role,\r\n      ...result.rows[0]\r\n    };\r\n\r\n    next();\r\n  } catch (error) {\r\n    if (error.name === 'JsonWebTokenError') {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Invalid token. Please login again.'\r\n      });\r\n    }\r\n    \r\n    if (error.name === 'TokenExpiredError') {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Token expired. Please login again.',\r\n        code: 'TOKEN_EXPIRED'\r\n      });\r\n    }\r\n\r\n    console.error('Authentication error:', error);\r\n    res.status(500).json({\r\n      success: false,\r\n      message: 'Authentication failed.'\r\n    });\r\n  }\r\n};\r\n\r\n/**\r\n * Optional authentication - Does not fail if no token\r\n * Useful for endpoints that work differently for authenticated users\r\n */\r\nconst optionalAuth = async (req, res, next) => {\r\n  try {\r\n    const authHeader = req.headers.authorization;\r\n    \r\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\r\n      req.user = null;\r\n      return next();\r\n    }\r\n\r\n    const token = authHeader.split(' ')[1];\r\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\r\n\r\n    const result = await query(\r\n      'SELECT id, email, role, first_name, last_name FROM users WHERE id = ?',\r\n      [decoded.userId]\r\n    );\r\n\r\n    req.user = result.rows.length > 0 ? result.rows[0] : null;\r\n    next();\r\n  } catch (error) {\r\n    req.user = null;\r\n    next();\r\n  }\r\n};\r\n\r\n/**\r\n * Role-based authorization middleware\r\n * @param {...string} roles - Allowed roles\r\n */\r\nconst authorize = (...roles) => {\r\n  return (req, res, next) => {\r\n    if (!req.user) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Authentication required.'\r\n      });\r\n    }\r\n\r\n    if (!roles.includes(req.user.role)) {\r\n      return res.status(403).json({\r\n        success: false,\r\n        message: `Access denied. Required role: ${roles.join(' or ')}`\r\n      });\r\n    }\r\n\r\n    next();\r\n  };\r\n};\r\n\r\n/**\r\n * Ownership verification middleware\r\n * Checks if the user owns the resource\r\n * @param {string} paramName - Name of the param containing the user ID (default: 'id')\r\n */\r\nconst verifyOwnership = (paramName = 'id') => {\r\n  return (req, res, next) => {\r\n    if (!req.user) {\r\n      return res.status(401).json({\r\n        success: false,\r\n        message: 'Authentication required.'\r\n      });\r\n    }\r\n\r\n    const resourceUserId = req.params[paramName];\r\n\r\n    // Admin can access everything\r\n    if (req.user.role === 'admin') {\r\n      return next();\r\n    }\r\n\r\n    // User can only access their own resources\r\n    if (req.user.userId !== resourceUserId) {\r\n      return res.status(403).json({\r\n        success: false,\r\n        message: 'You do not have permission to access this resource.'\r\n      });\r\n    }\r\n\r\n    next();\r\n  };\r\n};\r\n\r\n/**\r\n * Check if user is verified\r\n */\r\nconst requireVerified = (req, res, next) => {\r\n  if (!req.user) {\r\n    return res.status(401).json({\r\n      success: false,\r\n      message: 'Authentication required.'\r\n    });\r\n  }\r\n\r\n  if (!req.user.is_verified) {\r\n    return res.status(403).json({\r\n      success: false,\r\n      message: 'Email verification required. Please verify your email.'\r\n    });\r\n  }\r\n\r\n  next();\r\n};\r\n\r\nmodule.exports = {\r\n  authenticate,\r\n  optionalAuth,\r\n  authorize,\r\n  verifyOwnership,\r\n  requireVerified\r\n};\r\n"
    },
    "client\\dist\\index.html": {
      "content": "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Freelancing Platform</title>\n    <script type=\"module\" crossorigin src=\"/assets/index-EBMiv7T_.js\"></script>\n    <link rel=\"stylesheet\" crossorigin href=\"/assets/index-Ba-r_W9w.css\">\n  </head>\n  <body>\n    <div id=\"root\"></div>\n  </body>\n</html>\n"
    },
    "client\\package.json": {
      "content": "{\n  \"name\": \"freelance-platform-client\",\n  \"version\": \"1.0.0\",\n  \"description\": \"React frontend for Freelancing Platform\",\n  \"private\": true,\n  \"dependencies\": {\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\",\n    \"react-router-dom\": \"^6.20.0\",\n    \"axios\": \"^1.6.2\"\n  },\n  \"devDependencies\": {\n    \"@vitejs/plugin-react\": \"^4.2.1\",\n    \"vite\": \"^5.0.8\"\n  },\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\"\n  },\n  \"browserslist\": {\n    \"production\": [\n      \">0.2%\",\n      \"not dead\",\n      \"not op_mini all\"\n    ],\n    \"development\": [\n      \"last 1 chrome version\",\n      \"last 1 firefox version\",\n      \"last 1 safari version\"\n    ]\n  }\n}\n"
    },
    "client\\.env.example": {
      "content": "# API Configuration\nVITE_API_URL=http://localhost:5000/api\n"
    },
    "PROPOSAL_MANAGEMENT.md": {
      "content": "# Proposal Management System - Implementation Guide\r\n\r\n## Overview\r\n\r\nThe proposal management system allows clients to view, filter, shortlist, accept, and reject proposals submitted by freelancers for their projects. This document outlines the complete implementation including backend API endpoints, frontend components, and business logic.\r\n\r\n## Features Implemented\r\n\r\n### 1. **Accept/Reject Proposals** ‚úÖ\r\n\r\n- Clients can accept or reject proposals for their projects\r\n- Accepting a proposal automatically:\r\n  - Sets the proposal status to `'accepted'`\r\n  - Rejects all other proposals for the same project\r\n  - Updates the project status to `'awarded'`\r\n- Rejecting a proposal sets its status to `'rejected'`\r\n\r\n### 2. **Shortlist Proposals** ‚≠ê\r\n\r\n- Clients can mark promising proposals as \"shortlisted\"\r\n- Helps clients organize and prioritize proposals\r\n- Shortlisted proposals can still be accepted or rejected\r\n\r\n### 3. **Filter Proposals by Status** üîç\r\n\r\n- Filter proposals by: All, Submitted, Shortlisted, Accepted, Rejected\r\n- Shows count for each status category\r\n- Real-time filtering in the proposal modal\r\n\r\n### 4. **Visual Status Indicators** üé®\r\n\r\n- Color-coded status badges for easy identification\r\n- Icons for different statuses (‚≠ê shortlisted, ‚úì accepted, ‚úó rejected)\r\n- Responsive button states based on proposal status\r\n\r\n### 5. **Business Logic & Validation** üîí\r\n\r\n- Only project owners can accept/reject proposals\r\n- Cannot accept already-rejected proposals\r\n- Cannot reject already-accepted proposals\r\n- Automatic cascade rejection of other proposals when one is accepted\r\n- Projects must be in 'open' status to accept proposals\r\n\r\n## API Endpoints\r\n\r\n### Accept Proposal\r\n\r\n```http\r\nPOST /api/proposals/:id/accept\r\nAuthorization: Bearer <token>\r\n```\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"success\": true,\r\n  \"message\": \"Proposal accepted successfully\",\r\n  \"data\": {\r\n    \"id\": \"uuid\",\r\n    \"status\": \"accepted\",\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\n**Business Logic:**\r\n\r\n1. Validates user is project owner\r\n2. Checks proposal status (must not be already accepted/rejected)\r\n3. Checks project status (must be 'open')\r\n4. **Transaction:**\r\n   - Sets proposal status to 'accepted'\r\n   - Rejects all other proposals for the project\r\n   - Updates project status to 'awarded'\r\n\r\n### Reject Proposal\r\n\r\n```http\r\nPOST /api/proposals/:id/reject\r\nAuthorization: Bearer <token>\r\n```\r\n\r\n**Response:**\r\n\r\n```json\r\n{\r\n  \"success\": true,\r\n  \"message\": \"Proposal rejected successfully\",\r\n  \"data\": {\r\n    \"id\": \"uuid\",\r\n    \"status\": \"rejected\",\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\n**Business Logic:**\r\n\r\n1. Validates user is project owner\r\n2. Cannot reject already-accepted proposals\r\n3. Updates proposal status to 'rejected'\r\n\r\n### Update Proposal (for Shortlisting)\r\n\r\n```http\r\nPATCH /api/proposals/:id\r\nAuthorization: Bearer <token>\r\nContent-Type: application/json\r\n\r\n{\r\n  \"status\": \"shortlisted\"\r\n}\r\n```\r\n\r\n## Frontend Implementation\r\n\r\n### MyProjects.jsx\r\n\r\nThe main component for clients to manage their projects and proposals.\r\n\r\n**Key Functions:**\r\n\r\n```javascript\r\n// View proposals for a project\r\nconst handleViewProposals = (project) => {\r\n  setSelectedProject(project);\r\n  setFilterStatus(\"all\");\r\n  fetchProposals(project.id);\r\n};\r\n\r\n// Accept a proposal (uses dedicated endpoint)\r\nconst handleAcceptProposal = async (proposalId) => {\r\n  await proposalsAPI.accept(proposalId);\r\n  // Auto-refreshes proposals and projects\r\n};\r\n\r\n// Reject a proposal (uses dedicated endpoint)\r\nconst handleRejectProposal = async (proposalId) => {\r\n  await proposalsAPI.reject(proposalId);\r\n  // Refreshes proposals list\r\n};\r\n\r\n// Shortlist a proposal\r\nconst handleShortlistProposal = async (proposalId) => {\r\n  await proposalsAPI.update(proposalId, { status: \"shortlisted\" });\r\n  // Refreshes proposals list\r\n};\r\n```\r\n\r\n### Proposal Modal UI\r\n\r\n**Features:**\r\n\r\n- Full-screen modal overlay\r\n- Project title header\r\n- Status filter buttons with counts\r\n- Scrollable proposal list\r\n- Action buttons (Accept, Reject, Shortlist)\r\n- Visual status indicators\r\n\r\n**Layout:**\r\n\r\n```\r\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\r\n‚îÇ  Proposals for \"Project Title\"    Close ‚îÇ\r\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\r\n‚îÇ  [All (5)] [Submitted (3)] [‚≠ê Short... ‚îÇ\r\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\r\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ\r\n‚îÇ  ‚îÇ Freelancer Name    ‚≠ê shortlisted‚îÇ   ‚îÇ\r\n‚îÇ  ‚îÇ Bid: $500                        ‚îÇ   ‚îÇ\r\n‚îÇ  ‚îÇ Cover Letter...                  ‚îÇ   ‚îÇ\r\n‚îÇ  ‚îÇ                     [‚úì Accept]   ‚îÇ   ‚îÇ\r\n‚îÇ  ‚îÇ                     [‚úó Reject]   ‚îÇ   ‚îÇ\r\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ\r\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\r\n```\r\n\r\n## Database Schema\r\n\r\n### Proposal Status Flow\r\n\r\n```\r\nsubmitted ‚Üí shortlisted ‚Üí accepted\r\n    ‚Üì           ‚Üì\r\nrejected ‚Üê ‚Üê ‚Üê ‚Üê\r\n```\r\n\r\n**Valid Statuses:**\r\n\r\n- `submitted` - Initial status when proposal is created\r\n- `shortlisted` - Marked as interesting by client\r\n- `accepted` - Proposal accepted (triggers project award)\r\n- `rejected` - Proposal rejected\r\n\r\n### Project Status Flow\r\n\r\n```\r\nopen ‚Üí awarded ‚Üí in_progress ‚Üí completed\r\n  ‚Üì                ‚Üì\r\ncancelled ‚Üê ‚Üê ‚Üê ‚Üê\r\n```\r\n\r\n**Impact of Accepting Proposal:**\r\n\r\n- Project status changes from `open` to `awarded`\r\n- Only awarded projects can move to `in_progress`\r\n\r\n## CSS Styling\r\n\r\n### Status Badge Colors\r\n\r\n| Status      | Background | Text Color | Icon |\r\n| ----------- | ---------- | ---------- | ---- |\r\n| submitted   | #fff3cd    | #856404    | -    |\r\n| shortlisted | #e7f3ff    | #004085    | ‚≠ê   |\r\n| accepted    | #d4edda    | #155724    | ‚úì    |\r\n| rejected    | #f8d7da    | #721c24    | ‚úó    |\r\n\r\n### Project Status Colors\r\n\r\n| Status      | Background | Text Color |\r\n| ----------- | ---------- | ---------- |\r\n| open        | #d4edda    | #155724    |\r\n| awarded     | #d1ecf1    | #0c5460    |\r\n| in_progress | #fff3cd    | #856404    |\r\n| completed   | #cce5ff    | #004085    |\r\n| cancelled   | #f8d7da    | #721c24    |\r\n\r\n## User Flow\r\n\r\n### Client Workflow\r\n\r\n1. **View Projects**\r\n\r\n   - Navigate to \"My Projects\"\r\n   - See list of all projects with proposal counts\r\n\r\n2. **View Proposals**\r\n\r\n   - Click \"View Proposals (N)\" on a project\r\n   - Modal opens showing all proposals\r\n\r\n3. **Filter Proposals**\r\n\r\n   - Click filter buttons to view specific status\r\n   - Counts update dynamically\r\n\r\n4. **Shortlist Proposals** (Optional)\r\n\r\n   - Review submitted proposals\r\n   - Click \"‚≠ê Shortlist\" on interesting proposals\r\n   - Proposal moves to shortlisted status\r\n\r\n5. **Accept a Proposal**\r\n\r\n   - Review proposal details\r\n   - Click \"‚úì Accept\" button\r\n   - Confirm acceptance in dialog\r\n   - System automatically:\r\n     - Accepts the selected proposal\r\n     - Rejects all other proposals\r\n     - Updates project to \"awarded\" status\r\n\r\n6. **Reject a Proposal**\r\n   - Click \"‚úó Reject\" button\r\n   - Confirm rejection in dialog\r\n   - Proposal status changes to \"rejected\"\r\n\r\n### Freelancer Experience\r\n\r\nFreelancers can see their proposal status updates in \"My Proposals\" page:\r\n\r\n- **Submitted**: Waiting for client review\r\n- **Shortlisted**: Client is interested ‚≠ê\r\n- **Accepted**: Congratulations! You got the project ‚úì\r\n- **Rejected**: Better luck next time ‚úó\r\n\r\n## Error Handling\r\n\r\n### Backend Validation\r\n\r\n```javascript\r\n// Cannot accept rejected proposals\r\nif (proposal.status === \"rejected\") {\r\n  return res.status(400).json({\r\n    message: \"Cannot accept a rejected proposal\",\r\n  });\r\n}\r\n\r\n// Cannot reject accepted proposals\r\nif (proposal.status === \"accepted\") {\r\n  return res.status(400).json({\r\n    message: \"Cannot reject an accepted proposal\",\r\n  });\r\n}\r\n\r\n// Only project owner can accept/reject\r\nif (!isProjectOwner && !isAdmin) {\r\n  return res.status(403).json({\r\n    message: \"Only the project owner can accept proposals\",\r\n  });\r\n}\r\n\r\n// Project must be open\r\nif (proposal.project_status !== \"open\") {\r\n  return res.status(400).json({\r\n    message: \"Project is not open for accepting proposals\",\r\n  });\r\n}\r\n```\r\n\r\n### Frontend Error Handling\r\n\r\n- User-friendly error messages via `alert()`\r\n- Automatic error extraction from API responses\r\n- Console logging for debugging\r\n- Confirmation dialogs for critical actions\r\n\r\n## Security & Authorization\r\n\r\n### Access Control\r\n\r\n- ‚úÖ Only authenticated users can view proposals\r\n- ‚úÖ Only project owners can accept/reject proposals\r\n- ‚úÖ Admin users have override permissions\r\n- ‚úÖ JWT token authentication on all endpoints\r\n\r\n### Transaction Safety\r\n\r\n- ‚úÖ Accept operation uses database transactions\r\n- ‚úÖ All-or-nothing guarantee for:\r\n  - Accepting proposal\r\n  - Rejecting other proposals\r\n  - Updating project status\r\n- ‚úÖ Rollback on any failure\r\n\r\n## Testing Checklist\r\n\r\n### Backend Tests\r\n\r\n- [ ] Accept proposal as project owner\r\n- [ ] Accept proposal as admin\r\n- [ ] Accept proposal as non-owner (should fail)\r\n- [ ] Accept already-accepted proposal (should fail)\r\n- [ ] Accept rejected proposal (should fail)\r\n- [ ] Reject proposal as project owner\r\n- [ ] Reject accepted proposal (should fail)\r\n- [ ] Verify transaction rollback on error\r\n- [ ] Verify all other proposals rejected when one accepted\r\n- [ ] Verify project status changes to 'awarded'\r\n\r\n### Frontend Tests\r\n\r\n- [ ] View proposals modal opens correctly\r\n- [ ] Filter buttons work correctly\r\n- [ ] Counts update when filtering\r\n- [ ] Accept button triggers confirmation\r\n- [ ] Reject button triggers confirmation\r\n- [ ] Shortlist button works without confirmation\r\n- [ ] Status badges display correctly\r\n- [ ] Action buttons only show for valid statuses\r\n- [ ] Error messages display correctly\r\n- [ ] Modal closes properly\r\n\r\n## Future Enhancements\r\n\r\n### Potential Improvements\r\n\r\n1. **Email Notifications**\r\n\r\n   - Notify freelancers when proposal is accepted/rejected/shortlisted\r\n   - Notify clients when new proposals arrive\r\n\r\n2. **Contract Creation**\r\n\r\n   - Automatically create contract when proposal is accepted\r\n   - Link contract to proposal and project\r\n\r\n3. **Proposal Comparison**\r\n\r\n   - Side-by-side comparison of multiple proposals\r\n   - Highlight differences in rates, hours, etc.\r\n\r\n4. **Messaging**\r\n\r\n   - In-app messaging between client and freelancer\r\n   - Discuss proposal details before acceptance\r\n\r\n5. **Analytics**\r\n\r\n   - Track acceptance rates\r\n   - Average time to accept proposals\r\n   - Proposal quality metrics\r\n\r\n6. **Bulk Actions**\r\n   - Reject multiple proposals at once\r\n   - Bulk shortlist from submitted proposals\r\n\r\n## Troubleshooting\r\n\r\n### Common Issues\r\n\r\n**Issue:** Buttons not showing for proposals\r\n\r\n- **Cause:** Proposal status doesn't match expected values\r\n- **Solution:** Check database for status value (should be 'submitted', not 'pending')\r\n\r\n**Issue:** Accept button fails with 403 error\r\n\r\n- **Cause:** User is not the project owner\r\n- **Solution:** Verify user is logged in as the client who created the project\r\n\r\n**Issue:** Transaction fails during accept\r\n\r\n- **Cause:** Database connection issue or constraint violation\r\n- **Solution:** Check MySQL logs, verify foreign key relationships\r\n\r\n**Issue:** Other proposals not rejected after accept\r\n\r\n- **Cause:** Transaction not completing properly\r\n- **Solution:** Verify transaction logic in backend, check for SQL errors\r\n\r\n## Conclusion\r\n\r\nThe proposal management system provides a complete workflow for clients to manage freelancer proposals. The implementation includes:\r\n\r\n- ‚úÖ Robust backend API with proper business logic\r\n- ‚úÖ Transaction safety for critical operations\r\n- ‚úÖ User-friendly frontend with filters and visual feedback\r\n- ‚úÖ Proper authorization and security\r\n- ‚úÖ Comprehensive error handling\r\n- ‚úÖ Scalable architecture for future enhancements\r\n\r\nThe system is production-ready and can handle the core freelancing platform workflow of proposal submission, review, and acceptance.\r\n"
    },
    "package.json": {
      "content": "{\n  \"name\": \"dbms\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Freelancing Platform API with Raw SQL\",\n  \"main\": \"src/server.js\",\n  \"scripts\": {\n    \"start\": \"node src/server.js\",\n    \"dev\": \"nodemon src/server.js\",\n    \"init-db\": \"node src/db/init.js\",\n    \"seed\": \"node src/db/seed.js\",\n    \"setup\": \"node scripts/setup.js\",\n    \"db:reset\": \"npm run init-db && npm run seed\",\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"type\": \"commonjs\",\n  \"dependencies\": {\n    \"bcrypt\": \"^6.0.0\",\n    \"cookie-parser\": \"^1.4.7\",\n    \"cors\": \"^2.8.5\",\n    \"dotenv\": \"^17.2.3\",\n    \"express\": \"^5.1.0\",\n    \"express-rate-limit\": \"^8.1.0\",\n    \"express-validator\": \"^7.3.0\",\n    \"helmet\": \"^8.1.0\",\n    \"jsonwebtoken\": \"^9.0.2\",\n    \"morgan\": \"^1.10.1\",\n    \"mysql2\": \"^3.6.0\"\n  },\n  \"devDependencies\": {\n    \"nodemon\": \"^3.1.10\"\n  }\n}"
    },
    "entrypoint.sh": {
      "content": "#!/bin/bash\n# Wait for MySQL to be ready\necho \"Waiting for MySQL to be ready...\"\nwhile ! nc -z mysql 3306; do\n  sleep 1\ndone\necho \"MySQL is ready!\"\n\n# Initialize database and seed data\necho \"Initializing database...\"\nnpm run init-db\n\necho \"Seeding database...\"\nnpm run seed\n\necho \"Starting application...\"\nnpm run dev\n"
    },
    "Dockerfile": {
      "content": "FROM node:18-alpine\n\n# Set working directory\nWORKDIR /app\n\n# Install nc (netcat) for health checks\nRUN apk add --no-cache netcat-openbsd\n\n# Copy package files\nCOPY package*.json ./\n\n# Install dependencies including dev dependencies\nRUN npm install\n\n# Copy source code\nCOPY . .\n\n# Copy and make entrypoint executable\nCOPY entrypoint.sh /app/entrypoint.sh\nRUN chmod +x /app/entrypoint.sh\n\n# Expose port\nEXPOSE 3000\n\n# Start the application with entrypoint\nENTRYPOINT [\"/app/entrypoint.sh\"]\n"
    },
    "src\\db\\seed.js": {
      "content": "const { randomUUID } = require('crypto');\nconst pool = require('../config/database');\n\nconst TABLES = [\n  'messages',\n  'message_threads',\n  'reviews',\n  'payments',\n  'escrows',\n  'milestones',\n  'contracts',\n  'proposals',\n  'project_skills',\n  'projects',\n  'freelancer_skills',\n  'skills',\n  'client_profiles',\n  'freelancer_profiles',\n  'users'\n];\n\nconst insertMany = async (connection, sql, rows) => {\n  for (const row of rows) {\n    await connection.query(sql, row);\n  }\n};\n\nconst seed = async () => {\n  const connection = await pool.getConnection();\n\n  try {\n    console.log('Resetting existing data...');\n    await connection.query('SET FOREIGN_KEY_CHECKS = 0');\n    for (const table of TABLES) {\n      await connection.query(`TRUNCATE TABLE ${table}`);\n    }\n    await connection.query('SET FOREIGN_KEY_CHECKS = 1');\n\n    await connection.beginTransaction();\n\n    const userIds = {\n      janeClient: randomUUID(),\n      hiroClient: randomUUID(),\n      johnFreelancer: randomUUID(),\n      priyaFreelancer: randomUUID(),\n      carlosFreelancer: randomUUID(),\n      avaAdmin: randomUUID()\n    };\n\n    const clientProfileIds = {\n      jane: randomUUID(),\n      hiro: randomUUID()\n    };\n\n    const freelancerProfileIds = {\n      john: randomUUID(),\n      priya: randomUUID(),\n      carlos: randomUUID()\n    };\n\n    const skillIds = {\n      javascript: randomUUID(),\n      react: randomUUID(),\n      node: randomUUID(),\n      mysql: randomUUID(),\n      uiux: randomUUID(),\n      python: randomUUID()\n    };\n\n    const projectIds = {\n      reactDashboard: randomUUID(),\n      ecommerceApi: randomUUID(),\n      mobileAppDevelopment: randomUUID()\n    };\n\n    const contractIds = {\n      reactDashboard: randomUUID(),\n      ecommerceApi: randomUUID(),\n      mobileAppDevelopment: randomUUID()\n    };\n\n    const milestoneIds = {\n      discovery: randomUUID(),\n      delivery: randomUUID(),\n      apiMvp: randomUUID()\n    };\n\n    const threadIds = {\n      projectReact: randomUUID(),\n      contractReact: randomUUID()\n    };\n\n    // Password for all users: 'Password123!' (except admin: 'Admin123!')\n    const users = [\n      [\n        userIds.janeClient,\n        'jane.client@example.com',\n        '$2b$10$DhWaEguqj7WZwZda6Dlz9ufOMA4POtIj31VoyfAAJTHniwh0mCZ.u', // Password123!\n        'client',\n        'Jane',\n        'Smith',\n        '+44 1234 567890',\n        'United Kingdom',\n        true\n      ],\n      [\n        userIds.hiroClient,\n        'hiro.client@example.com',\n        '$2b$10$Bu0vUJ.rjT5F5356xmjaQOkf8kFrwYjFugfGD0RBd7D1DOIwPfGd6', // Password123!\n        'client',\n        'Hiro',\n        'Tanaka',\n        '+81 80-1234-5678',\n        'Japan',\n        true\n      ],\n      [\n        userIds.johnFreelancer,\n        'john.freelancer@example.com',\n        '$2b$10$mXwDteNzRqmtUYSedu77J..MZXFUdhD4vmTlvoBtMutW000HTczVu', // Password123!\n        'freelancer',\n        'John',\n        'Doe',\n        '+1 212-555-0101',\n        'United States',\n        true\n      ],\n      [\n        userIds.priyaFreelancer,\n        'priya.freelancer@example.com',\n        '$2b$10$unUJ8v6N3JDvoIIkG/lOKOJPUsi7BPddmZko.p.nquJXPQ.UcKyWi', // Password123!\n        'freelancer',\n        'Priya',\n        'Patel',\n        '+91 98765 43210',\n        'India',\n        true\n      ],\n      [\n        userIds.carlosFreelancer,\n        'carlos.freelancer@example.com',\n        '$2b$10$H.qQ5ldm9.H3Yz9QYW5/DetQgpmVdQqXkN9qK/qfSwv90Dif7QgYe', // Password123!\n        'freelancer',\n        'Carlos',\n        'Mendez',\n        '+52 55 1234 5678',\n        'Mexico',\n        false\n      ],\n      [\n        userIds.avaAdmin,\n        'ava.admin@example.com',\n        '$2b$10$74ylMMggLDXyaPtE4Atf9O39KtZGWam.Yfp0T2gghCGlF5fiXgfve', // Admin123!\n        'admin',\n        'Ava',\n        'Wong',\n        '+61 2 9876 5432',\n        'Australia',\n        true\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO users (id, email, password_hash, role, first_name, last_name, phone, country, is_verified)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n      users\n    );\n\n    const freelancerProfiles = [\n      [\n        freelancerProfileIds.john,\n        userIds.johnFreelancer,\n        'Full-stack developer specialising in React and Node.js applications.',\n        65.0,\n        6,\n        'Senior Full-stack Developer',\n        4.9,\n        32,\n        JSON.stringify({\n          timezone: 'America/New_York',\n          availability: {\n            monday: ['09:00-17:00'],\n            tuesday: ['09:00-17:00'],\n            thursday: ['10:00-15:00']\n          },\n          weeklyCapacityHours: 30\n        })\n      ],\n      [\n        freelancerProfileIds.priya,\n        userIds.priyaFreelancer,\n        'Backend engineer focused on data-intensive APIs and cloud-native systems.',\n        55.0,\n        5,\n        'Backend & Data Engineer',\n        4.8,\n        21,\n        JSON.stringify({\n          timezone: 'Asia/Kolkata',\n          availability: {\n            monday: ['13:00-18:00'],\n            wednesday: ['09:00-17:00'],\n            friday: ['09:00-15:00']\n          },\n          weeklyCapacityHours: 25\n        })\n      ],\n      [\n        freelancerProfileIds.carlos,\n        userIds.carlosFreelancer,\n        'UI/UX designer crafting delightful product experiences and design systems.',\n        45.0,\n        4,\n        'Product Designer & UX Specialist',\n        4.6,\n        14,\n        JSON.stringify({\n          timezone: 'America/Mexico_City',\n          availability: {\n            tuesday: ['10:00-16:00'],\n            thursday: ['10:00-16:00']\n          },\n          weeklyCapacityHours: 20\n        })\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO freelancer_profiles (id, user_id, bio, hourly_rate, experience_years, headline, rating_avg, rating_count, availability)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n      freelancerProfiles\n    );\n\n    const clientProfiles = [\n      [\n        clientProfileIds.jane,\n        userIds.janeClient,\n        'Bright Pixel Labs',\n        '11-50',\n        'https://brightpixel.io',\n        4.7,\n        12,\n        true\n      ],\n      [\n        clientProfileIds.hiro,\n        userIds.hiroClient,\n        'Sakura Commerce',\n        '51-200',\n        'https://sakuracommerce.jp',\n        4.5,\n        8,\n        false\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO client_profiles (id, user_id, company_name, company_size, website, rating_avg, rating_count, is_business_verified)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,\n      clientProfiles\n    );\n\n    const skills = [\n      [skillIds.javascript, 'JavaScript', 'Programming'],\n      [skillIds.react, 'React', 'Frontend'],\n      [skillIds.node, 'Node.js', 'Backend'],\n      [skillIds.mysql, 'MySQL', 'Database'],\n      [skillIds.uiux, 'UI/UX Design', 'Design'],\n      [skillIds.python, 'Python', 'Programming']\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO skills (id, name, category)\n       VALUES (?, ?, ?)`,\n      skills\n    );\n\n    const freelancerSkills = [\n      [randomUUID(), freelancerProfileIds.john, skillIds.javascript, 5, 6],\n      [randomUUID(), freelancerProfileIds.john, skillIds.react, 5, 5],\n      [randomUUID(), freelancerProfileIds.john, skillIds.node, 4, 5],\n      [randomUUID(), freelancerProfileIds.priya, skillIds.node, 5, 5],\n      [randomUUID(), freelancerProfileIds.priya, skillIds.python, 5, 6],\n      [randomUUID(), freelancerProfileIds.priya, skillIds.mysql, 4, 5],\n      [randomUUID(), freelancerProfileIds.carlos, skillIds.uiux, 5, 4],\n      [randomUUID(), freelancerProfileIds.carlos, skillIds.react, 3, 2]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO freelancer_skills (id, freelancer_id, skill_id, proficiency, years)\n       VALUES (?, ?, ?, ?, ?)`,\n      freelancerSkills\n    );\n\n    const projects = [\n      [\n        projectIds.reactDashboard,\n        clientProfileIds.jane,\n        'React Dashboard Revamp',\n        'Update an existing SaaS analytics dashboard with new visualizations and responsive design improvements.',\n        'fixed',\n        3500.0,\n        5500.0,\n        'USD',\n        'open',\n        'public',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 3),\n        new Date(Date.now() + 1000 * 60 * 60 * 24 * 25)\n      ],\n      [\n        projectIds.ecommerceApi,\n        clientProfileIds.hiro,\n        'E-commerce API Modernisation',\n        'Build a modular API for our e-commerce backend with integrations to payment and inventory systems.',\n        'hourly',\n        40.0,\n        65.0,\n        'USD',\n        'in_progress',\n        'invite_only',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 10),\n        new Date(Date.now() + 1000 * 60 * 60 * 24 * 40)\n      ],\n      [\n        projectIds.mobileAppDevelopment,\n        clientProfileIds.jane,\n        'React Native Mobile App Development',\n        'Develop a cross-platform mobile app for iOS and Android with real-time notifications and offline support.',\n        'hourly',\n        35.0,\n        55.0,\n        'USD',\n        'open',\n        'public',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 5),\n        new Date(Date.now() + 1000 * 60 * 60 * 24 * 60)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO projects (id, client_id, title, description, project_type, budget_min, budget_max, currency, status, visibility, posted_at, due_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n      projects\n    );\n\n    const projectSkills = [\n      [randomUUID(), projectIds.reactDashboard, skillIds.javascript],\n      [randomUUID(), projectIds.reactDashboard, skillIds.react],\n      [randomUUID(), projectIds.reactDashboard, skillIds.uiux],\n      [randomUUID(), projectIds.ecommerceApi, skillIds.node],\n      [randomUUID(), projectIds.ecommerceApi, skillIds.mysql],\n      [randomUUID(), projectIds.ecommerceApi, skillIds.python],\n      [randomUUID(), projectIds.mobileAppDevelopment, skillIds.react],\n      [randomUUID(), projectIds.mobileAppDevelopment, skillIds.javascript],\n      [randomUUID(), projectIds.mobileAppDevelopment, skillIds.node]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO project_skills (id, project_id, skill_id)\n       VALUES (?, ?, ?)`,\n      projectSkills\n    );\n\n    const proposals = [\n      [\n        randomUUID(),\n        projectIds.reactDashboard,\n        freelancerProfileIds.john,\n        4200.0,\n        null,\n        80,\n        'I can deliver the redesign along with a component library and documentation.',\n        'shortlisted',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 2)\n      ],\n      [\n        randomUUID(),\n        projectIds.reactDashboard,\n        freelancerProfileIds.priya,\n        4800.0,\n        null,\n        90,\n        'Happy to collaborate with your design team and provide weekly progress demos.',\n        'submitted',\n        new Date(Date.now() - 1000 * 60 * 60 * 24)\n      ],\n      [\n        randomUUID(),\n        projectIds.ecommerceApi,\n        freelancerProfileIds.priya,\n        null,\n        58.0,\n        120,\n        'I have experience with large scale commerce APIs and can optimise data flows.',\n        'accepted',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 6)\n      ],\n      [\n        randomUUID(),\n        projectIds.ecommerceApi,\n        freelancerProfileIds.carlos,\n        null,\n        42.0,\n        60,\n        'Can support your product team with UX reviews and new admin panels.',\n        'rejected',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 5)\n      ],\n      [\n        randomUUID(),\n        projectIds.mobileAppDevelopment,\n        freelancerProfileIds.john,\n        null,\n        52.0,\n        200,\n        'I have extensive React Native experience and can build a high-quality cross-platform app with real-time capabilities.',\n        'submitted',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 1)\n      ],\n      [\n        randomUUID(),\n        projectIds.mobileAppDevelopment,\n        freelancerProfileIds.carlos,\n        null,\n        48.0,\n        180,\n        'Strong portfolio with iOS and Android apps. Can deliver the UI/UX and coordinate with backend team.',\n        'submitted',\n        new Date(Date.now() - 1000 * 60 * 60 * 12)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO proposals (id, project_id, freelancer_id, bid_amount, hourly_rate, estimated_hours, cover_letter, status, submitted_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n      proposals\n    );\n\n    const contracts = [\n      [\n        contractIds.reactDashboard,\n        projectIds.reactDashboard,\n        clientProfileIds.jane,\n        freelancerProfileIds.john,\n        'fixed',\n        'active',\n        4200.0,\n        null,\n        'USD',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 1),\n        null\n      ],\n      [\n        contractIds.ecommerceApi,\n        projectIds.ecommerceApi,\n        clientProfileIds.hiro,\n        freelancerProfileIds.priya,\n        'hourly',\n        'active',\n        null,\n        58.0,\n        'USD',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 4),\n        null\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO contracts (id, project_id, client_id, freelancer_id, contract_type, status, agreed_amount, hourly_rate, currency, start_at, end_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n      contracts\n    );\n\n    const milestones = [\n      [\n        milestoneIds.discovery,\n        contractIds.reactDashboard,\n        'Discovery & Wireframes',\n        'Audit existing dashboard, create wireframes, and gather stakeholder feedback.',\n        1800.0,\n        'released',\n        new Date(Date.now() + 1000 * 60 * 60 * 24 * 5),\n        new Date(Date.now() - 1000 * 60 * 60 * 12)\n      ],\n      [\n        milestoneIds.delivery,\n        contractIds.reactDashboard,\n        'Component Library Delivery',\n        'Implement reusable React components, finalize responsive layout, and deliver docs.',\n        2400.0,\n        'in_review',\n        new Date(Date.now() + 1000 * 60 * 60 * 24 * 20),\n        null\n      ],\n      [\n        milestoneIds.apiMvp,\n        contractIds.ecommerceApi,\n        'API MVP Release',\n        'Deliver core product, pricing, and checkout microservices with integration tests.',\n        0.0,\n        'funded',\n        new Date(Date.now() + 1000 * 60 * 60 * 24 * 14),\n        null\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO milestones (id, contract_id, title, scope, amount, status, due_at, released_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,\n      milestones\n    );\n\n    const escrows = [\n      [\n        randomUUID(),\n        milestoneIds.discovery,\n        1800.0,\n        'USD',\n        'released',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 2),\n        new Date(Date.now() - 1000 * 60 * 60 * 12)\n      ],\n      [\n        randomUUID(),\n        milestoneIds.delivery,\n        2400.0,\n        'USD',\n        'funded',\n        new Date(Date.now() - 1000 * 60 * 60 * 6),\n        new Date(Date.now() - 1000 * 60 * 60 * 6)\n      ],\n      [\n        randomUUID(),\n        milestoneIds.apiMvp,\n        0.0,\n        'USD',\n        'funded',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 3),\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 3)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO escrows (id, milestone_id, amount, currency, status, funded_at, updated_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?)`,\n      escrows\n    );\n\n    const payments = [\n      [\n        randomUUID(),\n        milestoneIds.discovery,\n        clientProfileIds.jane,\n        freelancerProfileIds.john,\n        1800.0,\n        'USD',\n        'card',\n        'paid',\n        new Date(Date.now() - 1000 * 60 * 60 * 6)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO payments (id, milestone_id, payer_client_id, payee_freelancer_id, amount, currency, method, status, paid_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n      payments\n    );\n\n    const reviews = [\n      [\n        randomUUID(),\n        contractIds.reactDashboard,\n        userIds.janeClient,\n        userIds.johnFreelancer,\n        5,\n        'John quickly understood our product vision and delivered polished UI components.',\n        new Date(Date.now() - 1000 * 60 * 60 * 3)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO reviews (id, contract_id, reviewer_user_id, reviewee_user_id, rating, comment, reviewed_at)\n       VALUES (?, ?, ?, ?, ?, ?, ?)`,\n      reviews\n    );\n\n    const messageThreads = [\n      [\n        threadIds.projectReact,\n        projectIds.reactDashboard,\n        null,\n        'project',\n        new Date(Date.now() - 1000 * 60 * 60 * 24 * 2)\n      ],\n      [\n        threadIds.contractReact,\n        null,\n        contractIds.reactDashboard,\n        'contract',\n        new Date(Date.now() - 1000 * 60 * 60 * 12)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO message_threads (id, project_id, contract_id, scope, created_at)\n       VALUES (?, ?, ?, ?, ?)`,\n      messageThreads\n    );\n\n    const messages = [\n      [\n        randomUUID(),\n        threadIds.projectReact,\n        userIds.janeClient,\n        'Thanks for the proposal, John. Could you also include chart exporting improvements?',\n        'text',\n        new Date(Date.now() - 1000 * 60 * 60 * 20)\n      ],\n      [\n        randomUUID(),\n        threadIds.projectReact,\n        userIds.johnFreelancer,\n        'Absolutely. I will include an export module supporting PDF and CSV outputs.',\n        'text',\n        new Date(Date.now() - 1000 * 60 * 60 * 19)\n      ],\n      [\n        randomUUID(),\n        threadIds.contractReact,\n        userIds.johnFreelancer,\n        'Milestone 1 deliverables are uploaded for review. Let me know if any revisions are needed.',\n        'text',\n        new Date(Date.now() - 1000 * 60 * 60 * 6)\n      ]\n    ];\n\n    await insertMany(\n      connection,\n      `INSERT INTO messages (id, thread_id, sender_user_id, body, type, sent_at)\n       VALUES (?, ?, ?, ?, ?, ?)`,\n      messages\n    );\n\n    await connection.commit();\n    console.log('Database seeded successfully.');\n  } catch (error) {\n    await connection.rollback().catch(() => {});\n    console.error('Failed to seed database:', error);\n    process.exitCode = 1;\n  } finally {\n    connection.release();\n    await pool.end();\n  }\n};\n\nseed()\n  .then(() => {\n    if (!process.exitCode || process.exitCode === 0) {\n      process.exit(0);\n    }\n  })\n  .catch((error) => {\n    console.error('Unexpected error during seeding:', error);\n    process.exit(1);\n  });\n\n"
    },
    "src\\db\\seed.sql": {
      "content": "-- Sample Skills\nINSERT INTO\n    skills (id, name, category)\nVALUES (\n        uuid_generate_v4 (),\n        'JavaScript',\n        'Programming'\n    ),\n    (\n        uuid_generate_v4 (),\n        'Python',\n        'Programming'\n    ),\n    (\n        uuid_generate_v4 (),\n        'React',\n        'Frontend'\n    ),\n    (\n        uuid_generate_v4 (),\n        'Node.js',\n        'Backend'\n    ),\n    (\n        uuid_generate_v4 (),\n        'PostgreSQL',\n        'Database'\n    ),\n    (\n        uuid_generate_v4 (),\n        'UI/UX Design',\n        'Design'\n    ),\n    (\n        uuid_generate_v4 (),\n        'Graphic Design',\n        'Design'\n    ),\n    (\n        uuid_generate_v4 (),\n        'Content Writing',\n        'Writing'\n    ),\n    (\n        uuid_generate_v4 (),\n        'SEO',\n        'Marketing'\n    ),\n    (\n        uuid_generate_v4 (),\n        'Digital Marketing',\n        'Marketing'\n    );\n\n-- Sample Users (passwords should be hashed in production)\nINSERT INTO\n    users (\n        id,\n        email,\n        password_hash,\n        role,\n        first_name,\n        last_name,\n        phone,\n        country,\n        is_verified\n    )\nVALUES (\n        uuid_generate_v4 (),\n        'john.freelancer@example.com',\n        'hashed_password_1',\n        'freelancer',\n        'John',\n        'Doe',\n        '+1234567890',\n        'USA',\n        true\n    ),\n    (\n        uuid_generate_v4 (),\n        'jane.client@example.com',\n        'hashed_password_2',\n        'client',\n        'Jane',\n        'Smith',\n        '+1234567891',\n        'UK',\n        true\n    ),\n    (\n        uuid_generate_v4 (),\n        'mike.freelancer@example.com',\n        'hashed_password_3',\n        'freelancer',\n        'Mike',\n        'Johnson',\n        '+1234567892',\n        'Canada',\n        true\n    );\n\n(\n    uuid_generate_v4 (),\n    'admin@example.com',\n    'hashed_password_4',\n    'freelancer',\n    'abc',\n    'def',\n    '+1234567893',\n    'USA',\n    true\n);\n\n-- Note: You'll need to insert freelancer_profiles and client_profiles using the user_ids from above\n-- This is just a basic seed file. In practice, you'd query the inserted user IDs or use specific UUIDs."
    },
    "client\\src\\context\\AuthContext.jsx": {
      "content": "import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { authAPI } from '../services/api';\n\nconst AuthContext = createContext(null);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check if user is logged in on mount\n    const initAuth = async () => {\n      const accessToken = localStorage.getItem('accessToken');\n      const storedUser = localStorage.getItem('user');\n\n      if (accessToken && storedUser) {\n        try {\n          // Verify token is still valid by fetching current user\n          const response = await authAPI.getCurrentUser();\n          setUser(response.data.data);\n          // Update stored user data\n          localStorage.setItem('user', JSON.stringify(response.data.data));\n        } catch (error) {\n          // Token is invalid, clear storage\n          console.error('Auth initialization failed:', error);\n          localStorage.removeItem('accessToken');\n          localStorage.removeItem('refreshToken');\n          localStorage.removeItem('user');\n          setUser(null);\n        }\n      }\n      setLoading(false);\n    };\n\n    initAuth();\n  }, []);\n\n  const login = (userData, accessToken, refreshToken) => {\n    setUser(userData);\n    localStorage.setItem('user', JSON.stringify(userData));\n    localStorage.setItem('accessToken', accessToken);\n    localStorage.setItem('refreshToken', refreshToken);\n  };\n\n  const logout = async () => {\n    try {\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (refreshToken) {\n        // Try to revoke the refresh token on the server\n        // But don't wait for it or block logout if it fails\n        authAPI.logout(refreshToken).catch(err => {\n          console.error('Failed to revoke token on server:', err);\n        });\n      }\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      // Always clear local storage and state, even if API call fails\n      setUser(null);\n      localStorage.removeItem('user');\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n    }\n  };\n\n  const updateUser = (userData) => {\n    setUser(userData);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n\n  const value = {\n    user,\n    login,\n    logout,\n    updateUser,\n    isAuthenticated: !!user,\n    isFreelancer: user?.role === 'freelancer',\n    isClient: user?.role === 'client',\n    isAdmin: user?.role === 'admin',\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n"
    },
    "client\\src\\services\\api.js": {
      "content": "import axios from 'axios';\n\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('accessToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle token refresh\napi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    // If error is 401 and we haven't tried to refresh yet\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      try {\n        const refreshToken = localStorage.getItem('refreshToken');\n        \n        if (!refreshToken) {\n          // No refresh token, logout user\n          localStorage.removeItem('accessToken');\n          localStorage.removeItem('refreshToken');\n          localStorage.removeItem('user');\n          window.location.href = '/login';\n          return Promise.reject(error);\n        }\n\n        // Try to refresh the token\n        const response = await axios.post(`${API_BASE_URL}/auth/refresh`, {\n          refreshToken\n        });\n\n        const { accessToken } = response.data.data;\n\n        // Save new access token\n        localStorage.setItem('accessToken', accessToken);\n\n        // Retry original request with new token\n        originalRequest.headers.Authorization = `Bearer ${accessToken}`;\n        return api(originalRequest);\n      } catch (refreshError) {\n        // Refresh failed, logout user\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n        localStorage.removeItem('user');\n        window.location.href = '/login';\n        return Promise.reject(refreshError);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// Auth API\nexport const authAPI = {\n  register: (data) => api.post('/auth/register', data),\n  login: (data) => api.post('/auth/login', data),\n  logout: (refreshToken) => api.post('/auth/logout', { refreshToken }),\n  logoutAll: () => api.post('/auth/logout-all'),\n  refresh: (refreshToken) => api.post('/auth/refresh', { refreshToken }),\n  getCurrentUser: () => api.get('/auth/me'),\n};\n\n// Users API\nexport const usersAPI = {\n  getAll: (params) => api.get('/users', { params }),\n  getById: (id) => api.get(`/users/${id}`),\n  create: (data) => api.post('/users', data),\n  update: (id, data) => api.patch(`/users/${id}`, data),\n  delete: (id) => api.delete(`/users/${id}`),\n};\n\n// Projects API\nexport const projectsAPI = {\n  getAll: (params) => api.get('/projects', { params }),\n  getById: (id) => api.get(`/projects/${id}`),\n  create: (data) => api.post('/projects', data),\n  update: (id, data) => api.patch(`/projects/${id}`, data),\n  delete: (id) => api.delete(`/projects/${id}`),\n};\n\n// Proposals API\nexport const proposalsAPI = {\n  getAll: (params) => api.get('/proposals', { params }),\n  getById: (id) => api.get(`/proposals/${id}`),\n  create: (data) => api.post('/proposals', data),\n  update: (id, data) => api.patch(`/proposals/${id}`, data),\n  delete: (id) => api.delete(`/proposals/${id}`),\n  accept: (id) => api.post(`/proposals/${id}/accept`),\n  reject: (id) => api.post(`/proposals/${id}/reject`),\n};\n\n// Contracts API\nexport const contractsAPI = {\n  getAll: (params) => api.get('/contracts', { params }),\n  getById: (id) => api.get(`/contracts/${id}`),\n  update: (id, data) => api.patch(`/contracts/${id}`, data),\n  delete: (id) => api.delete(`/contracts/${id}`),\n};\n\nexport default api;\n"
    },
    "client\\src\\index.jsx": {
      "content": "import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"
    },
    "client\\src\\index.css": {
      "content": "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color: #f5f5f5;\n  color: #333;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n\n/* Navigation */\n.navbar {\n  background-color: #2c3e50;\n  color: white;\n  padding: 1rem 2rem;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.navbar-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.navbar h1 {\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n\n.navbar nav {\n  display: flex;\n  gap: 1.5rem;\n  align-items: center;\n}\n\n.navbar a {\n  color: white;\n  text-decoration: none;\n  font-weight: 500;\n  transition: opacity 0.2s;\n}\n\n.navbar a:hover {\n  opacity: 0.8;\n}\n\n.navbar button {\n  background-color: #e74c3c;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: background-color 0.2s;\n}\n\n.navbar button:hover {\n  background-color: #c0392b;\n}\n\n/* Container */\n.container {\n  max-width: 1200px;\n  margin: 2rem auto;\n  padding: 0 1rem;\n}\n\n/* Cards */\n.card {\n  background: white;\n  border-radius: 8px;\n  padding: 1.5rem;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  margin-bottom: 1.5rem;\n}\n\n.card h2 {\n  margin-bottom: 1rem;\n  color: #2c3e50;\n}\n\n/* Forms */\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: #2c3e50;\n}\n\n.form-group input,\n.form-group textarea,\n.form-group select {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-family: inherit;\n}\n\n.form-group input:focus,\n.form-group textarea:focus,\n.form-group select:focus {\n  outline: none;\n  border-color: #3498db;\n}\n\n.form-group textarea {\n  resize: vertical;\n  min-height: 100px;\n}\n\n/* Buttons */\n.btn {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.btn-primary {\n  background-color: #3498db;\n  color: white;\n}\n\n.btn-primary:hover {\n  background-color: #2980b9;\n}\n\n.btn-success {\n  background-color: #27ae60;\n  color: white;\n}\n\n.btn-success:hover {\n  background-color: #229954;\n}\n\n.btn-danger {\n  background-color: #e74c3c;\n  color: white;\n}\n\n.btn-danger:hover {\n  background-color: #c0392b;\n}\n\n.btn-secondary {\n  background-color: #95a5a6;\n  color: white;\n}\n\n.btn-secondary:hover {\n  background-color: #7f8c8d;\n}\n\n/* Project Grid */\n.projects-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 1.5rem;\n}\n\n.project-card {\n  background: white;\n  border-radius: 8px;\n  padding: 1.5rem;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  cursor: pointer;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n\n.project-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.project-card h3 {\n  color: #2c3e50;\n  margin-bottom: 0.5rem;\n}\n\n.project-meta {\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n  font-size: 0.875rem;\n  color: #666;\n}\n\n.project-type {\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  background-color: #ecf0f1;\n  border-radius: 12px;\n  font-size: 0.875rem;\n  margin-top: 0.5rem;\n}\n\n.skills-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.skill-tag {\n  background-color: #3498db;\n  color: white;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.875rem;\n}\n\n/* Status badges */\n.status-badge {\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: 12px;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.status-open {\n  background-color: #d4edda;\n  color: #155724;\n}\n\n.status-awarded {\n  background-color: #d1ecf1;\n  color: #0c5460;\n}\n\n.status-in-progress,\n.status-in_progress {\n  background-color: #fff3cd;\n  color: #856404;\n}\n\n.status-completed {\n  background-color: #cce5ff;\n  color: #004085;\n}\n\n.status-cancelled {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n\n.status-pending,\n.status-submitted {\n  background-color: #fff3cd;\n  color: #856404;\n}\n\n.status-shortlisted {\n  background-color: #e7f3ff;\n  color: #004085;\n  font-weight: 600;\n}\n\n.status-accepted {\n  background-color: #d4edda;\n  color: #155724;\n  font-weight: 600;\n}\n\n.status-rejected {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n\n/* Milestone statuses */\n.status-funded {\n  background-color: #fff3cd;\n  color: #856404;\n}\n\n.status-in_review,\n.status-in-review {\n  background-color: #cce5ff;\n  color: #004085;\n}\n\n.status-released {\n  background-color: #d4edda;\n  color: #155724;\n  font-weight: 600;\n}\n\n.status-disputed {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n\n/* Contract statuses */\n.status-active {\n  background-color: #d4edda;\n  color: #155724;\n  font-weight: 600;\n}\n\n.status-terminated {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n\n/* Auth pages */\n.auth-container {\n  max-width: 400px;\n  margin: 4rem auto;\n}\n\n.auth-card {\n  background: white;\n  border-radius: 8px;\n  padding: 2rem;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.auth-card h2 {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  color: #2c3e50;\n}\n\n.auth-toggle {\n  text-align: center;\n  margin-top: 1rem;\n}\n\n.auth-toggle a {\n  color: #3498db;\n  text-decoration: none;\n}\n\n.auth-toggle a:hover {\n  text-decoration: underline;\n}\n\n/* Error message */\n.error-message {\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 0.75rem;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  border: 1px solid #f5c6cb;\n}\n\n.success-message {\n  background-color: #d4edda;\n  color: #155724;\n  padding: 0.75rem;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  border: 1px solid #c3e6cb;\n}\n\n/* Loading */\n.loading {\n  text-align: center;\n  padding: 2rem;\n  color: #666;\n}\n\n/* Empty state */\n.empty-state {\n  text-align: center;\n  padding: 3rem;\n  color: #666;\n}\n\n.empty-state h3 {\n  margin-bottom: 0.5rem;\n}\n\n/* Filters */\n.filters {\n  background: white;\n  padding: 1.5rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  margin-bottom: 1.5rem;\n}\n\n.filters-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .navbar-container {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .projects-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .filters-row {\n    grid-template-columns: 1fr;\n  }\n}\n"
    },
    "src\\db\\schema.sql": {
      "content": "-- MySQL Schema for Freelancing Platform\n-- Requires MySQL 8.0+ for CHECK constraints and better UUID support\n\n-- Users Table\nCREATE TABLE users (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    email VARCHAR(255) UNIQUE NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    role VARCHAR(50) CHECK (\n        role IN (\n            'freelancer',\n            'client',\n            'admin'\n        )\n    ),\n    first_name VARCHAR(100),\n    last_name VARCHAR(100),\n    phone VARCHAR(20),\n    country VARCHAR(100),\n    is_verified BOOLEAN DEFAULT false,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Refresh Tokens Table\nCREATE TABLE refresh_tokens (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    user_id CHAR(36) NOT NULL,\n    token TEXT NOT NULL,\n    revoked BOOLEAN DEFAULT false,\n    expires_at DATETIME NOT NULL,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE,\n    INDEX idx_user_id (user_id),\n    INDEX idx_expires_at (expires_at)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Freelancer Profile\nCREATE TABLE freelancer_profiles (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    user_id CHAR(36) UNIQUE,\n    bio TEXT,\n    hourly_rate DECIMAL(10, 2),\n    experience_years INT,\n    headline VARCHAR(255),\n    rating_avg FLOAT DEFAULT 0,\n    rating_count INT DEFAULT 0,\n    availability JSON,\n    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Client Profile\nCREATE TABLE client_profiles (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    user_id CHAR(36) UNIQUE,\n    company_name VARCHAR(255),\n    company_size VARCHAR(50),\n    website VARCHAR(255),\n    rating_avg FLOAT DEFAULT 0,\n    rating_count INT DEFAULT 0,\n    is_business_verified BOOLEAN DEFAULT false,\n    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Skills\nCREATE TABLE skills (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    name VARCHAR(100) UNIQUE NOT NULL,\n    category VARCHAR(100)\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Freelancer Skills (Junction Table)\nCREATE TABLE freelancer_skills (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    freelancer_id CHAR(36),\n    skill_id CHAR(36),\n    proficiency INT CHECK (\n        proficiency >= 1\n        AND proficiency <= 5\n    ),\n    years INT,\n    UNIQUE (freelancer_id, skill_id),\n    FOREIGN KEY (freelancer_id) REFERENCES freelancer_profiles (id) ON DELETE CASCADE,\n    FOREIGN KEY (skill_id) REFERENCES skills (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Projects\nCREATE TABLE projects (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    client_id CHAR(36),\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    project_type VARCHAR(50) CHECK (\n        project_type IN ('fixed', 'hourly')\n    ),\n    budget_min DECIMAL(10, 2),\n    budget_max DECIMAL(10, 2),\n    currency VARCHAR(3) DEFAULT 'USD',\n    status VARCHAR(50) CHECK (\n        status IN (\n            'open',\n            'awarded',\n            'in_progress',\n            'completed',\n            'cancelled'\n        )\n    ) DEFAULT 'open',\n    visibility VARCHAR(50) CHECK (\n        visibility IN ('public', 'invite_only')\n    ) DEFAULT 'public',\n    posted_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    due_at DATETIME,\n    FOREIGN KEY (client_id) REFERENCES client_profiles (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Project Skills (Junction Table)\nCREATE TABLE project_skills (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    project_id CHAR(36),\n    skill_id CHAR(36),\n    UNIQUE (project_id, skill_id),\n    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE,\n    FOREIGN KEY (skill_id) REFERENCES skills (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Proposals\nCREATE TABLE proposals (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    project_id CHAR(36),\n    freelancer_id CHAR(36),\n    bid_amount DECIMAL(10, 2),\n    hourly_rate DECIMAL(10, 2),\n    estimated_hours INT,\n    cover_letter TEXT,\n    status VARCHAR(50) CHECK (\n        status IN (\n            'submitted',\n            'shortlisted',\n            'accepted',\n            'rejected'\n        )\n    ) DEFAULT 'submitted',\n    submitted_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE (project_id, freelancer_id),\n    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE,\n    FOREIGN KEY (freelancer_id) REFERENCES freelancer_profiles (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Contracts\nCREATE TABLE contracts (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    project_id CHAR(36),\n    client_id CHAR(36),\n    freelancer_id CHAR(36),\n    contract_type VARCHAR(50) CHECK (\n        contract_type IN ('fixed', 'hourly')\n    ),\n    status VARCHAR(50) CHECK (\n        status IN (\n            'active',\n            'completed',\n            'terminated'\n        )\n    ) DEFAULT 'active',\n    agreed_amount DECIMAL(10, 2),\n    hourly_rate DECIMAL(10, 2),\n    currency VARCHAR(3) DEFAULT 'USD',\n    start_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    end_at DATETIME,\n    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE,\n    FOREIGN KEY (client_id) REFERENCES client_profiles (id) ON DELETE CASCADE,\n    FOREIGN KEY (freelancer_id) REFERENCES freelancer_profiles (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Milestones\nCREATE TABLE milestones (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    contract_id CHAR(36),\n    title VARCHAR(255) NOT NULL,\n    scope TEXT,\n    amount DECIMAL(10, 2),\n    status VARCHAR(50) CHECK (\n        status IN (\n            'funded',\n            'in_review',\n            'released',\n            'disputed'\n        )\n    ) DEFAULT 'funded',\n    due_at DATETIME,\n    released_at DATETIME,\n    FOREIGN KEY (contract_id) REFERENCES contracts (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Escrow & Payments\nCREATE TABLE escrows (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    milestone_id CHAR(36) UNIQUE,\n    amount DECIMAL(10, 2),\n    currency VARCHAR(3) DEFAULT 'USD',\n    status VARCHAR(50) CHECK (\n        status IN (\n            'funded',\n            'released',\n            'refunded',\n            'disputed'\n        )\n    ) DEFAULT 'funded',\n    funded_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    FOREIGN KEY (milestone_id) REFERENCES milestones (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\nCREATE TABLE payments (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    milestone_id CHAR(36),\n    payer_client_id CHAR(36),\n    payee_freelancer_id CHAR(36),\n    amount DECIMAL(10, 2),\n    currency VARCHAR(3) DEFAULT 'USD',\n    method VARCHAR(50) CHECK (\n        method IN (\n            'card',\n            'bank',\n            'paypal',\n            'crypto'\n        )\n    ),\n    status VARCHAR(50) CHECK (\n        status IN (\n            'processing',\n            'paid',\n            'failed'\n        )\n    ) DEFAULT 'processing',\n    paid_at DATETIME,\n    FOREIGN KEY (milestone_id) REFERENCES milestones (id) ON DELETE CASCADE,\n    FOREIGN KEY (payer_client_id) REFERENCES client_profiles (id) ON DELETE SET NULL,\n    FOREIGN KEY (payee_freelancer_id) REFERENCES freelancer_profiles (id) ON DELETE SET NULL\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Reviews\nCREATE TABLE reviews (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    contract_id CHAR(36),\n    reviewer_user_id CHAR(36),\n    reviewee_user_id CHAR(36),\n    rating INT CHECK (\n        rating >= 1\n        AND rating <= 5\n    ),\n    comment TEXT,\n    reviewed_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (contract_id) REFERENCES contracts (id) ON DELETE CASCADE,\n    FOREIGN KEY (reviewer_user_id) REFERENCES users (id) ON DELETE CASCADE,\n    FOREIGN KEY (reviewee_user_id) REFERENCES users (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Messaging\nCREATE TABLE message_threads (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    project_id CHAR(36),\n    contract_id CHAR(36),\n    scope VARCHAR(50) CHECK (\n        scope IN ('project', 'contract')\n    ),\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (project_id) REFERENCES projects (id) ON DELETE CASCADE,\n    FOREIGN KEY (contract_id) REFERENCES contracts (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\nCREATE TABLE messages (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    thread_id CHAR(36),\n    sender_user_id CHAR(36),\n    body TEXT,\n    type VARCHAR(50) CHECK (\n        type IN ('text', 'file', 'system')\n    ) DEFAULT 'text',\n    sent_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY (thread_id) REFERENCES message_threads (id) ON DELETE CASCADE,\n    FOREIGN KEY (sender_user_id) REFERENCES users (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Disputes\nCREATE TABLE disputes (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    contract_id CHAR(36),\n    milestone_id CHAR(36),\n    raised_by_user_id CHAR(36),\n    reason VARCHAR(255),\n    details TEXT,\n    status VARCHAR(50) CHECK (\n        status IN (\n            'open',\n            'under_review',\n            'resolved'\n        )\n    ) DEFAULT 'open',\n    opened_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    closed_at DATETIME,\n    FOREIGN KEY (contract_id) REFERENCES contracts (id) ON DELETE CASCADE,\n    FOREIGN KEY (milestone_id) REFERENCES milestones (id) ON DELETE CASCADE,\n    FOREIGN KEY (raised_by_user_id) REFERENCES users (id) ON DELETE CASCADE\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\n\n-- Indexes for performance\nCREATE INDEX idx_users_email ON users (email);\n\nCREATE INDEX idx_users_role ON users (role);\n\nCREATE INDEX idx_freelancer_profiles_user_id ON freelancer_profiles (user_id);\n\nCREATE INDEX idx_client_profiles_user_id ON client_profiles (user_id);\n\nCREATE INDEX idx_projects_client_id ON projects (client_id);\n\nCREATE INDEX idx_projects_status ON projects (status);\n\nCREATE INDEX idx_proposals_project_id ON proposals (project_id);\n\nCREATE INDEX idx_proposals_freelancer_id ON proposals (freelancer_id);\n\nCREATE INDEX idx_contracts_project_id ON contracts (project_id);\n\nCREATE INDEX idx_messages_thread_id ON messages (thread_id);\n\nCREATE INDEX idx_reviews_contract_id ON reviews (contract_id);"
    },
    "client\\src\\App.jsx": {
      "content": "import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport Navbar from './components/Navbar';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport ProjectDetail from './pages/ProjectDetail';\nimport MyProposals from './pages/MyProposals';\nimport MyProjects from './pages/MyProjects';\nimport CreateProject from './pages/CreateProject';\nimport Profile from './pages/Profile';\nimport MyContracts from './pages/MyContracts';\nimport ContractDetail from './pages/ContractDetail';\n\n// Protected Route wrapper\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated } = useAuth();\n  return isAuthenticated ? children : <Navigate to=\"/login\" />;\n};\n\nfunction AppRoutes() {\n  return (\n    <>\n      <Navbar />\n      <Routes>\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route\n          path=\"/\"\n          element={\n            <ProtectedRoute>\n              <Dashboard />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/projects/:id\"\n          element={\n            <ProtectedRoute>\n              <ProjectDetail />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/my-proposals\"\n          element={\n            <ProtectedRoute>\n              <MyProposals />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/my-projects\"\n          element={\n            <ProtectedRoute>\n              <MyProjects />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/create-project\"\n          element={\n            <ProtectedRoute>\n              <CreateProject />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/profile\"\n          element={\n            <ProtectedRoute>\n              <Profile />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/contracts\"\n          element={\n            <ProtectedRoute>\n              <MyContracts />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/contracts/:id\"\n          element={\n            <ProtectedRoute>\n              <ContractDetail />\n            </ProtectedRoute>\n          }\n        />\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <AppRoutes />\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n"
    },
    "src\\db\\queries.js": {
      "content": "const pool = require('../config/database');\n\n/**\n * Execute a raw SQL query\n * @param {string} text - The SQL query\n * @param {Array} params - Query parameters\n * @returns {Promise<object>} - Query result with rows and metadata\n */\nconst query = async (text, params) => {\n  const start = Date.now();\n  try {\n    const [rows, fields] = await pool.query(text, params);\n    const duration = Date.now() - start;\n    console.log('Executed query', { text, duration, rows: rows.length });\n    // Return in PostgreSQL-like format for compatibility\n    return { rows, fields, rowCount: rows.affectedRows || rows.length };\n  } catch (error) {\n    console.error('Database query error:', error);\n    throw error;\n  }\n};\n\n/**\n * Get a connection from the pool for transactions\n * @returns {Promise<object>} - Database connection\n */\nconst getClient = async () => {\n  const connection = await pool.getConnection();\n\n  // Set a timeout to release connection after 5 seconds of inactivity\n  const timeout = setTimeout(() => {\n    console.error('A connection has been checked out for more than 5 seconds!');\n  }, 5000);\n\n  const originalRelease = connection.release.bind(connection);\n  const originalQuery = connection.query.bind(connection);\n\n  // Wrap query to return PostgreSQL-like format\n  const wrappedQuery = async (text, params = []) => {\n    const [rows, fields] = await originalQuery(text, params);\n    return { rows, fields, rowCount: rows.affectedRows || rows.length };\n  };\n\n  // Wrap release to clear timeout\n  connection.release = () => {\n    clearTimeout(timeout);\n    return originalRelease();\n  };\n\n  // Add wrapped query method\n  connection.query = wrappedQuery;\n\n  return connection;\n};\n\n/**\n * Execute queries in a transaction\n * @param {Function} callback - Async function that receives connection\n * @returns {Promise<any>} - Result of the callback\n */\nconst transaction = async (callback) => {\n  const connection = await getClient();\n  try {\n    await connection.query('START TRANSACTION', []);\n    const result = await callback(connection);\n    await connection.query('COMMIT', []);\n    return result;\n  } catch (error) {\n    await connection.query('ROLLBACK', []);\n    throw error;\n  } finally {\n    connection.release();\n  }\n};\n\nmodule.exports = {\n  query,\n  getClient,\n  transaction,\n};\n"
    },
    "client\\src\\pages\\CreateProject.jsx": {
      "content": "import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { projectsAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst CreateProject = () => {\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    project_type: 'fixed',\n    budget_min: '',\n    budget_max: '',\n    currency: 'USD',\n    due_at: '',\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { user, isClient } = useAuth();\n  const navigate = useNavigate();\n\n  React.useEffect(() => {\n    if (!isClient) {\n      navigate('/');\n    }\n  }, [isClient, navigate]);\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      const projectData = {\n        title: formData.title,\n        description: formData.description,\n        project_type: formData.project_type,\n        budget_min: formData.budget_min ? parseFloat(formData.budget_min) : null,\n        budget_max: formData.budget_max ? parseFloat(formData.budget_max) : null,\n        currency: formData.currency,\n        due_at: formData.due_at || null,\n      };\n\n      const response = await projectsAPI.create(projectData);\n      navigate(`/projects/${response.data.data.id}`);\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to create project');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <button onClick={() => navigate(-1)} className=\"btn btn-secondary\" style={{ marginBottom: '1rem' }}>\n        Back\n      </button>\n\n      <div className=\"card\">\n        <h1 style={{ marginBottom: '1.5rem' }}>Create New Project</h1>\n\n        {error && <div className=\"error-message\">{error}</div>}\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Project Title *</label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              name=\"title\"\n              value={formData.title}\n              onChange={handleChange}\n              required\n              placeholder=\"e.g., Build a responsive website\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description *</label>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              required\n              rows=\"6\"\n              placeholder=\"Describe your project in detail...\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"project_type\">Project Type *</label>\n            <select id=\"project_type\" name=\"project_type\" value={formData.project_type} onChange={handleChange} required>\n              <option value=\"fixed\">Fixed Price</option>\n              <option value=\"hourly\">Hourly</option>\n            </select>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '1rem' }}>\n            <div className=\"form-group\">\n              <label htmlFor=\"budget_min\">Minimum Budget ($)</label>\n              <input\n                type=\"number\"\n                id=\"budget_min\"\n                name=\"budget_min\"\n                value={formData.budget_min}\n                onChange={handleChange}\n                min=\"0\"\n                step=\"0.01\"\n                placeholder=\"500\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"budget_max\">Maximum Budget ($)</label>\n              <input\n                type=\"number\"\n                id=\"budget_max\"\n                name=\"budget_max\"\n                value={formData.budget_max}\n                onChange={handleChange}\n                min=\"0\"\n                step=\"0.01\"\n                placeholder=\"2000\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"currency\">Currency</label>\n              <select id=\"currency\" name=\"currency\" value={formData.currency} onChange={handleChange}>\n                <option value=\"USD\">USD</option>\n                <option value=\"EUR\">EUR</option>\n                <option value=\"GBP\">GBP</option>\n                <option value=\"CAD\">CAD</option>\n                <option value=\"AUD\">AUD</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"due_at\">Due Date (optional)</label>\n            <input\n              type=\"date\"\n              id=\"due_at\"\n              name=\"due_at\"\n              value={formData.due_at}\n              onChange={handleChange}\n              min={new Date().toISOString().split('T')[0]}\n            />\n          </div>\n\n          <div style={{ display: 'flex', gap: '1rem' }}>\n            <button type=\"submit\" className=\"btn btn-success\" disabled={loading}>\n              {loading ? 'Creating...' : 'Create Project'}\n            </button>\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => navigate(-1)} disabled={loading}>\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateProject;\n"
    },
    "client\\src\\pages\\Login.jsx": {
      "content": "import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { authAPI } from '../services/api';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      // Validate inputs\n      if (!formData.email || !formData.password) {\n        setError('Please enter both email and password');\n        setLoading(false);\n        return;\n      }\n\n      // Login request\n      const response = await authAPI.login({\n        email: formData.email,\n        password: formData.password\n      });\n\n      const { user, accessToken, refreshToken } = response.data.data;\n\n      // Store tokens and user data\n      login(user, accessToken, refreshToken);\n\n      // Redirect to dashboard\n      navigate('/');\n    } catch (err) {\n      console.error('Login error:', err);\n      setError(\n        err.response?.data?.message || \n        'Login failed. Please check your credentials and try again.'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2>Login</h2>\n        {error && <div className=\"error-message\">{error}</div>}\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              required\n              placeholder=\"Enter your email\"\n              autoComplete=\"email\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              placeholder=\"Enter your password\"\n              autoComplete=\"current-password\"\n            />\n          </div>\n          <button \n            type=\"submit\" \n            className=\"btn btn-primary\" \n            style={{ width: '100%' }} \n            disabled={loading}\n          >\n            {loading ? 'Logging in...' : 'Login'}\n          </button>\n        </form>\n        <div className=\"auth-toggle\">\n          Don't have an account? <Link to=\"/register\">Register here</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"
    },
    "src\\db\\migrations\\001_add_refresh_tokens.sql": {
      "content": "-- Migration: Add refresh_tokens table\r\n-- This script adds the refresh_tokens table for JWT refresh token management\r\n\r\nCREATE TABLE IF NOT EXISTS refresh_tokens (\r\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\r\n    user_id CHAR(36) NOT NULL,\r\n    token TEXT NOT NULL,\r\n    revoked BOOLEAN DEFAULT false,\r\n    expires_at DATETIME NOT NULL,\r\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\r\n    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE,\r\n    INDEX idx_user_id (user_id),\r\n    INDEX idx_expires_at (expires_at)\r\n) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COLLATE = utf8mb4_unicode_ci;\r\n\r\n-- Update users table to make password_hash NOT NULL\r\nALTER TABLE users MODIFY COLUMN password_hash VARCHAR(255) NOT NULL;\r\n\r\n-- Clean up expired refresh tokens (optional, can be run periodically)\r\n-- DELETE FROM refresh_tokens WHERE expires_at < NOW() OR revoked = TRUE;"
    },
    "client\\src\\pages\\Dashboard.jsx": {
      "content": "import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { projectsAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst Dashboard = () => {\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filters, setFilters] = useState({\n    status: '',\n    project_type: '',\n  });\n  const navigate = useNavigate();\n  const { isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    fetchProjects();\n  }, [filters, isAuthenticated, navigate]);\n\n  const fetchProjects = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const params = {};\n      if (filters.status) params.status = filters.status;\n      if (filters.project_type) params.project_type = filters.project_type;\n\n      const response = await projectsAPI.getAll(params);\n      setProjects(response.data.data);\n    } catch (err) {\n      setError('Failed to load projects');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilterChange = (e) => {\n    setFilters({\n      ...filters,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleProjectClick = (projectId) => {\n    navigate(`/projects/${projectId}`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">Loading projects...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 style={{ marginBottom: '1.5rem' }}>Browse Projects</h1>\n\n      <div className=\"filters\">\n        <div className=\"filters-row\">\n          <div className=\"form-group\" style={{ marginBottom: 0 }}>\n            <label htmlFor=\"status\">Status</label>\n            <select id=\"status\" name=\"status\" value={filters.status} onChange={handleFilterChange}>\n              <option value=\"\">All Statuses</option>\n              <option value=\"open\">Open</option>\n              <option value=\"in-progress\">In Progress</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"cancelled\">Cancelled</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\" style={{ marginBottom: 0 }}>\n            <label htmlFor=\"project_type\">Project Type</label>\n            <select id=\"project_type\" name=\"project_type\" value={filters.project_type} onChange={handleFilterChange}>\n              <option value=\"\">All Types</option>\n              <option value=\"fixed\">Fixed Price</option>\n              <option value=\"hourly\">Hourly</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {error && <div className=\"error-message\">{error}</div>}\n\n      {projects.length === 0 ? (\n        <div className=\"empty-state\">\n          <h3>No projects found</h3>\n          <p>Check back later for new opportunities</p>\n        </div>\n      ) : (\n        <div className=\"projects-grid\">\n          {projects.map((project) => (\n            <div key={project.id} className=\"project-card\" onClick={() => handleProjectClick(project.id)}>\n              <h3>{project.title}</h3>\n              <div className={`status-badge status-${project.status}`}>{project.status}</div>\n              <p style={{ marginTop: '0.5rem', color: '#666' }}>\n                {project.description?.substring(0, 150)}\n                {project.description?.length > 150 && '...'}\n              </p>\n              <div className=\"project-type\">{project.project_type}</div>\n              <div className=\"project-meta\">\n                <span>\n                  Budget: ${project.budget_min} - ${project.budget_max}\n                </span>\n                <span>{project.proposal_count} proposals</span>\n              </div>\n              {project.skills && project.skills.length > 0 && (\n                <div className=\"skills-list\">\n                  {project.skills.map((skill) => (\n                    <span key={skill.id} className=\"skill-tag\">\n                      {skill.name}\n                    </span>\n                  ))}\n                </div>\n              )}\n              <div style={{ marginTop: '0.5rem', fontSize: '0.875rem', color: '#666' }}>\n                Posted by: {project.client_name || project.company_name}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"
    },
    "client\\src\\pages\\ContractDetail.jsx": {
      "content": "import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { contractsAPI } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst ContractDetail = () => {\r\n  const { id } = useParams();\r\n  const [contract, setContract] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchContract();\r\n  }, [id]);\r\n\r\n  const fetchContract = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await contractsAPI.getById(id);\r\n      setContract(response.data.data);\r\n    } catch (err) {\r\n      setError('Failed to load contract details');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCompleteContract = async () => {\r\n    if (!window.confirm('Are you sure you want to mark this contract as completed?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await contractsAPI.update(id, { status: 'completed', end_at: new Date().toISOString() });\r\n      alert('Contract marked as completed!');\r\n      fetchContract();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Failed to update contract');\r\n    }\r\n  };\r\n\r\n  const handleTerminateContract = async () => {\r\n    if (!window.confirm('Are you sure you want to terminate this contract? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await contractsAPI.update(id, { status: 'terminated', end_at: new Date().toISOString() });\r\n      alert('Contract terminated');\r\n      fetchContract();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || 'Failed to terminate contract');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"loading\">Loading contract...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !contract) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"error-message\">{error || 'Contract not found'}</div>\r\n        <button onClick={() => navigate('/contracts')} className=\"btn btn-secondary\" style={{ marginTop: '1rem' }}>\r\n          Back to Contracts\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      active: '#28a745',\r\n      completed: '#007bff',\r\n      terminated: '#dc3545',\r\n    };\r\n    return colors[status] || '#6c757d';\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <button onClick={() => navigate('/contracts')} className=\"btn btn-secondary\" style={{ marginBottom: '1rem' }}>\r\n        ‚Üê Back to Contracts\r\n      </button>\r\n\r\n      <div className=\"card\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '1.5rem' }}>\r\n          <div>\r\n            <h1 style={{ marginBottom: '0.5rem' }}>{contract.project_title}</h1>\r\n            <div\r\n              style={{\r\n                display: 'inline-block',\r\n                padding: '0.5rem 1rem',\r\n                borderRadius: '12px',\r\n                fontSize: '1rem',\r\n                fontWeight: '600',\r\n                backgroundColor: getStatusColor(contract.status),\r\n                color: 'white',\r\n              }}\r\n            >\r\n              {contract.status.toUpperCase()}\r\n            </div>\r\n          </div>\r\n\r\n          {contract.status === 'active' && (\r\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n              <button onClick={handleCompleteContract} className=\"btn btn-success\">\r\n                Mark Complete\r\n              </button>\r\n              <button onClick={handleTerminateContract} className=\"btn btn-danger\">\r\n                Terminate\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Contract Details */}\r\n        <div style={{ marginTop: '2rem' }}>\r\n          <h3>Contract Information</h3>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1.5rem', marginTop: '1rem' }}>\r\n            <div>\r\n              <strong>Contract Type:</strong>\r\n              <p style={{ marginTop: '0.25rem', fontSize: '1.1rem' }}>\r\n                {contract.contract_type === 'fixed' ? 'Fixed Price' : 'Hourly Rate'}\r\n              </p>\r\n            </div>\r\n            \r\n            {contract.contract_type === 'fixed' && contract.agreed_amount && (\r\n              <div>\r\n                <strong>Agreed Amount:</strong>\r\n                <p style={{ marginTop: '0.25rem', fontSize: '1.1rem', color: '#28a745', fontWeight: 'bold' }}>\r\n                  ${contract.agreed_amount} {contract.currency}\r\n                </p>\r\n              </div>\r\n            )}\r\n            \r\n            {contract.contract_type === 'hourly' && contract.hourly_rate && (\r\n              <div>\r\n                <strong>Hourly Rate:</strong>\r\n                <p style={{ marginTop: '0.25rem', fontSize: '1.1rem', color: '#28a745', fontWeight: 'bold' }}>\r\n                  ${contract.hourly_rate}/hour\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <strong>Start Date:</strong>\r\n              <p style={{ marginTop: '0.25rem' }}>{new Date(contract.start_at).toLocaleDateString()}</p>\r\n            </div>\r\n\r\n            {contract.end_at && (\r\n              <div>\r\n                <strong>End Date:</strong>\r\n                <p style={{ marginTop: '0.25rem' }}>{new Date(contract.end_at).toLocaleDateString()}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Parties */}\r\n        <div style={{ marginTop: '2rem' }}>\r\n          <h3>Parties</h3>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '1.5rem', marginTop: '1rem' }}>\r\n            <div className=\"card\" style={{ backgroundColor: '#f8f9fa' }}>\r\n              <h4>Client</h4>\r\n              <p style={{ marginTop: '0.5rem' }}>\r\n                <strong>Name:</strong> {contract.client_name}\r\n              </p>\r\n              {contract.company_name && (\r\n                <p>\r\n                  <strong>Company:</strong> {contract.company_name}\r\n                </p>\r\n              )}\r\n              <p>\r\n                <strong>Email:</strong> {contract.client_email}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"card\" style={{ backgroundColor: '#f8f9fa' }}>\r\n              <h4>Freelancer</h4>\r\n              <p style={{ marginTop: '0.5rem' }}>\r\n                <strong>Name:</strong> {contract.freelancer_name}\r\n              </p>\r\n              <p>\r\n                <strong>Email:</strong> {contract.freelancer_email}\r\n              </p>\r\n              {contract.freelancer_rating && (\r\n                <p>\r\n                  <strong>Rating:</strong> {contract.freelancer_rating}/5 ‚≠ê\r\n                </p>\r\n              )}\r\n              {contract.freelancer_bio && (\r\n                <p style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666' }}>\r\n                  {contract.freelancer_bio}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Project Description */}\r\n        {contract.project_description && (\r\n          <div style={{ marginTop: '2rem' }}>\r\n            <h3>Project Description</h3>\r\n            <p style={{ marginTop: '1rem', whiteSpace: 'pre-wrap', lineHeight: '1.6' }}>\r\n              {contract.project_description}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Milestones */}\r\n        {contract.milestones && contract.milestones.length > 0 && (\r\n          <div style={{ marginTop: '2rem' }}>\r\n            <h3>Milestones ({contract.milestones.length})</h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', marginTop: '1rem' }}>\r\n              {contract.milestones.map((milestone) => (\r\n                <div key={milestone.id} className=\"card\" style={{ backgroundColor: '#f8f9fa' }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\r\n                    <div style={{ flex: 1 }}>\r\n                      <h4>{milestone.title}</h4>\r\n                      <div className={`status-badge status-${milestone.status}`} style={{ marginTop: '0.5rem' }}>\r\n                        {milestone.status}\r\n                      </div>\r\n                      {milestone.scope && (\r\n                        <p style={{ marginTop: '0.75rem', color: '#666' }}>{milestone.scope}</p>\r\n                      )}\r\n                      <div style={{ marginTop: '0.75rem', display: 'flex', gap: '2rem', flexWrap: 'wrap' }}>\r\n                        {milestone.amount > 0 && (\r\n                          <div>\r\n                            <strong>Amount:</strong> ${milestone.amount}\r\n                          </div>\r\n                        )}\r\n                        {milestone.due_at && (\r\n                          <div>\r\n                            <strong>Due:</strong> {new Date(milestone.due_at).toLocaleDateString()}\r\n                          </div>\r\n                        )}\r\n                        {milestone.released_at && (\r\n                          <div>\r\n                            <strong>Released:</strong> {new Date(milestone.released_at).toLocaleDateString()}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContractDetail;\r\n"
    },
    "client\\src\\components\\Navbar.jsx": {
      "content": "import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\n\nconst Navbar = () => {\n  const { user, logout, isAuthenticated, isFreelancer, isClient } = useAuth();\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-container\">\n        <h1 onClick={() => navigate('/')} style={{ cursor: 'pointer' }}>\n          Freelance Platform\n        </h1>\n        <div style={{ display: 'flex', gap: '1.5rem', alignItems: 'center' }}>\n          {isAuthenticated ? (\n            <>\n              <Link to=\"/\">Projects</Link>\n              {isFreelancer && <Link to=\"/my-proposals\">My Proposals</Link>}\n              {isClient && <Link to=\"/my-projects\">My Projects</Link>}\n              <Link to=\"/contracts\">Contracts</Link>\n              <Link to=\"/profile\">Profile</Link>\n              <span style={{ color: '#ecf0f1' }}>\n                {user.first_name} ({user.role})\n              </span>\n              <button onClick={handleLogout}>Logout</button>\n            </>\n          ) : (\n            <>\n              <Link to=\"/login\">Login</Link>\n              <Link to=\"/register\">Register</Link>\n            </>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"
    },
    "src\\db\\init.js": {
      "content": "/**\r\n * Database Initialization Script\r\n * Creates the database schema from schema.sql\r\n */\r\n\r\nconst fs = require('fs');\r\nconst path = require('path');\r\nconst mysql = require('mysql2');\r\nrequire('dotenv').config();\r\n\r\nconst initDb = async () => {\r\n  // Create connection without database selected\r\n  const connection = mysql.createConnection({\r\n    host: process.env.DB_HOST || 'localhost',\r\n    user: process.env.DB_USER || 'root',\r\n    password: process.env.DB_PASSWORD || 'root123',\r\n    port: process.env.DB_PORT || 3306\r\n  });\r\n\r\n  return new Promise((resolve, reject) => {\r\n    connection.connect((err) => {\r\n      if (err) {\r\n        reject(err);\r\n        return;\r\n      }\r\n\r\n      const dbName = process.env.DB_NAME || 'freelance_platform';\r\n\r\n      // Create database if it doesn't exist\r\n      connection.query(`CREATE DATABASE IF NOT EXISTS ${dbName}`, (err) => {\r\n        if (err) {\r\n          reject(err);\r\n          return;\r\n        }\r\n\r\n        // Select the database\r\n        connection.query(`USE ${dbName}`, (err) => {\r\n          if (err) {\r\n            reject(err);\r\n            return;\r\n          }\r\n\r\n          // Read schema.sql\r\n          const schemaPath = path.join(__dirname, 'schema.sql');\r\n          const schema = fs.readFileSync(schemaPath, 'utf8');\r\n\r\n          // Split SQL statements by semicolon and filter out empty/comment lines\r\n          const statements = schema\r\n            .split(';')\r\n            .map((stmt) => stmt.trim())\r\n            .filter((stmt) => stmt && !stmt.startsWith('--'));\r\n\r\n          let completed = 0;\r\n\r\n          const executeNext = () => {\r\n            if (completed >= statements.length) {\r\n              console.log('‚úÖ Database schema initialized successfully!');\r\n              connection.end();\r\n              resolve();\r\n              return;\r\n            }\r\n\r\n            const stmt = statements[completed] + ';';\r\n            console.log(`Executing statement ${completed + 1}/${statements.length}...`);\r\n\r\n            connection.query(stmt, (err) => {\r\n              if (err) {\r\n                // Ignore \"table already exists\" errors (1050) and duplicate key errors (1061)\r\n                if (err.code === 'ER_TABLE_EXISTS_ERROR' || err.code === 'ER_DUP_KEYNAME') {\r\n                  console.log(`‚ö†Ô∏è  Skipping (${err.code})`);\r\n                } else {\r\n                  reject(err);\r\n                  return;\r\n                }\r\n              }\r\n              completed++;\r\n              executeNext();\r\n            });\r\n          };\r\n\r\n          executeNext();\r\n        });\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\ninitDb()\r\n  .then(() => {\r\n    console.log('Database initialization complete!');\r\n    process.exit(0);\r\n  })\r\n  .catch((error) => {\r\n    console.error('Failed to initialize database:', error);\r\n    process.exit(1);\r\n  });\r\n"
    },
    "client\\dist\\assets\\index-EBMiv7T_.js": {
      "content": "function kf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!=\"string\"&&!Array.isArray(r)){for(const l in r)if(l!==\"default\"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(r,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}))}(function(){const t=document.createElement(\"link\").relList;if(t&&t.supports&&t.supports(\"modulepreload\"))return;for(const l of document.querySelectorAll('link[rel=\"modulepreload\"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type===\"childList\")for(const i of o.addedNodes)i.tagName===\"LINK\"&&i.rel===\"modulepreload\"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin===\"use-credentials\"?o.credentials=\"include\":l.crossOrigin===\"anonymous\"?o.credentials=\"omit\":o.credentials=\"same-origin\",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var Tu={exports:{}},Xl={},Ou={exports:{}},D={};/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Or=Symbol.for(\"react.element\"),Nf=Symbol.for(\"react.portal\"),Pf=Symbol.for(\"react.fragment\"),Rf=Symbol.for(\"react.strict_mode\"),Tf=Symbol.for(\"react.profiler\"),Of=Symbol.for(\"react.provider\"),Lf=Symbol.for(\"react.context\"),Ff=Symbol.for(\"react.forward_ref\"),zf=Symbol.for(\"react.suspense\"),Df=Symbol.for(\"react.memo\"),Af=Symbol.for(\"react.lazy\"),Gs=Symbol.iterator;function Uf(e){return e===null||typeof e!=\"object\"?null:(e=Gs&&e[Gs]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fu=Object.assign,zu={};function Un(e,t,n){this.props=e,this.context=t,this.refs=zu,this.updater=n||Lu}Un.prototype.isReactComponent={};Un.prototype.setState=function(e,t){if(typeof e!=\"object\"&&typeof e!=\"function\"&&e!=null)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,e,t,\"setState\")};Un.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")};function Du(){}Du.prototype=Un.prototype;function qi(e,t,n){this.props=e,this.context=t,this.refs=zu,this.updater=n||Lu}var Xi=qi.prototype=new Du;Xi.constructor=qi;Fu(Xi,Un.prototype);Xi.isPureReactComponent=!0;var Zs=Array.isArray,Au=Object.prototype.hasOwnProperty,Yi={current:null},Uu={key:!0,ref:!0,__self:!0,__source:!0};function Iu(e,t,n){var r,l={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=\"\"+t.key),t)Au.call(t,r)&&!Uu.hasOwnProperty(r)&&(l[r]=t[r]);var s=arguments.length-2;if(s===1)l.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];l.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)l[r]===void 0&&(l[r]=s[r]);return{$$typeof:Or,type:e,key:o,ref:i,props:l,_owner:Yi.current}}function If(e,t){return{$$typeof:Or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gi(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===Or}function Mf(e){var t={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+e.replace(/[=:]/g,function(n){return t[n]})}var bs=/\\/+/g;function vo(e,t){return typeof e==\"object\"&&e!==null&&e.key!=null?Mf(\"\"+e.key):t.toString(36)}function sl(e,t,n,r,l){var o=typeof e;(o===\"undefined\"||o===\"boolean\")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case\"string\":case\"number\":i=!0;break;case\"object\":switch(e.$$typeof){case Or:case Nf:i=!0}}if(i)return i=e,l=l(i),e=r===\"\"?\".\"+vo(i,0):r,Zs(l)?(n=\"\",e!=null&&(n=e.replace(bs,\"$&/\")+\"/\"),sl(l,t,n,\"\",function(c){return c})):l!=null&&(Gi(l)&&(l=If(l,n+(!l.key||i&&i.key===l.key?\"\":(\"\"+l.key).replace(bs,\"$&/\")+\"/\")+e)),t.push(l)),1;if(i=0,r=r===\"\"?\".\":r+\":\",Zs(e))for(var s=0;s<e.length;s++){o=e[s];var a=r+vo(o,s);i+=sl(o,t,n,a,l)}else if(a=Uf(e),typeof a==\"function\")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=r+vo(o,s++),i+=sl(o,t,n,a,l);else if(o===\"object\")throw t=String(e),Error(\"Objects are not valid as a React child (found: \"+(t===\"[object Object]\"?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":t)+\"). If you meant to render a collection of children, use an array instead.\");return i}function Vr(e,t,n){if(e==null)return e;var r=[],l=0;return sl(e,r,\"\",\"\",function(o){return t.call(n,o,l++)}),r}function Bf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var he={current:null},al={transition:null},$f={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:al,ReactCurrentOwner:Yi};function Mu(){throw Error(\"act(...) is not supported in production builds of React.\")}D.Children={map:Vr,forEach:function(e,t,n){Vr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vr(e,function(){t++}),t},toArray:function(e){return Vr(e,function(t){return t})||[]},only:function(e){if(!Gi(e))throw Error(\"React.Children.only expected to receive a single React element child.\");return e}};D.Component=Un;D.Fragment=Pf;D.Profiler=Tf;D.PureComponent=qi;D.StrictMode=Rf;D.Suspense=zf;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$f;D.act=Mu;D.cloneElement=function(e,t,n){if(e==null)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+e+\".\");var r=Fu({},e.props),l=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Yi.current),t.key!==void 0&&(l=\"\"+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)Au.call(t,a)&&!Uu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var c=0;c<a;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Or,type:e.type,key:l,ref:o,props:r,_owner:i}};D.createContext=function(e){return e={$$typeof:Lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Of,_context:e},e.Consumer=e};D.createElement=Iu;D.createFactory=function(e){var t=Iu.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Ff,render:e}};D.isValidElement=Gi;D.lazy=function(e){return{$$typeof:Af,_payload:{_status:-1,_result:e},_init:Bf}};D.memo=function(e,t){return{$$typeof:Df,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};D.unstable_act=Mu;D.useCallback=function(e,t){return he.current.useCallback(e,t)};D.useContext=function(e){return he.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return he.current.useDeferredValue(e)};D.useEffect=function(e,t){return he.current.useEffect(e,t)};D.useId=function(){return he.current.useId()};D.useImperativeHandle=function(e,t,n){return he.current.useImperativeHandle(e,t,n)};D.useInsertionEffect=function(e,t){return he.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return he.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return he.current.useMemo(e,t)};D.useReducer=function(e,t,n){return he.current.useReducer(e,t,n)};D.useRef=function(e){return he.current.useRef(e)};D.useState=function(e){return he.current.useState(e)};D.useSyncExternalStore=function(e,t,n){return he.current.useSyncExternalStore(e,t,n)};D.useTransition=function(){return he.current.useTransition()};D.version=\"18.3.1\";Ou.exports=D;var E=Ou.exports;const Zi=Cf(E),Hf=kf({__proto__:null,default:Zi},[E]);/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Vf=E,Wf=Symbol.for(\"react.element\"),Qf=Symbol.for(\"react.fragment\"),Kf=Object.prototype.hasOwnProperty,Jf=Vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qf={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,n){var r,l={},o=null,i=null;n!==void 0&&(o=\"\"+n),t.key!==void 0&&(o=\"\"+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Kf.call(t,r)&&!qf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Wf,type:e,key:o,ref:i,props:l,_owner:Jf.current}}Xl.Fragment=Qf;Xl.jsx=Bu;Xl.jsxs=Bu;Tu.exports=Xl;var u=Tu.exports,qo={},$u={exports:{}},Re={},Hu={exports:{}},Vu={};/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */(function(e){function t(N,O){var F=N.length;N.push(O);e:for(;0<F;){var U=F-1>>>1,$=N[U];if(0<l($,O))N[U]=O,N[F]=$,F=U;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var O=N[0],F=N.pop();if(F!==O){N[0]=F;e:for(var U=0,$=N.length,mt=$>>>1;U<mt;){var Oe=2*(U+1)-1,on=N[Oe],Bt=Oe+1,Hr=N[Bt];if(0>l(on,F))Bt<$&&0>l(Hr,on)?(N[U]=Hr,N[Bt]=F,U=Bt):(N[U]=on,N[Oe]=F,U=Oe);else if(Bt<$&&0>l(Hr,F))N[U]=Hr,N[Bt]=F,U=Bt;else break e}}return O}function l(N,O){var F=N.sortIndex-O.sortIndex;return F!==0?F:N.id-O.id}if(typeof performance==\"object\"&&typeof performance.now==\"function\"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var a=[],c=[],f=1,d=null,y=3,v=!1,g=!1,x=!1,S=typeof setTimeout==\"function\"?setTimeout:null,m=typeof clearTimeout==\"function\"?clearTimeout:null,h=typeof setImmediate<\"u\"?setImmediate:null;typeof navigator<\"u\"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=N)r(c),O.sortIndex=O.expirationTime,t(a,O);else break;O=n(c)}}function j(N){if(x=!1,p(N),!g)if(n(a)!==null)g=!0,ge(_);else{var O=n(c);O!==null&&ln(j,O.startTime-N)}}function _(N,O){g=!1,x&&(x=!1,m(T),T=-1),v=!0;var F=y;try{for(p(O),d=n(a);d!==null&&(!(d.expirationTime>O)||N&&!ye());){var U=d.callback;if(typeof U==\"function\"){d.callback=null,y=d.priorityLevel;var $=U(d.expirationTime<=O);O=e.unstable_now(),typeof $==\"function\"?d.callback=$:d===n(a)&&r(a),p(O)}else r(a);d=n(a)}if(d!==null)var mt=!0;else{var Oe=n(c);Oe!==null&&ln(j,Oe.startTime-O),mt=!1}return mt}finally{d=null,y=F,v=!1}}var P=!1,C=null,T=-1,M=5,z=-1;function ye(){return!(e.unstable_now()-z<M)}function qe(){if(C!==null){var N=e.unstable_now();z=N;var O=!0;try{O=C(!0,N)}finally{O?Ie():(P=!1,C=null)}}else P=!1}var Ie;if(typeof h==\"function\")Ie=function(){h(qe)};else if(typeof MessageChannel<\"u\"){var Xe=new MessageChannel,$r=Xe.port2;Xe.port1.onmessage=qe,Ie=function(){$r.postMessage(null)}}else Ie=function(){S(qe,0)};function ge(N){C=N,P||(P=!0,Ie())}function ln(N,O){T=S(function(){N(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,ge(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):M=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(N){switch(y){case 1:case 2:case 3:var O=3;break;default:O=y}var F=y;y=O;try{return N()}finally{y=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=y;y=N;try{return O()}finally{y=F}},e.unstable_scheduleCallback=function(N,O,F){var U=e.unstable_now();switch(typeof F==\"object\"&&F!==null?(F=F.delay,F=typeof F==\"number\"&&0<F?U+F:U):F=U,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=F+$,N={id:f++,callback:O,priorityLevel:N,startTime:F,expirationTime:$,sortIndex:-1},F>U?(N.sortIndex=F,t(c,N),n(a)===null&&N===n(c)&&(x?(m(T),T=-1):x=!0,ln(j,F-U))):(N.sortIndex=$,t(a,N),g||v||(g=!0,ge(_))),N},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(N){var O=y;return function(){var F=y;y=O;try{return N.apply(this,arguments)}finally{y=F}}}})(Vu);Hu.exports=Vu;var Xf=Hu.exports;/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var Yf=E,Pe=Xf;function k(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=1;n<arguments.length;n++)t+=\"&args[]=\"+encodeURIComponent(arguments[n]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var Wu=new Set,fr={};function nn(e,t){Rn(e,t),Rn(e+\"Capture\",t)}function Rn(e,t){for(fr[e]=t,e=0;e<t.length;e++)Wu.add(t[e])}var ut=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),Xo=Object.prototype.hasOwnProperty,Gf=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ea={},ta={};function Zf(e){return Xo.call(ta,e)?!0:Xo.call(ea,e)?!1:Gf.test(e)?ta[e]=!0:(ea[e]=!0,!1)}function bf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case\"function\":case\"symbol\":return!0;case\"boolean\":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!==\"data-\"&&e!==\"aria-\");default:return!1}}function ep(e,t,n,r){if(t===null||typeof t>\"u\"||bf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function me(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var oe={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(e){oe[e]=new me(e,0,!1,e,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(e){var t=e[0];oe[t]=new me(t,1,!1,e[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(e){oe[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)});[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(e){oe[e]=new me(e,2,!1,e,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(e){oe[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(e){oe[e]=new me(e,3,!0,e,null,!1,!1)});[\"capture\",\"download\"].forEach(function(e){oe[e]=new me(e,4,!1,e,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(e){oe[e]=new me(e,6,!1,e,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(e){oe[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)});var bi=/[\\-:]([a-z])/g;function es(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(e){var t=e.replace(bi,es);oe[t]=new me(t,1,!1,e,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(e){var t=e.replace(bi,es);oe[t]=new me(t,1,!1,e,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(e){var t=e.replace(bi,es);oe[t]=new me(t,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(e){oe[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)});oe.xlinkHref=new me(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(e){oe[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)});function ts(e,t,n,r){var l=oe.hasOwnProperty(t)?oe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!==\"o\"&&t[0]!==\"O\"||t[1]!==\"n\"&&t[1]!==\"N\")&&(ep(t,n,l,r)&&(n=null),r||l===null?Zf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,\"\"+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:\"\":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?\"\":\"\"+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pt=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wr=Symbol.for(\"react.element\"),un=Symbol.for(\"react.portal\"),cn=Symbol.for(\"react.fragment\"),ns=Symbol.for(\"react.strict_mode\"),Yo=Symbol.for(\"react.profiler\"),Qu=Symbol.for(\"react.provider\"),Ku=Symbol.for(\"react.context\"),rs=Symbol.for(\"react.forward_ref\"),Go=Symbol.for(\"react.suspense\"),Zo=Symbol.for(\"react.suspense_list\"),ls=Symbol.for(\"react.memo\"),gt=Symbol.for(\"react.lazy\"),Ju=Symbol.for(\"react.offscreen\"),na=Symbol.iterator;function Wn(e){return e===null||typeof e!=\"object\"?null:(e=na&&e[na]||e[\"@@iterator\"],typeof e==\"function\"?e:null)}var J=Object.assign,xo;function bn(e){if(xo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\\n( *(at )?)/);xo=t&&t[1]||\"\"}return`\n`+xo+e}var wo=!1;function So(e,t){if(!e||wo)return\"\";wo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack==\"string\"){for(var l=c.stack.split(`\n`),o=r.stack.split(`\n`),i=l.length-1,s=o.length-1;1<=i&&0<=s&&l[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==o[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==o[s]){var a=`\n`+l[i].replace(\" at new \",\" at \");return e.displayName&&a.includes(\"<anonymous>\")&&(a=a.replace(\"<anonymous>\",e.displayName)),a}while(1<=i&&0<=s);break}}}finally{wo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:\"\")?bn(e):\"\"}function tp(e){switch(e.tag){case 5:return bn(e.type);case 16:return bn(\"Lazy\");case 13:return bn(\"Suspense\");case 19:return bn(\"SuspenseList\");case 0:case 2:case 15:return e=So(e.type,!1),e;case 11:return e=So(e.type.render,!1),e;case 1:return e=So(e.type,!0),e;default:return\"\"}}function bo(e){if(e==null)return null;if(typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case cn:return\"Fragment\";case un:return\"Portal\";case Yo:return\"Profiler\";case ns:return\"StrictMode\";case Go:return\"Suspense\";case Zo:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case Ku:return(e.displayName||\"Context\")+\".Consumer\";case Qu:return(e._context.displayName||\"Context\")+\".Provider\";case rs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||\"\",e=e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\"),e;case ls:return t=e.displayName||null,t!==null?t:bo(e.type)||\"Memo\";case gt:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}function np(e){var t=e.type;switch(e.tag){case 24:return\"Cache\";case 9:return(t.displayName||\"Context\")+\".Consumer\";case 10:return(t._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return e=t.render,e=e.displayName||e.name||\"\",t.displayName||(e!==\"\"?\"ForwardRef(\"+e+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return t;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return bo(t);case 8:return t===ns?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";case 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t==\"function\")return t.displayName||t.name||null;if(typeof t==\"string\")return t}return null}function zt(e){switch(typeof e){case\"boolean\":case\"number\":case\"string\":case\"undefined\":return e;case\"object\":return e;default:return\"\"}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===\"input\"&&(t===\"checkbox\"||t===\"radio\")}function rp(e){var t=qu(e)?\"checked\":\"value\",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=\"\"+e[t];if(!e.hasOwnProperty(t)&&typeof n<\"u\"&&typeof n.get==\"function\"&&typeof n.set==\"function\"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=\"\"+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=\"\"+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qr(e){e._valueTracker||(e._valueTracker=rp(e))}function Xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=\"\";return e&&(r=qu(e)?e.checked?\"true\":\"false\":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<\"u\"?document:void 0),typeof e>\"u\")return null;try{return e.activeElement||e.body}catch{return e.body}}function ei(e,t){var n=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ra(e,t){var n=t.defaultValue==null?\"\":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type===\"checkbox\"||t.type===\"radio\"?t.checked!=null:t.value!=null}}function Yu(e,t){t=t.checked,t!=null&&ts(e,\"checked\",t,!1)}function ti(e,t){Yu(e,t);var n=zt(t.value),r=t.type;if(n!=null)r===\"number\"?(n===0&&e.value===\"\"||e.value!=n)&&(e.value=\"\"+n):e.value!==\"\"+n&&(e.value=\"\"+n);else if(r===\"submit\"||r===\"reset\"){e.removeAttribute(\"value\");return}t.hasOwnProperty(\"value\")?ni(e,t.type,n):t.hasOwnProperty(\"defaultValue\")&&ni(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function la(e,t,n){if(t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"defaultValue\")){var r=t.type;if(!(r!==\"submit\"&&r!==\"reset\"||t.value!==void 0&&t.value!==null))return;t=\"\"+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==\"\"&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,n!==\"\"&&(e.name=n)}function ni(e,t,n){(t!==\"number\"||jl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+n&&(e.defaultValue=\"\"+n))}var er=Array.isArray;function Sn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t[\"$\"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty(\"$\"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=\"\"+zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ri(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return J({},t,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function oa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(er(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=\"\"),n=t}e._wrapperState={initialValue:zt(n)}}function Gu(e,t){var n=zt(t.value),r=zt(t.defaultValue);n!=null&&(n=\"\"+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=\"\"+r)}function ia(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==\"\"&&t!==null&&(e.value=t)}function Zu(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function li(e,t){return e==null||e===\"http://www.w3.org/1999/xhtml\"?Zu(t):e===\"http://www.w3.org/2000/svg\"&&t===\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":e}var Kr,bu=function(e){return typeof MSApp<\"u\"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!==\"http://www.w3.org/2000/svg\"||\"innerHTML\"in e)e.innerHTML=t;else{for(Kr=Kr||document.createElement(\"div\"),Kr.innerHTML=\"<svg>\"+t.valueOf().toString()+\"</svg>\",t=Kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(rr).forEach(function(e){lp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function ec(e,t,n){return t==null||typeof t==\"boolean\"||t===\"\"?\"\":n||typeof t!=\"number\"||t===0||rr.hasOwnProperty(e)&&rr[e]?(\"\"+t).trim():t+\"px\"}function tc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf(\"--\")===0,l=ec(n,t[n],r);n===\"float\"&&(n=\"cssFloat\"),r?e.setProperty(n,l):e[n]=l}}var op=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(e,t){if(t){if(op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!=\"object\"||!(\"__html\"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!=\"object\")throw Error(k(62))}}function ii(e,t){if(e.indexOf(\"-\")===-1)return typeof t.is==\"string\";switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var si=null;function os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ai=null,jn=null,En=null;function sa(e){if(e=zr(e)){if(typeof ai!=\"function\")throw Error(k(280));var t=e.stateNode;t&&(t=eo(t),ai(e.stateNode,e.type,t))}}function nc(e){jn?En?En.push(e):En=[e]:jn=e}function rc(){if(jn){var e=jn,t=En;if(En=jn=null,sa(e),t)for(e=0;e<t.length;e++)sa(t[e])}}function lc(e,t){return e(t)}function oc(){}var jo=!1;function ic(e,t,n){if(jo)return e(t,n);jo=!0;try{return lc(e,t,n)}finally{jo=!1,(jn!==null||En!==null)&&(oc(),rc())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=eo(n);if(r===null)return null;n=r[t];e:switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(r=!r.disabled)||(e=e.type,r=!(e===\"button\"||e===\"input\"||e===\"select\"||e===\"textarea\")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!=\"function\")throw Error(k(231,t,typeof n));return n}var ui=!1;if(ut)try{var Qn={};Object.defineProperty(Qn,\"passive\",{get:function(){ui=!0}}),window.addEventListener(\"test\",Qn,Qn),window.removeEventListener(\"test\",Qn,Qn)}catch{ui=!1}function ip(e,t,n,r,l,o,i,s,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var lr=!1,El=null,_l=!1,ci=null,sp={onError:function(e){lr=!0,El=e}};function ap(e,t,n,r,l,o,i,s,a){lr=!1,El=null,ip.apply(sp,arguments)}function up(e,t,n,r,l,o,i,s,a){if(ap.apply(this,arguments),lr){if(lr){var c=El;lr=!1,El=null}else throw Error(k(198));_l||(_l=!0,ci=c)}}function rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aa(e){if(rn(e)!==e)throw Error(k(188))}function cp(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return aa(l),e;if(o===r)return aa(l),t;o=o.sibling}throw Error(k(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,s=l.child;s;){if(s===n){i=!0,n=l,r=o;break}if(s===r){i=!0,r=l,n=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===n){i=!0,n=o,r=l;break}if(s===r){i=!0,r=o,n=l;break}s=s.sibling}if(!i)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function ac(e){return e=cp(e),e!==null?uc(e):null}function uc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uc(e);if(t!==null)return t;e=e.sibling}return null}var cc=Pe.unstable_scheduleCallback,ua=Pe.unstable_cancelCallback,dp=Pe.unstable_shouldYield,fp=Pe.unstable_requestPaint,X=Pe.unstable_now,pp=Pe.unstable_getCurrentPriorityLevel,is=Pe.unstable_ImmediatePriority,dc=Pe.unstable_UserBlockingPriority,kl=Pe.unstable_NormalPriority,hp=Pe.unstable_LowPriority,fc=Pe.unstable_IdlePriority,Yl=null,tt=null;function mp(e){if(tt&&typeof tt.onCommitFiberRoot==\"function\")try{tt.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:vp,yp=Math.log,gp=Math.LN2;function vp(e){return e>>>=0,e===0?32:31-(yp(e)/gp|0)|0}var Jr=64,qr=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var s=i&~l;s!==0?r=tr(s):(o&=i,o!==0&&(r=tr(o)))}else i=n&~l,i!==0?r=tr(i):o!==0&&(r=tr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ve(t),l=1<<n,r|=e[n],t&=~l;return r}function xp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ve(o),s=1<<i,a=l[i];a===-1?(!(s&n)||s&r)&&(l[i]=xp(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function di(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pc(){var e=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),e}function Eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ve(t),e[t]=n}function Sp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ve(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function ss(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ve(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var I=0;function hc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mc,as,yc,gc,vc,fi=!1,Xr=[],kt=null,Ct=null,Nt=null,mr=new Map,yr=new Map,wt=[],jp=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");function ca(e,t){switch(e){case\"focusin\":case\"focusout\":kt=null;break;case\"dragenter\":case\"dragleave\":Ct=null;break;case\"mouseover\":case\"mouseout\":Nt=null;break;case\"pointerover\":case\"pointerout\":mr.delete(t.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":yr.delete(t.pointerId)}}function Kn(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=zr(t),t!==null&&as(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Ep(e,t,n,r,l){switch(t){case\"focusin\":return kt=Kn(kt,e,t,n,r,l),!0;case\"dragenter\":return Ct=Kn(Ct,e,t,n,r,l),!0;case\"mouseover\":return Nt=Kn(Nt,e,t,n,r,l),!0;case\"pointerover\":var o=l.pointerId;return mr.set(o,Kn(mr.get(o)||null,e,t,n,r,l)),!0;case\"gotpointercapture\":return o=l.pointerId,yr.set(o,Kn(yr.get(o)||null,e,t,n,r,l)),!0}return!1}function xc(e){var t=Vt(e.target);if(t!==null){var n=rn(t);if(n!==null){if(t=n.tag,t===13){if(t=sc(n),t!==null){e.blockedOn=t,vc(e.priority,function(){yc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);si=r,n.target.dispatchEvent(r),si=null}else return t=zr(n),t!==null&&as(t),e.blockedOn=n,!1;t.shift()}return!0}function da(e,t,n){ul(e)&&n.delete(t)}function _p(){fi=!1,kt!==null&&ul(kt)&&(kt=null),Ct!==null&&ul(Ct)&&(Ct=null),Nt!==null&&ul(Nt)&&(Nt=null),mr.forEach(da),yr.forEach(da)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,fi||(fi=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,_p)))}function gr(e){function t(l){return Jn(l,e)}if(0<Xr.length){Jn(Xr[0],e);for(var n=1;n<Xr.length;n++){var r=Xr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kt!==null&&Jn(kt,e),Ct!==null&&Jn(Ct,e),Nt!==null&&Jn(Nt,e),mr.forEach(t),yr.forEach(t),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)xc(n),n.blockedOn===null&&wt.shift()}var _n=pt.ReactCurrentBatchConfig,Nl=!0;function kp(e,t,n,r){var l=I,o=_n.transition;_n.transition=null;try{I=1,us(e,t,n,r)}finally{I=l,_n.transition=o}}function Cp(e,t,n,r){var l=I,o=_n.transition;_n.transition=null;try{I=4,us(e,t,n,r)}finally{I=l,_n.transition=o}}function us(e,t,n,r){if(Nl){var l=pi(e,t,n,r);if(l===null)Fo(e,t,r,Pl,n),ca(e,r);else if(Ep(l,e,t,n,r))r.stopPropagation();else if(ca(e,r),t&4&&-1<jp.indexOf(e)){for(;l!==null;){var o=zr(l);if(o!==null&&mc(o),o=pi(e,t,n,r),o===null&&Fo(e,t,r,Pl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Fo(e,t,r,null,n)}}var Pl=null;function pi(e,t,n,r){if(Pl=null,e=os(r),e=Vt(e),e!==null)if(t=rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pl=e,null}function wc(e){switch(e){case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 1;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"toggle\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 4;case\"message\":switch(pp()){case is:return 1;case dc:return 4;case kl:case hp:return 16;case fc:return 536870912;default:return 16}default:return 16}}var jt=null,cs=null,cl=null;function Sc(){if(cl)return cl;var e,t=cs,n=t.length,r,l=\"value\"in jt?jt.value:jt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return cl=l.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return\"charCode\"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function fa(){return!1}function Te(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yr:fa,this.isPropagationStopped=fa,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!=\"unknown\"&&(n.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!=\"unknown\"&&(n.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=Te(In),Fr=J({},In,{view:0,detail:0}),Np=Te(Fr),_o,ko,qn,Gl=J({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return\"movementX\"in e?e.movementX:(e!==qn&&(qn&&e.type===\"mousemove\"?(_o=e.screenX-qn.screenX,ko=e.screenY-qn.screenY):ko=_o=0,qn=e),_o)},movementY:function(e){return\"movementY\"in e?e.movementY:ko}}),pa=Te(Gl),Pp=J({},Gl,{dataTransfer:0}),Rp=Te(Pp),Tp=J({},Fr,{relatedTarget:0}),Co=Te(Tp),Op=J({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Lp=Te(Op),Fp=J({},In,{clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),zp=Te(Fp),Dp=J({},In,{data:0}),ha=Te(Dp),Ap={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Up={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Ip={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ip[e])?!!t[e]:!1}function fs(){return Mp}var Bp=J({},Fr,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!==\"Unidentified\")return t}return e.type===\"keypress\"?(e=dl(e),e===13?\"Enter\":String.fromCharCode(e)):e.type===\"keydown\"||e.type===\"keyup\"?Up[e.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type===\"keypress\"?dl(e):0},keyCode:function(e){return e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0},which:function(e){return e.type===\"keypress\"?dl(e):e.type===\"keydown\"||e.type===\"keyup\"?e.keyCode:0}}),$p=Te(Bp),Hp=J({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ma=Te(Hp),Vp=J({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),Wp=Te(Vp),Qp=J({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=Te(Qp),Jp=J({},Gl,{deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=Te(Jp),Xp=[9,13,27,32],ps=ut&&\"CompositionEvent\"in window,or=null;ut&&\"documentMode\"in document&&(or=document.documentMode);var Yp=ut&&\"TextEvent\"in window&&!or,jc=ut&&(!ps||or&&8<or&&11>=or),ya=\" \",ga=!1;function Ec(e,t){switch(e){case\"keyup\":return Xp.indexOf(t.keyCode)!==-1;case\"keydown\":return t.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function _c(e){return e=e.detail,typeof e==\"object\"&&\"data\"in e?e.data:null}var dn=!1;function Gp(e,t){switch(e){case\"compositionend\":return _c(t);case\"keypress\":return t.which!==32?null:(ga=!0,ya);case\"textInput\":return e=t.data,e===ya&&ga?null:e;default:return null}}function Zp(e,t){if(dn)return e===\"compositionend\"||!ps&&Ec(e,t)?(e=Sc(),cl=cs=jt=null,dn=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case\"compositionend\":return jc&&t.locale!==\"ko\"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===\"input\"?!!bp[e.type]:t===\"textarea\"}function kc(e,t,n,r){nc(r),t=Rl(t,\"onChange\"),0<t.length&&(n=new ds(\"onChange\",\"change\",null,n,r),e.push({event:n,listeners:t}))}var ir=null,vr=null;function eh(e){Ac(e,0)}function Zl(e){var t=hn(e);if(Xu(t))return e}function th(e,t){if(e===\"change\")return t}var Cc=!1;if(ut){var No;if(ut){var Po=\"oninput\"in document;if(!Po){var xa=document.createElement(\"div\");xa.setAttribute(\"oninput\",\"return;\"),Po=typeof xa.oninput==\"function\"}No=Po}else No=!1;Cc=No&&(!document.documentMode||9<document.documentMode)}function wa(){ir&&(ir.detachEvent(\"onpropertychange\",Nc),vr=ir=null)}function Nc(e){if(e.propertyName===\"value\"&&Zl(vr)){var t=[];kc(t,vr,e,os(e)),ic(eh,t)}}function nh(e,t,n){e===\"focusin\"?(wa(),ir=t,vr=n,ir.attachEvent(\"onpropertychange\",Nc)):e===\"focusout\"&&wa()}function rh(e){if(e===\"selectionchange\"||e===\"keyup\"||e===\"keydown\")return Zl(vr)}function lh(e,t){if(e===\"click\")return Zl(t)}function oh(e,t){if(e===\"input\"||e===\"change\")return Zl(t)}function ih(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qe=typeof Object.is==\"function\"?Object.is:ih;function xr(e,t){if(Qe(e,t))return!0;if(typeof e!=\"object\"||e===null||typeof t!=\"object\"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Xo.call(t,l)||!Qe(e[l],t[l]))return!1}return!0}function Sa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ja(e,t){var n=Sa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sa(n)}}function Pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pc(e,t.parentNode):\"contains\"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=jl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==\"string\"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jl(e.document)}return t}function hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===\"input\"&&(e.type===\"text\"||e.type===\"search\"||e.type===\"tel\"||e.type===\"url\"||e.type===\"password\")||t===\"textarea\"||e.contentEditable===\"true\")}function sh(e){var t=Rc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pc(n.ownerDocument.documentElement,n)){if(r!==null&&hs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),\"selectionStart\"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=ja(n,o);var i=ja(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus==\"function\"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ah=ut&&\"documentMode\"in document&&11>=document.documentMode,fn=null,hi=null,sr=null,mi=!1;function Ea(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mi||fn==null||fn!==jl(r)||(r=fn,\"selectionStart\"in r&&hs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sr&&xr(sr,r)||(sr=r,r=Rl(hi,\"onSelect\"),0<r.length&&(t=new ds(\"onSelect\",\"select\",null,t,n),e.push({event:t,listeners:r}),t.target=fn)))}function Gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[\"Webkit\"+e]=\"webkit\"+t,n[\"Moz\"+e]=\"moz\"+t,n}var pn={animationend:Gr(\"Animation\",\"AnimationEnd\"),animationiteration:Gr(\"Animation\",\"AnimationIteration\"),animationstart:Gr(\"Animation\",\"AnimationStart\"),transitionend:Gr(\"Transition\",\"TransitionEnd\")},Ro={},Tc={};ut&&(Tc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),\"TransitionEvent\"in window||delete pn.transitionend.transition);function bl(e){if(Ro[e])return Ro[e];if(!pn[e])return e;var t=pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tc)return Ro[e]=t[n];return e}var Oc=bl(\"animationend\"),Lc=bl(\"animationiteration\"),Fc=bl(\"animationstart\"),zc=bl(\"transitionend\"),Dc=new Map,_a=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");function At(e,t){Dc.set(e,t),nn(t,[e])}for(var To=0;To<_a.length;To++){var Oo=_a[To],uh=Oo.toLowerCase(),ch=Oo[0].toUpperCase()+Oo.slice(1);At(uh,\"on\"+ch)}At(Oc,\"onAnimationEnd\");At(Lc,\"onAnimationIteration\");At(Fc,\"onAnimationStart\");At(\"dblclick\",\"onDoubleClick\");At(\"focusin\",\"onFocus\");At(\"focusout\",\"onBlur\");At(zc,\"onTransitionEnd\");Rn(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);Rn(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);Rn(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);Rn(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);nn(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));nn(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));nn(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);nn(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));nn(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));nn(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var nr=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),dh=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(nr));function ka(e,t,n){var r=e.type||\"unknown-event\";e.currentTarget=n,up(r,t,void 0,e),e.currentTarget=null}function Ac(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],a=s.instance,c=s.currentTarget;if(s=s.listener,a!==o&&l.isPropagationStopped())break e;ka(l,s,c),o=a}else for(i=0;i<r.length;i++){if(s=r[i],a=s.instance,c=s.currentTarget,s=s.listener,a!==o&&l.isPropagationStopped())break e;ka(l,s,c),o=a}}}if(_l)throw e=ci,_l=!1,ci=null,e}function H(e,t){var n=t[wi];n===void 0&&(n=t[wi]=new Set);var r=e+\"__bubble\";n.has(r)||(Uc(t,e,2,!1),n.add(r))}function Lo(e,t,n){var r=0;t&&(r|=4),Uc(n,e,r,t)}var Zr=\"_reactListening\"+Math.random().toString(36).slice(2);function wr(e){if(!e[Zr]){e[Zr]=!0,Wu.forEach(function(n){n!==\"selectionchange\"&&(dh.has(n)||Lo(n,!1,e),Lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zr]||(t[Zr]=!0,Lo(\"selectionchange\",!1,t))}}function Uc(e,t,n,r){switch(wc(t)){case 1:var l=kp;break;case 4:l=Cp;break;default:l=us}n=l.bind(null,t,n,e),l=void 0,!ui||t!==\"touchstart\"&&t!==\"touchmove\"&&t!==\"wheel\"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Fo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var s=r.stateNode.containerInfo;if(s===l||s.nodeType===8&&s.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;i=i.return}for(;s!==null;){if(i=Vt(s),i===null)return;if(a=i.tag,a===5||a===6){r=o=i;continue e}s=s.parentNode}}r=r.return}ic(function(){var c=o,f=os(n),d=[];e:{var y=Dc.get(e);if(y!==void 0){var v=ds,g=e;switch(e){case\"keypress\":if(dl(n)===0)break e;case\"keydown\":case\"keyup\":v=$p;break;case\"focusin\":g=\"focus\",v=Co;break;case\"focusout\":g=\"blur\",v=Co;break;case\"beforeblur\":case\"afterblur\":v=Co;break;case\"click\":if(n.button===2)break e;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":v=pa;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":v=Rp;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":v=Wp;break;case Oc:case Lc:case Fc:v=Lp;break;case zc:v=Kp;break;case\"scroll\":v=Np;break;case\"wheel\":v=qp;break;case\"copy\":case\"cut\":case\"paste\":v=zp;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":v=ma}var x=(t&4)!==0,S=!x&&e===\"scroll\",m=x?y!==null?y+\"Capture\":null:y;x=[];for(var h=c,p;h!==null;){p=h;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,m!==null&&(j=hr(h,m),j!=null&&x.push(Sr(h,j,p)))),S)break;h=h.return}0<x.length&&(y=new v(y,g,null,n,f),d.push({event:y,listeners:x}))}}if(!(t&7)){e:{if(y=e===\"mouseover\"||e===\"pointerover\",v=e===\"mouseout\"||e===\"pointerout\",y&&n!==si&&(g=n.relatedTarget||n.fromElement)&&(Vt(g)||g[ct]))break e;if((v||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=c,g=g?Vt(g):null,g!==null&&(S=rn(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(x=pa,j=\"onMouseLeave\",m=\"onMouseEnter\",h=\"mouse\",(e===\"pointerout\"||e===\"pointerover\")&&(x=ma,j=\"onPointerLeave\",m=\"onPointerEnter\",h=\"pointer\"),S=v==null?y:hn(v),p=g==null?y:hn(g),y=new x(j,h+\"leave\",v,n,f),y.target=S,y.relatedTarget=p,j=null,Vt(f)===c&&(x=new x(m,h+\"enter\",g,n,f),x.target=p,x.relatedTarget=S,j=x),S=j,v&&g)t:{for(x=v,m=g,h=0,p=x;p;p=sn(p))h++;for(p=0,j=m;j;j=sn(j))p++;for(;0<h-p;)x=sn(x),h--;for(;0<p-h;)m=sn(m),p--;for(;h--;){if(x===m||m!==null&&x===m.alternate)break t;x=sn(x),m=sn(m)}x=null}else x=null;v!==null&&Ca(d,y,v,x,!1),g!==null&&S!==null&&Ca(d,S,g,x,!0)}}e:{if(y=c?hn(c):window,v=y.nodeName&&y.nodeName.toLowerCase(),v===\"select\"||v===\"input\"&&y.type===\"file\")var _=th;else if(va(y))if(Cc)_=oh;else{_=rh;var P=nh}else(v=y.nodeName)&&v.toLowerCase()===\"input\"&&(y.type===\"checkbox\"||y.type===\"radio\")&&(_=lh);if(_&&(_=_(e,c))){kc(d,_,n,f);break e}P&&P(e,y,c),e===\"focusout\"&&(P=y._wrapperState)&&P.controlled&&y.type===\"number\"&&ni(y,\"number\",y.value)}switch(P=c?hn(c):window,e){case\"focusin\":(va(P)||P.contentEditable===\"true\")&&(fn=P,hi=c,sr=null);break;case\"focusout\":sr=hi=fn=null;break;case\"mousedown\":mi=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":mi=!1,Ea(d,n,f);break;case\"selectionchange\":if(ah)break;case\"keydown\":case\"keyup\":Ea(d,n,f)}var C;if(ps)e:{switch(e){case\"compositionstart\":var T=\"onCompositionStart\";break e;case\"compositionend\":T=\"onCompositionEnd\";break e;case\"compositionupdate\":T=\"onCompositionUpdate\";break e}T=void 0}else dn?Ec(e,n)&&(T=\"onCompositionEnd\"):e===\"keydown\"&&n.keyCode===229&&(T=\"onCompositionStart\");T&&(jc&&n.locale!==\"ko\"&&(dn||T!==\"onCompositionStart\"?T===\"onCompositionEnd\"&&dn&&(C=Sc()):(jt=f,cs=\"value\"in jt?jt.value:jt.textContent,dn=!0)),P=Rl(c,T),0<P.length&&(T=new ha(T,e,null,n,f),d.push({event:T,listeners:P}),C?T.data=C:(C=_c(n),C!==null&&(T.data=C)))),(C=Yp?Gp(e,n):Zp(e,n))&&(c=Rl(c,\"onBeforeInput\"),0<c.length&&(f=new ha(\"onBeforeInput\",\"beforeinput\",null,n,f),d.push({event:f,listeners:c}),f.data=C))}Ac(d,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+\"Capture\",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=hr(e,n),o!=null&&r.unshift(Sr(e,o,l)),o=hr(e,t),o!=null&&r.push(Sr(e,o,l))),e=e.return}return r}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ca(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var s=n,a=s.alternate,c=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&c!==null&&(s=c,l?(a=hr(n,o),a!=null&&i.unshift(Sr(n,a,s))):l||(a=hr(n,o),a!=null&&i.push(Sr(n,a,s)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var fh=/\\r\\n?/g,ph=/\\u0000|\\uFFFD/g;function Na(e){return(typeof e==\"string\"?e:\"\"+e).replace(fh,`\n`).replace(ph,\"\")}function br(e,t,n){if(t=Na(t),Na(e)!==t&&n)throw Error(k(425))}function Tl(){}var yi=null,gi=null;function vi(e,t){return e===\"textarea\"||e===\"noscript\"||typeof t.children==\"string\"||typeof t.children==\"number\"||typeof t.dangerouslySetInnerHTML==\"object\"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xi=typeof setTimeout==\"function\"?setTimeout:void 0,hh=typeof clearTimeout==\"function\"?clearTimeout:void 0,Pa=typeof Promise==\"function\"?Promise:void 0,mh=typeof queueMicrotask==\"function\"?queueMicrotask:typeof Pa<\"u\"?function(e){return Pa.resolve(null).then(e).catch(yh)}:xi;function yh(e){setTimeout(function(){throw e})}function zo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n===\"/$\"){if(r===0){e.removeChild(l),gr(t);return}r--}else n!==\"$\"&&n!==\"$?\"&&n!==\"$!\"||r++;n=l}while(n);gr(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===\"$\"||t===\"$!\"||t===\"$?\")break;if(t===\"/$\")return null}}return e}function Ra(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===\"$\"||n===\"$!\"||n===\"$?\"){if(t===0)return e;t--}else n===\"/$\"&&t++}e=e.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),et=\"__reactFiber$\"+Mn,jr=\"__reactProps$\"+Mn,ct=\"__reactContainer$\"+Mn,wi=\"__reactEvents$\"+Mn,gh=\"__reactListeners$\"+Mn,vh=\"__reactHandles$\"+Mn;function Vt(e){var t=e[et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ct]||n[et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ra(e);e!==null;){if(n=e[et])return n;e=Ra(e)}return t}e=n,n=e.parentNode}return null}function zr(e){return e=e[et]||e[ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function eo(e){return e[jr]||null}var Si=[],mn=-1;function Ut(e){return{current:e}}function V(e){0>mn||(e.current=Si[mn],Si[mn]=null,mn--)}function B(e,t){mn++,Si[mn]=e.current,e.current=t}var Dt={},ce=Ut(Dt),we=Ut(!1),Yt=Dt;function Tn(e,t){var n=e.type.contextTypes;if(!n)return Dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Se(e){return e=e.childContextTypes,e!=null}function Ol(){V(we),V(ce)}function Ta(e,t,n){if(ce.current!==Dt)throw Error(k(168));B(ce,t),B(we,n)}function Ic(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!=\"function\")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(k(108,np(e)||\"Unknown\",l));return J({},n,r)}function Ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,Yt=ce.current,B(ce,e),B(we,we.current),!0}function Oa(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=Ic(e,t,Yt),r.__reactInternalMemoizedMergedChildContext=e,V(we),V(ce),B(ce,e)):V(we),B(we,n)}var ot=null,to=!1,Do=!1;function Mc(e){ot===null?ot=[e]:ot.push(e)}function xh(e){to=!0,Mc(e)}function It(){if(!Do&&ot!==null){Do=!0;var e=0,t=I;try{var n=ot;for(I=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ot=null,to=!1}catch(l){throw ot!==null&&(ot=ot.slice(e+1)),cc(is,It),l}finally{I=t,Do=!1}}return null}var yn=[],gn=0,Fl=null,zl=0,Le=[],Fe=0,Gt=null,it=1,st=\"\";function $t(e,t){yn[gn++]=zl,yn[gn++]=Fl,Fl=e,zl=t}function Bc(e,t,n){Le[Fe++]=it,Le[Fe++]=st,Le[Fe++]=Gt,Gt=e;var r=it;e=st;var l=32-Ve(r)-1;r&=~(1<<l),n+=1;var o=32-Ve(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,it=1<<32-Ve(t)+l|n<<l|r,st=o+e}else it=1<<o|n<<l|r,st=e}function ms(e){e.return!==null&&($t(e,1),Bc(e,1,0))}function ys(e){for(;e===Fl;)Fl=yn[--gn],yn[gn]=null,zl=yn[--gn],yn[gn]=null;for(;e===Gt;)Gt=Le[--Fe],Le[Fe]=null,st=Le[--Fe],Le[Fe]=null,it=Le[--Fe],Le[Fe]=null}var Ne=null,Ce=null,W=!1,He=null;function $c(e,t){var n=ze(5,null,null,0);n.elementType=\"DELETED\",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ne=e,Ce=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===\"\"||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ne=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gt!==null?{id:it,overflow:st}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ne=e,Ce=null,!0):!1;default:return!1}}function ji(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ei(e){if(W){var t=Ce;if(t){var n=t;if(!La(e,t)){if(ji(e))throw Error(k(418));t=Pt(n.nextSibling);var r=Ne;t&&La(e,t)?$c(r,n):(e.flags=e.flags&-4097|2,W=!1,Ne=e)}}else{if(ji(e))throw Error(k(418));e.flags=e.flags&-4097|2,W=!1,Ne=e}}}function Fa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ne=e}function el(e){if(e!==Ne)return!1;if(!W)return Fa(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!==\"head\"&&t!==\"body\"&&!vi(e.type,e.memoizedProps)),t&&(t=Ce)){if(ji(e))throw Hc(),Error(k(418));for(;t;)$c(e,t),t=Pt(t.nextSibling)}if(Fa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n===\"/$\"){if(t===0){Ce=Pt(e.nextSibling);break e}t--}else n!==\"$\"&&n!==\"$!\"&&n!==\"$?\"||t++}e=e.nextSibling}Ce=null}}else Ce=Ne?Pt(e.stateNode.nextSibling):null;return!0}function Hc(){for(var e=Ce;e;)e=Pt(e.nextSibling)}function On(){Ce=Ne=null,W=!1}function gs(e){He===null?He=[e]:He.push(e)}var wh=pt.ReactCurrentBatchConfig;function Xn(e,t,n){if(e=n.ref,e!==null&&typeof e!=\"function\"&&typeof e!=\"object\"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var l=r,o=\"\"+e;return t!==null&&t.ref!==null&&typeof t.ref==\"function\"&&t.ref._stringRef===o?t.ref:(t=function(i){var s=l.refs;i===null?delete s[o]:s[o]=i},t._stringRef=o,t)}if(typeof e!=\"string\")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function tl(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e===\"[object Object]\"?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":e))}function za(e){var t=e._init;return t(e._payload)}function Vc(e){function t(m,h){if(e){var p=m.deletions;p===null?(m.deletions=[h],m.flags|=16):p.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function l(m,h){return m=Lt(m,h),m.index=0,m.sibling=null,m}function o(m,h,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<h?(m.flags|=2,h):p):(m.flags|=2,h)):(m.flags|=1048576,h)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,h,p,j){return h===null||h.tag!==6?(h=Ho(p,m.mode,j),h.return=m,h):(h=l(h,p),h.return=m,h)}function a(m,h,p,j){var _=p.type;return _===cn?f(m,h,p.props.children,j,p.key):h!==null&&(h.elementType===_||typeof _==\"object\"&&_!==null&&_.$$typeof===gt&&za(_)===h.type)?(j=l(h,p.props),j.ref=Xn(m,h,p),j.return=m,j):(j=vl(p.type,p.key,p.props,null,m.mode,j),j.ref=Xn(m,h,p),j.return=m,j)}function c(m,h,p,j){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Vo(p,m.mode,j),h.return=m,h):(h=l(h,p.children||[]),h.return=m,h)}function f(m,h,p,j,_){return h===null||h.tag!==7?(h=qt(p,m.mode,j,_),h.return=m,h):(h=l(h,p),h.return=m,h)}function d(m,h,p){if(typeof h==\"string\"&&h!==\"\"||typeof h==\"number\")return h=Ho(\"\"+h,m.mode,p),h.return=m,h;if(typeof h==\"object\"&&h!==null){switch(h.$$typeof){case Wr:return p=vl(h.type,h.key,h.props,null,m.mode,p),p.ref=Xn(m,null,h),p.return=m,p;case un:return h=Vo(h,m.mode,p),h.return=m,h;case gt:var j=h._init;return d(m,j(h._payload),p)}if(er(h)||Wn(h))return h=qt(h,m.mode,p,null),h.return=m,h;tl(m,h)}return null}function y(m,h,p,j){var _=h!==null?h.key:null;if(typeof p==\"string\"&&p!==\"\"||typeof p==\"number\")return _!==null?null:s(m,h,\"\"+p,j);if(typeof p==\"object\"&&p!==null){switch(p.$$typeof){case Wr:return p.key===_?a(m,h,p,j):null;case un:return p.key===_?c(m,h,p,j):null;case gt:return _=p._init,y(m,h,_(p._payload),j)}if(er(p)||Wn(p))return _!==null?null:f(m,h,p,j,null);tl(m,p)}return null}function v(m,h,p,j,_){if(typeof j==\"string\"&&j!==\"\"||typeof j==\"number\")return m=m.get(p)||null,s(h,m,\"\"+j,_);if(typeof j==\"object\"&&j!==null){switch(j.$$typeof){case Wr:return m=m.get(j.key===null?p:j.key)||null,a(h,m,j,_);case un:return m=m.get(j.key===null?p:j.key)||null,c(h,m,j,_);case gt:var P=j._init;return v(m,h,p,P(j._payload),_)}if(er(j)||Wn(j))return m=m.get(p)||null,f(h,m,j,_,null);tl(h,j)}return null}function g(m,h,p,j){for(var _=null,P=null,C=h,T=h=0,M=null;C!==null&&T<p.length;T++){C.index>T?(M=C,C=null):M=C.sibling;var z=y(m,C,p[T],j);if(z===null){C===null&&(C=M);break}e&&C&&z.alternate===null&&t(m,C),h=o(z,h,T),P===null?_=z:P.sibling=z,P=z,C=M}if(T===p.length)return n(m,C),W&&$t(m,T),_;if(C===null){for(;T<p.length;T++)C=d(m,p[T],j),C!==null&&(h=o(C,h,T),P===null?_=C:P.sibling=C,P=C);return W&&$t(m,T),_}for(C=r(m,C);T<p.length;T++)M=v(C,m,T,p[T],j),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?T:M.key),h=o(M,h,T),P===null?_=M:P.sibling=M,P=M);return e&&C.forEach(function(ye){return t(m,ye)}),W&&$t(m,T),_}function x(m,h,p,j){var _=Wn(p);if(typeof _!=\"function\")throw Error(k(150));if(p=_.call(p),p==null)throw Error(k(151));for(var P=_=null,C=h,T=h=0,M=null,z=p.next();C!==null&&!z.done;T++,z=p.next()){C.index>T?(M=C,C=null):M=C.sibling;var ye=y(m,C,z.value,j);if(ye===null){C===null&&(C=M);break}e&&C&&ye.alternate===null&&t(m,C),h=o(ye,h,T),P===null?_=ye:P.sibling=ye,P=ye,C=M}if(z.done)return n(m,C),W&&$t(m,T),_;if(C===null){for(;!z.done;T++,z=p.next())z=d(m,z.value,j),z!==null&&(h=o(z,h,T),P===null?_=z:P.sibling=z,P=z);return W&&$t(m,T),_}for(C=r(m,C);!z.done;T++,z=p.next())z=v(C,m,T,z.value,j),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?T:z.key),h=o(z,h,T),P===null?_=z:P.sibling=z,P=z);return e&&C.forEach(function(qe){return t(m,qe)}),W&&$t(m,T),_}function S(m,h,p,j){if(typeof p==\"object\"&&p!==null&&p.type===cn&&p.key===null&&(p=p.props.children),typeof p==\"object\"&&p!==null){switch(p.$$typeof){case Wr:e:{for(var _=p.key,P=h;P!==null;){if(P.key===_){if(_=p.type,_===cn){if(P.tag===7){n(m,P.sibling),h=l(P,p.props.children),h.return=m,m=h;break e}}else if(P.elementType===_||typeof _==\"object\"&&_!==null&&_.$$typeof===gt&&za(_)===P.type){n(m,P.sibling),h=l(P,p.props),h.ref=Xn(m,P,p),h.return=m,m=h;break e}n(m,P);break}else t(m,P);P=P.sibling}p.type===cn?(h=qt(p.props.children,m.mode,j,p.key),h.return=m,m=h):(j=vl(p.type,p.key,p.props,null,m.mode,j),j.ref=Xn(m,h,p),j.return=m,m=j)}return i(m);case un:e:{for(P=p.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(m,h.sibling),h=l(h,p.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Vo(p,m.mode,j),h.return=m,m=h}return i(m);case gt:return P=p._init,S(m,h,P(p._payload),j)}if(er(p))return g(m,h,p,j);if(Wn(p))return x(m,h,p,j);tl(m,p)}return typeof p==\"string\"&&p!==\"\"||typeof p==\"number\"?(p=\"\"+p,h!==null&&h.tag===6?(n(m,h.sibling),h=l(h,p),h.return=m,m=h):(n(m,h),h=Ho(p,m.mode,j),h.return=m,m=h),i(m)):n(m,h)}return S}var Ln=Vc(!0),Wc=Vc(!1),Dl=Ut(null),Al=null,vn=null,vs=null;function xs(){vs=vn=Al=null}function ws(e){var t=Dl.current;V(Dl),e._currentValue=t}function _i(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kn(e,t){Al=e,vs=vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xe=!0),e.firstContext=null)}function Ae(e){var t=e._currentValue;if(vs!==e)if(e={context:e,memoizedValue:t,next:null},vn===null){if(Al===null)throw Error(k(308));vn=e,Al.dependencies={lanes:0,firstContext:e}}else vn=vn.next=e;return t}var Wt=null;function Ss(e){Wt===null?Wt=[e]:Wt.push(e)}function Qc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ss(t)):(n.next=l.next,l.next=n),t.interleaved=n,dt(e,r)}function dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vt=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function at(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,A&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,dt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ss(r)):(t.next=l.next,l.next=t),r.interleaved=t,dt(e,n)}function fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ss(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ul(e,t,n,r){var l=e.updateQueue;vt=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,s=l.shared.pending;if(s!==null){l.shared.pending=null;var a=s,c=a.next;a.next=null,i===null?o=c:i.next=c,i=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==i&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=a))}if(o!==null){var d=l.baseState;i=0,f=c=a=null,s=o;do{var y=s.lane,v=s.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,x=s;switch(y=t,v=n,x.tag){case 1:if(g=x.payload,typeof g==\"function\"){d=g.call(v,d,y);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,y=typeof g==\"function\"?g.call(v,d,y):g,y==null)break e;d=J({},d,y);break e;case 2:vt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[s]:y.push(s))}else v={eventTime:v,lane:y,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=v,a=d):f=f.next=v,i|=y;if(s=s.next,s===null){if(s=l.shared.pending,s===null)break;y=s,s=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(f===null&&(a=d),l.baseState=a,l.firstBaseUpdate=c,l.lastBaseUpdate=f,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);bt|=i,e.lanes=i,e.memoizedState=d}}function Aa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!=\"function\")throw Error(k(191,l));l.call(r)}}}var Dr={},nt=Ut(Dr),Er=Ut(Dr),_r=Ut(Dr);function Qt(e){if(e===Dr)throw Error(k(174));return e}function Es(e,t){switch(B(_r,t),B(Er,e),B(nt,Dr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:li(null,\"\");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=li(t,e)}V(nt),B(nt,t)}function Fn(){V(nt),V(Er),V(_r)}function Jc(e){Qt(_r.current);var t=Qt(nt.current),n=li(t,e.type);t!==n&&(B(Er,e),B(nt,n))}function _s(e){Er.current===e&&(V(nt),V(Er))}var Q=Ut(0);function Il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===\"$?\"||n.data===\"$!\"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ao=[];function ks(){for(var e=0;e<Ao.length;e++)Ao[e]._workInProgressVersionPrimary=null;Ao.length=0}var pl=pt.ReactCurrentDispatcher,Uo=pt.ReactCurrentBatchConfig,Zt=0,K=null,b=null,te=null,Ml=!1,ar=!1,kr=0,Sh=0;function ie(){throw Error(k(321))}function Cs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qe(e[n],t[n]))return!1;return!0}function Ns(e,t,n,r,l,o){if(Zt=o,K=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pl.current=e===null||e.memoizedState===null?kh:Ch,e=n(r,l),ar){o=0;do{if(ar=!1,kr=0,25<=o)throw Error(k(301));o+=1,te=b=null,t.updateQueue=null,pl.current=Nh,e=n(r,l)}while(ar)}if(pl.current=Bl,t=b!==null&&b.next!==null,Zt=0,te=b=K=null,Ml=!1,t)throw Error(k(300));return e}function Ps(){var e=kr!==0;return kr=0,e}function be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?K.memoizedState=te=e:te=te.next=e,te}function Ue(){if(b===null){var e=K.alternate;e=e!==null?e.memoizedState:null}else e=b.next;var t=te===null?K.memoizedState:te.next;if(t!==null)te=t,b=e;else{if(e===null)throw Error(k(310));b=e,e={memoizedState:b.memoizedState,baseState:b.baseState,baseQueue:b.baseQueue,queue:b.queue,next:null},te===null?K.memoizedState=te=e:te=te.next=e}return te}function Cr(e,t){return typeof t==\"function\"?t(e):t}function Io(e){var t=Ue(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=b,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var s=i=null,a=null,c=o;do{var f=c.lane;if((Zt&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(s=a=d,i=r):a=a.next=d,K.lanes|=f,bt|=f}c=c.next}while(c!==null&&c!==o);a===null?i=r:a.next=s,Qe(r,t.memoizedState)||(xe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,K.lanes|=o,bt|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mo(e){var t=Ue(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);Qe(o,t.memoizedState)||(xe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function qc(){}function Xc(e,t){var n=K,r=Ue(),l=t(),o=!Qe(r.memoizedState,l);if(o&&(r.memoizedState=l,xe=!0),r=r.queue,Rs(Zc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||te!==null&&te.memoizedState.tag&1){if(n.flags|=2048,Nr(9,Gc.bind(null,n,r,l,t),void 0,null),ne===null)throw Error(k(349));Zt&30||Yc(n,t,l)}return l}function Yc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gc(e,t,n,r){t.value=n,t.getSnapshot=r,bc(t)&&ed(e)}function Zc(e,t,n){return n(function(){bc(t)&&ed(e)})}function bc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qe(e,n)}catch{return!0}}function ed(e){var t=dt(e,1);t!==null&&We(t,e,1,-1)}function Ua(e){var t=be();return typeof e==\"function\"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},t.queue=e,e=e.dispatch=_h.bind(null,K,e),[t.memoizedState,e]}function Nr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=K.updateQueue,t===null?(t={lastEffect:null,stores:null},K.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function td(){return Ue().memoizedState}function hl(e,t,n,r){var l=be();K.flags|=e,l.memoizedState=Nr(1|t,n,void 0,r===void 0?null:r)}function no(e,t,n,r){var l=Ue();r=r===void 0?null:r;var o=void 0;if(b!==null){var i=b.memoizedState;if(o=i.destroy,r!==null&&Cs(r,i.deps)){l.memoizedState=Nr(t,n,o,r);return}}K.flags|=e,l.memoizedState=Nr(1|t,n,o,r)}function Ia(e,t){return hl(8390656,8,e,t)}function Rs(e,t){return no(2048,8,e,t)}function nd(e,t){return no(4,2,e,t)}function rd(e,t){return no(4,4,e,t)}function ld(e,t){if(typeof t==\"function\")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function od(e,t,n){return n=n!=null?n.concat([e]):null,no(4,4,ld.bind(null,t,e),n)}function Ts(){}function id(e,t){var n=Ue();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sd(e,t){var n=Ue();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ad(e,t,n){return Zt&21?(Qe(n,t)||(n=pc(),K.lanes|=n,bt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xe=!0),e.memoizedState=n)}function jh(e,t){var n=I;I=n!==0&&4>n?n:4,e(!0);var r=Uo.transition;Uo.transition={};try{e(!1),t()}finally{I=n,Uo.transition=r}}function ud(){return Ue().memoizedState}function Eh(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cd(e))dd(t,n);else if(n=Qc(e,t,n,r),n!==null){var l=pe();We(n,e,r,l),fd(n,t,r)}}function _h(e,t,n){var r=Ot(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cd(e))dd(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,s=o(i,n);if(l.hasEagerState=!0,l.eagerState=s,Qe(s,i)){var a=t.interleaved;a===null?(l.next=l,Ss(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}n=Qc(e,t,l,r),n!==null&&(l=pe(),We(n,e,r,l),fd(n,t,r))}}function cd(e){var t=e.alternate;return e===K||t!==null&&t===K}function dd(e,t){ar=Ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ss(e,n)}}var Bl={readContext:Ae,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useInsertionEffect:ie,useLayoutEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useMutableSource:ie,useSyncExternalStore:ie,useId:ie,unstable_isNewReconciler:!1},kh={readContext:Ae,useCallback:function(e,t){return be().memoizedState=[e,t===void 0?null:t],e},useContext:Ae,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hl(4194308,4,ld.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return hl(4,2,e,t)},useMemo:function(e,t){var n=be();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=be();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Eh.bind(null,K,e),[r.memoizedState,e]},useRef:function(e){var t=be();return e={current:e},t.memoizedState=e},useState:Ua,useDebugValue:Ts,useDeferredValue:function(e){return be().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=jh.bind(null,e[1]),be().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=K,l=be();if(W){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),ne===null)throw Error(k(349));Zt&30||Yc(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ia(Zc.bind(null,r,o,e),[e]),r.flags|=2048,Nr(9,Gc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=be(),t=ne.identifierPrefix;if(W){var n=st,r=it;n=(r&~(1<<32-Ve(r)-1)).toString(32)+n,t=\":\"+t+\"R\"+n,n=kr++,0<n&&(t+=\"H\"+n.toString(32)),t+=\":\"}else n=Sh++,t=\":\"+t+\"r\"+n.toString(32)+\":\";return e.memoizedState=t},unstable_isNewReconciler:!1},Ch={readContext:Ae,useCallback:id,useContext:Ae,useEffect:Rs,useImperativeHandle:od,useInsertionEffect:nd,useLayoutEffect:rd,useMemo:sd,useReducer:Io,useRef:td,useState:function(){return Io(Cr)},useDebugValue:Ts,useDeferredValue:function(e){var t=Ue();return ad(t,b.memoizedState,e)},useTransition:function(){var e=Io(Cr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Xc,useId:ud,unstable_isNewReconciler:!1},Nh={readContext:Ae,useCallback:id,useContext:Ae,useEffect:Rs,useImperativeHandle:od,useInsertionEffect:nd,useLayoutEffect:rd,useMemo:sd,useReducer:Mo,useRef:td,useState:function(){return Mo(Cr)},useDebugValue:Ts,useDeferredValue:function(e){var t=Ue();return b===null?t.memoizedState=e:ad(t,b.memoizedState,e)},useTransition:function(){var e=Mo(Cr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Xc,useId:ud,unstable_isNewReconciler:!1};function Be(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ki(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:J({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pe(),l=Ot(e),o=at(r,l);o.payload=t,n!=null&&(o.callback=n),t=Rt(e,o,l),t!==null&&(We(t,e,l,r),fl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pe(),l=Ot(e),o=at(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Rt(e,o,l),t!==null&&(We(t,e,l,r),fl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pe(),r=Ot(e),l=at(n,r);l.tag=2,t!=null&&(l.callback=t),t=Rt(e,l,r),t!==null&&(We(t,e,r,n),fl(t,e,r))}};function Ma(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate==\"function\"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!xr(n,r)||!xr(l,o):!0}function pd(e,t,n){var r=!1,l=Dt,o=t.contextType;return typeof o==\"object\"&&o!==null?o=Ae(o):(l=Se(t)?Yt:ce.current,r=t.contextTypes,o=(r=r!=null)?Tn(e,l):Dt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ba(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==\"function\"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==\"function\"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function Ci(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},js(e);var o=t.contextType;typeof o==\"object\"&&o!==null?l.context=Ae(o):(o=Se(t)?Yt:ce.current,l.context=Tn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o==\"function\"&&(ki(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps==\"function\"||typeof l.getSnapshotBeforeUpdate==\"function\"||typeof l.UNSAFE_componentWillMount!=\"function\"&&typeof l.componentWillMount!=\"function\"||(t=l.state,typeof l.componentWillMount==\"function\"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount==\"function\"&&l.UNSAFE_componentWillMount(),t!==l.state&&ro.enqueueReplaceState(l,l.state,null),Ul(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount==\"function\"&&(e.flags|=4194308)}function zn(e,t){try{var n=\"\",r=t;do n+=tp(r),r=r.return;while(r);var l=n}catch(o){l=`\nError generating stack: `+o.message+`\n`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Bo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ni(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ph=typeof WeakMap==\"function\"?WeakMap:Map;function hd(e,t,n){n=at(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Ui=r),Ni(e,t)},n}function md(e,t,n){n=at(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r==\"function\"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ni(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch==\"function\"&&(n.callback=function(){Ni(e,t),typeof r!=\"function\"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:\"\"})}),n}function $a(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ph;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Hh.bind(null,e,t,n),t.then(e,e))}function Ha(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Va(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=at(-1,1),t.tag=2,Rt(n,t,1))),n.lanes|=1),e)}var Rh=pt.ReactCurrentOwner,xe=!1;function de(e,t,n,r){t.child=e===null?Wc(t,null,n,r):Ln(t,e.child,n,r)}function Wa(e,t,n,r,l){n=n.render;var o=t.ref;return kn(t,l),r=Ns(e,t,n,r,o,l),n=Ps(),e!==null&&!xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ft(e,t,l)):(W&&n&&ms(t),t.flags|=1,de(e,t,r,l),t.child)}function Qa(e,t,n,r,l){if(e===null){var o=n.type;return typeof o==\"function\"&&!Is(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,yd(e,t,o,r,l)):(e=vl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(i,r)&&e.ref===t.ref)return ft(e,t,l)}return t.flags|=1,e=Lt(o,r),e.ref=t.ref,e.return=t,t.child=e}function yd(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(xr(o,r)&&e.ref===t.ref)if(xe=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(xe=!0);else return t.lanes=e.lanes,ft(e,t,l)}return Pi(e,t,n,r,l)}function gd(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode===\"hidden\")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(wn,ke),ke|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,B(wn,ke),ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,B(wn,ke),ke|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,B(wn,ke),ke|=r;return de(e,t,l,n),t.child}function vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pi(e,t,n,r,l){var o=Se(n)?Yt:ce.current;return o=Tn(t,o),kn(t,l),n=Ns(e,t,n,r,o,l),r=Ps(),e!==null&&!xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ft(e,t,l)):(W&&r&&ms(t),t.flags|=1,de(e,t,n,l),t.child)}function Ka(e,t,n,r,l){if(Se(n)){var o=!0;Ll(t)}else o=!1;if(kn(t,l),t.stateNode===null)ml(e,t),pd(t,n,r),Ci(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var a=i.context,c=n.contextType;typeof c==\"object\"&&c!==null?c=Ae(c):(c=Se(n)?Yt:ce.current,c=Tn(t,c));var f=n.getDerivedStateFromProps,d=typeof f==\"function\"||typeof i.getSnapshotBeforeUpdate==\"function\";d||typeof i.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof i.componentWillReceiveProps!=\"function\"||(s!==r||a!==c)&&Ba(t,i,r,c),vt=!1;var y=t.memoizedState;i.state=y,Ul(t,r,i,l),a=t.memoizedState,s!==r||y!==a||we.current||vt?(typeof f==\"function\"&&(ki(t,n,f,r),a=t.memoizedState),(s=vt||Ma(t,n,s,r,y,a,c))?(d||typeof i.UNSAFE_componentWillMount!=\"function\"&&typeof i.componentWillMount!=\"function\"||(typeof i.componentWillMount==\"function\"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount==\"function\"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount==\"function\"&&(t.flags|=4194308)):(typeof i.componentDidMount==\"function\"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=c,r=s):(typeof i.componentDidMount==\"function\"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Kc(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Be(t.type,s),i.props=c,d=t.pendingProps,y=i.context,a=n.contextType,typeof a==\"object\"&&a!==null?a=Ae(a):(a=Se(n)?Yt:ce.current,a=Tn(t,a));var v=n.getDerivedStateFromProps;(f=typeof v==\"function\"||typeof i.getSnapshotBeforeUpdate==\"function\")||typeof i.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof i.componentWillReceiveProps!=\"function\"||(s!==d||y!==a)&&Ba(t,i,r,a),vt=!1,y=t.memoizedState,i.state=y,Ul(t,r,i,l);var g=t.memoizedState;s!==d||y!==g||we.current||vt?(typeof v==\"function\"&&(ki(t,n,v,r),g=t.memoizedState),(c=vt||Ma(t,n,c,r,y,g,a)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!=\"function\"&&typeof i.componentWillUpdate!=\"function\"||(typeof i.componentWillUpdate==\"function\"&&i.componentWillUpdate(r,g,a),typeof i.UNSAFE_componentWillUpdate==\"function\"&&i.UNSAFE_componentWillUpdate(r,g,a)),typeof i.componentDidUpdate==\"function\"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate==\"function\"&&(t.flags|=1024)):(typeof i.componentDidUpdate!=\"function\"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!=\"function\"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=a,r=c):(typeof i.componentDidUpdate!=\"function\"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!=\"function\"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Ri(e,t,n,r,o,l)}function Ri(e,t,n,r,l,o){vd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Oa(t,n,!1),ft(e,t,o);r=t.stateNode,Rh.current=t;var s=i&&typeof n.getDerivedStateFromError!=\"function\"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ln(t,e.child,null,o),t.child=Ln(t,null,s,o)):de(e,t,s,o),t.memoizedState=r.state,l&&Oa(t,n,!0),t.child}function xd(e){var t=e.stateNode;t.pendingContext?Ta(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ta(e,t.context,!1),Es(e,t.containerInfo)}function Ja(e,t,n,r,l){return On(),gs(l),t.flags|=256,de(e,t,n,r),t.child}var Ti={dehydrated:null,treeContext:null,retryLane:0};function Oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function wd(e,t,n){var r=t.pendingProps,l=Q.current,o=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(l&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),B(Q,l&1),e===null)return Ei(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data===\"$!\"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:\"hidden\",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=io(i,r,0,null),e=qt(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oi(n),t.memoizedState=Ti,e):Os(t,i));if(l=e.memoizedState,l!==null&&(s=l.dehydrated,s!==null))return Th(e,t,i,r,s,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,s=l.sibling;var a={mode:\"hidden\",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Lt(l,a),r.subtreeFlags=l.subtreeFlags&14680064),s!==null?o=Lt(s,o):(o=qt(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Oi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ti,r}return o=e.child,e=o.sibling,r=Lt(o,{mode:\"visible\",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Os(e,t){return t=io({mode:\"visible\",children:t},e.mode,0,null),t.return=e,e.child=t}function nl(e,t,n,r){return r!==null&&gs(r),Ln(t,e.child,null,n),e=Os(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Th(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Bo(Error(k(422))),nl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=io({mode:\"visible\",children:r.children},l,0,null),o=qt(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ln(t,e.child,null,i),t.child.memoizedState=Oi(i),t.memoizedState=Ti,o);if(!(t.mode&1))return nl(e,t,i,null);if(l.data===\"$!\"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(k(419)),r=Bo(o,r,void 0),nl(e,t,i,r)}if(s=(i&e.childLanes)!==0,xe||s){if(r=ne,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,dt(e,l),We(r,e,l,-1))}return Us(),r=Bo(Error(k(421))),nl(e,t,i,r)}return l.data===\"$?\"?(t.flags|=128,t.child=e.child,t=Vh.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Ce=Pt(l.nextSibling),Ne=t,W=!0,He=null,e!==null&&(Le[Fe++]=it,Le[Fe++]=st,Le[Fe++]=Gt,it=e.id,st=e.overflow,Gt=t),t=Os(t,r.children),t.flags|=4096,t)}function qa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_i(e.return,t,n)}function $o(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Sd(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(de(e,t,r.children,n),r=Q.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qa(e,n,t);else if(e.tag===19)qa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(B(Q,r),!(t.mode&1))t.memoizedState=null;else switch(l){case\"forwards\":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Il(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),$o(t,!1,l,n,o);break;case\"backwards\":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Il(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}$o(t,!0,n,null,o);break;case\"together\":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ft(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Lt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Oh(e,t,n){switch(t.tag){case 3:xd(t),On();break;case 5:Jc(t);break;case 1:Se(t.type)&&Ll(t);break;case 4:Es(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;B(Dl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(B(Q,Q.current&1),t.flags|=128,null):n&t.child.childLanes?wd(e,t,n):(B(Q,Q.current&1),e=ft(e,t,n),e!==null?e.sibling:null);B(Q,Q.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),B(Q,Q.current),r)break;return null;case 22:case 23:return t.lanes=0,gd(e,t,n)}return ft(e,t,n)}var jd,Li,Ed,_d;jd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Li=function(){};Ed=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Qt(nt.current);var o=null;switch(n){case\"input\":l=ei(e,l),r=ei(e,r),o=[];break;case\"select\":l=J({},l,{value:void 0}),r=J({},r,{value:void 0}),o=[];break;case\"textarea\":l=ri(e,l),r=ri(e,r),o=[];break;default:typeof l.onClick!=\"function\"&&typeof r.onClick==\"function\"&&(e.onclick=Tl)}oi(n,r);var i;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c===\"style\"){var s=l[c];for(i in s)s.hasOwnProperty(i)&&(n||(n={}),n[i]=\"\")}else c!==\"dangerouslySetInnerHTML\"&&c!==\"children\"&&c!==\"suppressContentEditableWarning\"&&c!==\"suppressHydrationWarning\"&&c!==\"autoFocus\"&&(fr.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(s=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&a!==s&&(a!=null||s!=null))if(c===\"style\")if(s){for(i in s)!s.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]=\"\");for(i in a)a.hasOwnProperty(i)&&s[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(o||(o=[]),o.push(c,n)),n=a;else c===\"dangerouslySetInnerHTML\"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(c,a)):c===\"children\"?typeof a!=\"string\"&&typeof a!=\"number\"||(o=o||[]).push(c,\"\"+a):c!==\"suppressContentEditableWarning\"&&c!==\"suppressHydrationWarning\"&&(fr.hasOwnProperty(c)?(a!=null&&c===\"onScroll\"&&H(\"scroll\",e),o||s===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push(\"style\",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};_d=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yn(e,t){if(!W)switch(e.tailMode){case\"hidden\":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case\"collapsed\":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Lh(e,t,n){var r=t.pendingProps;switch(ys(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(t),null;case 1:return Se(t.type)&&Ol(),se(t),null;case 3:return r=t.stateNode,Fn(),V(we),V(ce),ks(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(el(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,He!==null&&(Bi(He),He=null))),Li(e,t),se(t),null;case 5:_s(t);var l=Qt(_r.current);if(n=t.type,e!==null&&t.stateNode!=null)Ed(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return se(t),null}if(e=Qt(nt.current),el(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[et]=t,r[jr]=o,e=(t.mode&1)!==0,n){case\"dialog\":H(\"cancel\",r),H(\"close\",r);break;case\"iframe\":case\"object\":case\"embed\":H(\"load\",r);break;case\"video\":case\"audio\":for(l=0;l<nr.length;l++)H(nr[l],r);break;case\"source\":H(\"error\",r);break;case\"img\":case\"image\":case\"link\":H(\"error\",r),H(\"load\",r);break;case\"details\":H(\"toggle\",r);break;case\"input\":ra(r,o),H(\"invalid\",r);break;case\"select\":r._wrapperState={wasMultiple:!!o.multiple},H(\"invalid\",r);break;case\"textarea\":oa(r,o),H(\"invalid\",r)}oi(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];i===\"children\"?typeof s==\"string\"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&br(r.textContent,s,e),l=[\"children\",s]):typeof s==\"number\"&&r.textContent!==\"\"+s&&(o.suppressHydrationWarning!==!0&&br(r.textContent,s,e),l=[\"children\",\"\"+s]):fr.hasOwnProperty(i)&&s!=null&&i===\"onScroll\"&&H(\"scroll\",r)}switch(n){case\"input\":Qr(r),la(r,o,!0);break;case\"textarea\":Qr(r),ia(r);break;case\"select\":case\"option\":break;default:typeof o.onClick==\"function\"&&(r.onclick=Tl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e===\"http://www.w3.org/1999/xhtml\"&&(e=Zu(n)),e===\"http://www.w3.org/1999/xhtml\"?n===\"script\"?(e=i.createElement(\"div\"),e.innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):typeof r.is==\"string\"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n===\"select\"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[et]=t,e[jr]=r,jd(e,t,!1,!1),t.stateNode=e;e:{switch(i=ii(n,r),n){case\"dialog\":H(\"cancel\",e),H(\"close\",e),l=r;break;case\"iframe\":case\"object\":case\"embed\":H(\"load\",e),l=r;break;case\"video\":case\"audio\":for(l=0;l<nr.length;l++)H(nr[l],e);l=r;break;case\"source\":H(\"error\",e),l=r;break;case\"img\":case\"image\":case\"link\":H(\"error\",e),H(\"load\",e),l=r;break;case\"details\":H(\"toggle\",e),l=r;break;case\"input\":ra(e,r),l=ei(e,r),H(\"invalid\",e);break;case\"option\":l=r;break;case\"select\":e._wrapperState={wasMultiple:!!r.multiple},l=J({},r,{value:void 0}),H(\"invalid\",e);break;case\"textarea\":oa(e,r),l=ri(e,r),H(\"invalid\",e);break;default:l=r}oi(n,l),s=l;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o===\"style\"?tc(e,a):o===\"dangerouslySetInnerHTML\"?(a=a?a.__html:void 0,a!=null&&bu(e,a)):o===\"children\"?typeof a==\"string\"?(n!==\"textarea\"||a!==\"\")&&pr(e,a):typeof a==\"number\"&&pr(e,\"\"+a):o!==\"suppressContentEditableWarning\"&&o!==\"suppressHydrationWarning\"&&o!==\"autoFocus\"&&(fr.hasOwnProperty(o)?a!=null&&o===\"onScroll\"&&H(\"scroll\",e):a!=null&&ts(e,o,a,i))}switch(n){case\"input\":Qr(e),la(e,r,!1);break;case\"textarea\":Qr(e),ia(e);break;case\"option\":r.value!=null&&e.setAttribute(\"value\",\"\"+zt(r.value));break;case\"select\":e.multiple=!!r.multiple,o=r.value,o!=null?Sn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Sn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick==\"function\"&&(e.onclick=Tl)}switch(n){case\"button\":case\"input\":case\"select\":case\"textarea\":r=!!r.autoFocus;break e;case\"img\":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return se(t),null;case 6:if(e&&t.stateNode!=null)_d(e,t,e.memoizedProps,r);else{if(typeof r!=\"string\"&&t.stateNode===null)throw Error(k(166));if(n=Qt(_r.current),Qt(nt.current),el(t)){if(r=t.stateNode,n=t.memoizedProps,r[et]=t,(o=r.nodeValue!==n)&&(e=Ne,e!==null))switch(e.tag){case 3:br(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&br(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[et]=t,t.stateNode=r}return se(t),null;case 13:if(V(Q),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&Ce!==null&&t.mode&1&&!(t.flags&128))Hc(),On(),t.flags|=98560,o=!1;else if(o=el(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(k(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(k(317));o[et]=t}else On(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;se(t),o=!1}else He!==null&&(Bi(He),He=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?ee===0&&(ee=3):Us())),t.updateQueue!==null&&(t.flags|=4),se(t),null);case 4:return Fn(),Li(e,t),e===null&&wr(t.stateNode.containerInfo),se(t),null;case 10:return ws(t.type._context),se(t),null;case 17:return Se(t.type)&&Ol(),se(t),null;case 19:if(V(Q),o=t.memoizedState,o===null)return se(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Yn(o,!1);else{if(ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Il(e),i!==null){for(t.flags|=128,Yn(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return B(Q,Q.current&1|2),t.child}e=e.sibling}o.tail!==null&&X()>Dn&&(t.flags|=128,r=!0,Yn(o,!1),t.lanes=4194304)}else{if(!r)if(e=Il(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yn(o,!0),o.tail===null&&o.tailMode===\"hidden\"&&!i.alternate&&!W)return se(t),null}else 2*X()-o.renderingStartTime>Dn&&n!==1073741824&&(t.flags|=128,r=!0,Yn(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=X(),t.sibling=null,n=Q.current,B(Q,r?n&1|2:n&1),t):(se(t),null);case 22:case 23:return As(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ke&1073741824&&(se(t),t.subtreeFlags&6&&(t.flags|=8192)):se(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Fh(e,t){switch(ys(t),t.tag){case 1:return Se(t.type)&&Ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),V(we),V(ce),ks(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _s(t),null;case 13:if(V(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));On()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Q),null;case 4:return Fn(),null;case 10:return ws(t.type._context),null;case 22:case 23:return As(),null;case 24:return null;default:return null}}var rl=!1,ae=!1,zh=typeof WeakSet==\"function\"?WeakSet:Set,R=null;function xn(e,t){var n=e.ref;if(n!==null)if(typeof n==\"function\")try{n(null)}catch(r){q(e,t,r)}else n.current=null}function Fi(e,t,n){try{n()}catch(r){q(e,t,r)}}var Xa=!1;function Dh(e,t){if(yi=Nl,e=Rc(),hs(e)){if(\"selectionStart\"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,s=-1,a=-1,c=0,f=0,d=e,y=null;t:for(;;){for(var v;d!==n||l!==0&&d.nodeType!==3||(s=i+l),d!==o||r!==0&&d.nodeType!==3||(a=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)y=d,d=v;for(;;){if(d===e)break t;if(y===n&&++c===l&&(s=i),y===o&&++f===r&&(a=i),(v=d.nextSibling)!==null)break;d=y,y=d.parentNode}d=v}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(gi={focusedElem:e,selectionRange:n},Nl=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,S=g.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:Be(t.type,x),S);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent=\"\":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(j){q(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return g=Xa,Xa=!1,g}function ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Fi(t,n,o)}l=l.next}while(l!==r)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t==\"function\"?t(e):t.current=e}}function kd(e){var t=e.alternate;t!==null&&(e.alternate=null,kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[et],delete t[jr],delete t[wi],delete t[gh],delete t[vh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cd(e){return e.tag===5||e.tag===3||e.tag===4}function Ya(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Di(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tl));else if(r!==4&&(e=e.child,e!==null))for(Di(e,t,n),e=e.sibling;e!==null;)Di(e,t,n),e=e.sibling}function Ai(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ai(e,t,n),e=e.sibling;e!==null;)Ai(e,t,n),e=e.sibling}var re=null,$e=!1;function yt(e,t,n){for(n=n.child;n!==null;)Nd(e,t,n),n=n.sibling}function Nd(e,t,n){if(tt&&typeof tt.onCommitFiberUnmount==\"function\")try{tt.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 5:ae||xn(n,t);case 6:var r=re,l=$e;re=null,yt(e,t,n),re=r,$e=l,re!==null&&($e?(e=re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):re.removeChild(n.stateNode));break;case 18:re!==null&&($e?(e=re,n=n.stateNode,e.nodeType===8?zo(e.parentNode,n):e.nodeType===1&&zo(e,n),gr(e)):zo(re,n.stateNode));break;case 4:r=re,l=$e,re=n.stateNode.containerInfo,$e=!0,yt(e,t,n),re=r,$e=l;break;case 0:case 11:case 14:case 15:if(!ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Fi(n,t,i),l=l.next}while(l!==r)}yt(e,t,n);break;case 1:if(!ae&&(xn(n,t),r=n.stateNode,typeof r.componentWillUnmount==\"function\"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){q(n,t,s)}yt(e,t,n);break;case 21:yt(e,t,n);break;case 22:n.mode&1?(ae=(r=ae)||n.memoizedState!==null,yt(e,t,n),ae=r):yt(e,t,n);break;default:yt(e,t,n)}}function Ga(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zh),t.forEach(function(r){var l=Wh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Me(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:re=s.stateNode,$e=!1;break e;case 3:re=s.stateNode.containerInfo,$e=!0;break e;case 4:re=s.stateNode.containerInfo,$e=!0;break e}s=s.return}if(re===null)throw Error(k(160));Nd(o,i,l),re=null,$e=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(c){q(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pd(t,e),t=t.sibling}function Pd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Me(t,e),Ye(e),r&4){try{ur(3,e,e.return),lo(3,e)}catch(x){q(e,e.return,x)}try{ur(5,e,e.return)}catch(x){q(e,e.return,x)}}break;case 1:Me(t,e),Ye(e),r&512&&n!==null&&xn(n,n.return);break;case 5:if(Me(t,e),Ye(e),r&512&&n!==null&&xn(n,n.return),e.flags&32){var l=e.stateNode;try{pr(l,\"\")}catch(x){q(e,e.return,x)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s===\"input\"&&o.type===\"radio\"&&o.name!=null&&Yu(l,o),ii(s,i);var c=ii(s,o);for(i=0;i<a.length;i+=2){var f=a[i],d=a[i+1];f===\"style\"?tc(l,d):f===\"dangerouslySetInnerHTML\"?bu(l,d):f===\"children\"?pr(l,d):ts(l,f,d,c)}switch(s){case\"input\":ti(l,o);break;case\"textarea\":Gu(l,o);break;case\"select\":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Sn(l,!!o.multiple,v,!1):y!==!!o.multiple&&(o.defaultValue!=null?Sn(l,!!o.multiple,o.defaultValue,!0):Sn(l,!!o.multiple,o.multiple?[]:\"\",!1))}l[jr]=o}catch(x){q(e,e.return,x)}}break;case 6:if(Me(t,e),Ye(e),r&4){if(e.stateNode===null)throw Error(k(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(x){q(e,e.return,x)}}break;case 3:if(Me(t,e),Ye(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gr(t.containerInfo)}catch(x){q(e,e.return,x)}break;case 4:Me(t,e),Ye(e);break;case 13:Me(t,e),Ye(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(zs=X())),r&4&&Ga(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ae=(c=ae)||f,Me(t,e),ae=c):Me(t,e),Ye(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(d=R=f;R!==null;){switch(y=R,v=y.child,y.tag){case 0:case 11:case 14:case 15:ur(4,y,y.return);break;case 1:xn(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount==\"function\"){r=y,n=y.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){q(r,n,x)}}break;case 5:xn(y,y.return);break;case 22:if(y.memoizedState!==null){ba(d);continue}}v!==null?(v.return=y,R=v):ba(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{l=d.stateNode,c?(o=l.style,typeof o.setProperty==\"function\"?o.setProperty(\"display\",\"none\",\"important\"):o.display=\"none\"):(s=d.stateNode,a=d.memoizedProps.style,i=a!=null&&a.hasOwnProperty(\"display\")?a.display:null,s.style.display=ec(\"display\",i))}catch(x){q(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?\"\":d.memoizedProps}catch(x){q(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Me(t,e),Ye(e),r&4&&Ga(e);break;case 21:break;default:Me(t,e),Ye(e)}}function Ye(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cd(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(pr(l,\"\"),r.flags&=-33);var o=Ya(e);Ai(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,s=Ya(e);Di(e,s,i);break;default:throw Error(k(161))}}catch(a){q(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ah(e,t,n){R=e,Rd(e)}function Rd(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var l=R,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||rl;if(!i){var s=l.alternate,a=s!==null&&s.memoizedState!==null||ae;s=rl;var c=ae;if(rl=i,(ae=a)&&!c)for(R=l;R!==null;)i=R,a=i.child,i.tag===22&&i.memoizedState!==null?eu(l):a!==null?(a.return=i,R=a):eu(l);for(;o!==null;)R=o,Rd(o),o=o.sibling;R=l,rl=s,ae=c}Za(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,R=o):Za(e)}}function Za(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ae||lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ae)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Be(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Aa(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Aa(t,i,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case\"button\":case\"input\":case\"select\":case\"textarea\":a.autoFocus&&n.focus();break;case\"img\":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&gr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ae||t.flags&512&&zi(t)}catch(y){q(t,t.return,y)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function ba(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function eu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lo(4,t)}catch(a){q(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount==\"function\"){var l=t.return;try{r.componentDidMount()}catch(a){q(t,l,a)}}var o=t.return;try{zi(t)}catch(a){q(t,o,a)}break;case 5:var i=t.return;try{zi(t)}catch(a){q(t,i,a)}}}catch(a){q(t,t.return,a)}if(t===e){R=null;break}var s=t.sibling;if(s!==null){s.return=t.return,R=s;break}R=t.return}}var Uh=Math.ceil,$l=pt.ReactCurrentDispatcher,Ls=pt.ReactCurrentOwner,De=pt.ReactCurrentBatchConfig,A=0,ne=null,Z=null,le=0,ke=0,wn=Ut(0),ee=0,Pr=null,bt=0,oo=0,Fs=0,cr=null,ve=null,zs=0,Dn=1/0,lt=null,Hl=!1,Ui=null,Tt=null,ll=!1,Et=null,Vl=0,dr=0,Ii=null,yl=-1,gl=0;function pe(){return A&6?X():yl!==-1?yl:yl=X()}function Ot(e){return e.mode&1?A&2&&le!==0?le&-le:wh.transition!==null?(gl===0&&(gl=pc()),gl):(e=I,e!==0||(e=window.event,e=e===void 0?16:wc(e.type)),e):1}function We(e,t,n,r){if(50<dr)throw dr=0,Ii=null,Error(k(185));Lr(e,n,r),(!(A&2)||e!==ne)&&(e===ne&&(!(A&2)&&(oo|=n),ee===4&&St(e,le)),je(e,r),n===1&&A===0&&!(t.mode&1)&&(Dn=X()+500,to&&It()))}function je(e,t){var n=e.callbackNode;wp(e,t);var r=Cl(e,e===ne?le:0);if(r===0)n!==null&&ua(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ua(n),t===1)e.tag===0?xh(tu.bind(null,e)):Mc(tu.bind(null,e)),mh(function(){!(A&6)&&It()}),n=null;else{switch(hc(r)){case 1:n=is;break;case 4:n=dc;break;case 16:n=kl;break;case 536870912:n=fc;break;default:n=kl}n=Ud(n,Td.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Td(e,t){if(yl=-1,gl=0,A&6)throw Error(k(327));var n=e.callbackNode;if(Cn()&&e.callbackNode!==n)return null;var r=Cl(e,e===ne?le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wl(e,r);else{t=r;var l=A;A|=2;var o=Ld();(ne!==e||le!==t)&&(lt=null,Dn=X()+500,Jt(e,t));do try{Bh();break}catch(s){Od(e,s)}while(!0);xs(),$l.current=o,A=l,Z!==null?t=0:(ne=null,le=0,t=ee)}if(t!==0){if(t===2&&(l=di(e),l!==0&&(r=l,t=Mi(e,l))),t===1)throw n=Pr,Jt(e,0),St(e,r),je(e,X()),n;if(t===6)St(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ih(l)&&(t=Wl(e,r),t===2&&(o=di(e),o!==0&&(r=o,t=Mi(e,o))),t===1))throw n=Pr,Jt(e,0),St(e,r),je(e,X()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Ht(e,ve,lt);break;case 3:if(St(e,r),(r&130023424)===r&&(t=zs+500-X(),10<t)){if(Cl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){pe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=xi(Ht.bind(null,e,ve,lt),t);break}Ht(e,ve,lt);break;case 4:if(St(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Ve(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uh(r/1960))-r,10<r){e.timeoutHandle=xi(Ht.bind(null,e,ve,lt),r);break}Ht(e,ve,lt);break;case 5:Ht(e,ve,lt);break;default:throw Error(k(329))}}}return je(e,X()),e.callbackNode===n?Td.bind(null,e):null}function Mi(e,t){var n=cr;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=ve,ve=n,t!==null&&Bi(t)),e}function Bi(e){ve===null?ve=e:ve.push.apply(ve,e)}function Ih(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Qe(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~Fs,t&=~oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ve(t),r=1<<n;e[n]=-1,t&=~r}}function tu(e){if(A&6)throw Error(k(327));Cn();var t=Cl(e,0);if(!(t&1))return je(e,X()),null;var n=Wl(e,t);if(e.tag!==0&&n===2){var r=di(e);r!==0&&(t=r,n=Mi(e,r))}if(n===1)throw n=Pr,Jt(e,0),St(e,t),je(e,X()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ht(e,ve,lt),je(e,X()),null}function Ds(e,t){var n=A;A|=1;try{return e(t)}finally{A=n,A===0&&(Dn=X()+500,to&&It())}}function en(e){Et!==null&&Et.tag===0&&!(A&6)&&Cn();var t=A;A|=1;var n=De.transition,r=I;try{if(De.transition=null,I=1,e)return e()}finally{I=r,De.transition=n,A=t,!(A&6)&&It()}}function As(){ke=wn.current,V(wn)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hh(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(ys(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ol();break;case 3:Fn(),V(we),V(ce),ks();break;case 5:_s(r);break;case 4:Fn();break;case 13:V(Q);break;case 19:V(Q);break;case 10:ws(r.type._context);break;case 22:case 23:As()}n=n.return}if(ne=e,Z=e=Lt(e.current,null),le=ke=t,ee=0,Pr=null,Fs=oo=bt=0,ve=cr=null,Wt!==null){for(t=0;t<Wt.length;t++)if(n=Wt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}Wt=null}return e}function Od(e,t){do{var n=Z;try{if(xs(),pl.current=Bl,Ml){for(var r=K.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ml=!1}if(Zt=0,te=b=K=null,ar=!1,kr=0,Ls.current=null,n===null||n.return===null){ee=1,Pr=t,Z=null;break}e:{var o=e,i=n.return,s=n,a=t;if(t=le,s.flags|=32768,a!==null&&typeof a==\"object\"&&typeof a.then==\"function\"){var c=a,f=s,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ha(i);if(v!==null){v.flags&=-257,Va(v,i,s,o,t),v.mode&1&&$a(o,c,t),t=v,a=c;var g=t.updateQueue;if(g===null){var x=new Set;x.add(a),t.updateQueue=x}else g.add(a);break e}else{if(!(t&1)){$a(o,c,t),Us();break e}a=Error(k(426))}}else if(W&&s.mode&1){var S=Ha(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Va(S,i,s,o,t),gs(zn(a,s));break e}}o=a=zn(a,s),ee!==4&&(ee=2),cr===null?cr=[o]:cr.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=hd(o,a,t);Da(o,m);break e;case 1:s=a;var h=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError==\"function\"||p!==null&&typeof p.componentDidCatch==\"function\"&&(Tt===null||!Tt.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=md(o,s,t);Da(o,j);break e}}o=o.return}while(o!==null)}zd(n)}catch(_){t=_,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function Ld(){var e=$l.current;return $l.current=Bl,e===null?Bl:e}function Us(){(ee===0||ee===3||ee===2)&&(ee=4),ne===null||!(bt&268435455)&&!(oo&268435455)||St(ne,le)}function Wl(e,t){var n=A;A|=2;var r=Ld();(ne!==e||le!==t)&&(lt=null,Jt(e,t));do try{Mh();break}catch(l){Od(e,l)}while(!0);if(xs(),A=n,$l.current=r,Z!==null)throw Error(k(261));return ne=null,le=0,ee}function Mh(){for(;Z!==null;)Fd(Z)}function Bh(){for(;Z!==null&&!dp();)Fd(Z)}function Fd(e){var t=Ad(e.alternate,e,ke);e.memoizedProps=e.pendingProps,t===null?zd(e):Z=t,Ls.current=null}function zd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fh(n,t),n!==null){n.flags&=32767,Z=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ee=6,Z=null;return}}else if(n=Lh(n,t,ke),n!==null){Z=n;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);ee===0&&(ee=5)}function Ht(e,t,n){var r=I,l=De.transition;try{De.transition=null,I=1,$h(e,t,n,r)}finally{De.transition=l,I=r}return null}function $h(e,t,n,r){do Cn();while(Et!==null);if(A&6)throw Error(k(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Sp(e,o),e===ne&&(Z=ne=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ll||(ll=!0,Ud(kl,function(){return Cn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=De.transition,De.transition=null;var i=I;I=1;var s=A;A|=4,Ls.current=null,Dh(e,n),Pd(n,e),sh(gi),Nl=!!yi,gi=yi=null,e.current=n,Ah(n),fp(),A=s,I=i,De.transition=o}else e.current=n;if(ll&&(ll=!1,Et=e,Vl=l),o=e.pendingLanes,o===0&&(Tt=null),mp(n.stateNode),je(e,X()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Hl)throw Hl=!1,e=Ui,Ui=null,e;return Vl&1&&e.tag!==0&&Cn(),o=e.pendingLanes,o&1?e===Ii?dr++:(dr=0,Ii=e):dr=0,It(),null}function Cn(){if(Et!==null){var e=hc(Vl),t=De.transition,n=I;try{if(De.transition=null,I=16>e?16:e,Et===null)var r=!1;else{if(e=Et,Et=null,Vl=0,A&6)throw Error(k(331));var l=A;for(A|=4,R=e.current;R!==null;){var o=R,i=o.child;if(R.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var c=s[a];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:ur(8,f,o)}var d=f.child;if(d!==null)d.return=f,R=d;else for(;R!==null;){f=R;var y=f.sibling,v=f.return;if(kd(f),f===c){R=null;break}if(y!==null){y.return=v,R=y;break}R=v}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}R=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,R=i;else e:for(;R!==null;){if(o=R,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ur(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,R=m;break e}R=o.return}}var h=e.current;for(R=h;R!==null;){i=R;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,R=p;else e:for(i=h;R!==null;){if(s=R,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:lo(9,s)}}catch(_){q(s,s.return,_)}if(s===i){R=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,R=j;break e}R=s.return}}if(A=l,It(),tt&&typeof tt.onPostCommitFiberRoot==\"function\")try{tt.onPostCommitFiberRoot(Yl,e)}catch{}r=!0}return r}finally{I=n,De.transition=t}}return!1}function nu(e,t,n){t=zn(n,t),t=hd(e,t,1),e=Rt(e,t,1),t=pe(),e!==null&&(Lr(e,1,t),je(e,t))}function q(e,t,n){if(e.tag===3)nu(e,e,n);else for(;t!==null;){if(t.tag===3){nu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==\"function\"||typeof r.componentDidCatch==\"function\"&&(Tt===null||!Tt.has(r))){e=zn(n,e),e=md(t,e,1),t=Rt(t,e,1),e=pe(),t!==null&&(Lr(t,1,e),je(t,e));break}}t=t.return}}function Hh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pe(),e.pingedLanes|=e.suspendedLanes&n,ne===e&&(le&n)===n&&(ee===4||ee===3&&(le&130023424)===le&&500>X()-zs?Jt(e,0):Fs|=n),je(e,t)}function Dd(e,t){t===0&&(e.mode&1?(t=qr,qr<<=1,!(qr&130023424)&&(qr=4194304)):t=1);var n=pe();e=dt(e,t),e!==null&&(Lr(e,t,n),je(e,n))}function Vh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dd(e,n)}function Wh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),Dd(e,n)}var Ad;Ad=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||we.current)xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xe=!1,Oh(e,t,n);xe=!!(e.flags&131072)}else xe=!1,W&&t.flags&1048576&&Bc(t,zl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ml(e,t),e=t.pendingProps;var l=Tn(t,ce.current);kn(t,n),l=Ns(null,t,r,e,l,n);var o=Ps();return t.flags|=1,typeof l==\"object\"&&l!==null&&typeof l.render==\"function\"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(r)?(o=!0,Ll(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,js(t),l.updater=ro,t.stateNode=l,l._reactInternals=t,Ci(t,r,e,n),t=Ri(null,t,r,!0,o,n)):(t.tag=0,W&&o&&ms(t),de(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Kh(r),e=Be(r,e),l){case 0:t=Pi(null,t,r,e,n);break e;case 1:t=Ka(null,t,r,e,n);break e;case 11:t=Wa(null,t,r,e,n);break e;case 14:t=Qa(null,t,r,Be(r.type,e),n);break e}throw Error(k(306,r,\"\"))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Be(r,l),Pi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Be(r,l),Ka(e,t,r,l,n);case 3:e:{if(xd(t),e===null)throw Error(k(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Kc(e,t),Ul(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=zn(Error(k(423)),t),t=Ja(e,t,r,n,l);break e}else if(r!==l){l=zn(Error(k(424)),t),t=Ja(e,t,r,n,l);break e}else for(Ce=Pt(t.stateNode.containerInfo.firstChild),Ne=t,W=!0,He=null,n=Wc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(On(),r===l){t=ft(e,t,n);break e}de(e,t,r,n)}t=t.child}return t;case 5:return Jc(t),e===null&&Ei(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,vi(r,l)?i=null:o!==null&&vi(r,o)&&(t.flags|=32),vd(e,t),de(e,t,i,n),t.child;case 6:return e===null&&Ei(t),null;case 13:return wd(e,t,n);case 4:return Es(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,n):de(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Be(r,l),Wa(e,t,r,l,n);case 7:return de(e,t,t.pendingProps,n),t.child;case 8:return de(e,t,t.pendingProps.children,n),t.child;case 12:return de(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,B(Dl,r._currentValue),r._currentValue=i,o!==null)if(Qe(o.value,i)){if(o.children===l.children&&!we.current){t=ft(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){i=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=at(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_i(o.return,n,t),s.lanes|=n;break}a=a.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(k(341));i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),_i(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}de(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,kn(t,n),l=Ae(l),r=r(l),t.flags|=1,de(e,t,r,n),t.child;case 14:return r=t.type,l=Be(r,t.pendingProps),l=Be(r.type,l),Qa(e,t,r,l,n);case 15:return yd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Be(r,l),ml(e,t),t.tag=1,Se(r)?(e=!0,Ll(t)):e=!1,kn(t,n),pd(t,r,l),Ci(t,r,l,n),Ri(null,t,r,!0,e,n);case 19:return Sd(e,t,n);case 22:return gd(e,t,n)}throw Error(k(156,t.tag))};function Ud(e,t){return cc(e,t)}function Qh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,n,r){return new Qh(e,t,n,r)}function Is(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kh(e){if(typeof e==\"function\")return Is(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rs)return 11;if(e===ls)return 14}return 2}function Lt(e,t){var n=e.alternate;return n===null?(n=ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vl(e,t,n,r,l,o){var i=2;if(r=e,typeof e==\"function\")Is(e)&&(i=1);else if(typeof e==\"string\")i=5;else e:switch(e){case cn:return qt(n.children,l,o,t);case ns:i=8,l|=8;break;case Yo:return e=ze(12,n,t,l|2),e.elementType=Yo,e.lanes=o,e;case Go:return e=ze(13,n,t,l),e.elementType=Go,e.lanes=o,e;case Zo:return e=ze(19,n,t,l),e.elementType=Zo,e.lanes=o,e;case Ju:return io(n,l,o,t);default:if(typeof e==\"object\"&&e!==null)switch(e.$$typeof){case Qu:i=10;break e;case Ku:i=9;break e;case rs:i=11;break e;case ls:i=14;break e;case gt:i=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,\"\"))}return t=ze(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function qt(e,t,n,r){return e=ze(7,e,r,t),e.lanes=n,e}function io(e,t,n,r){return e=ze(22,e,r,t),e.elementType=Ju,e.lanes=n,e.stateNode={isHidden:!1},e}function Ho(e,t,n){return e=ze(6,e,null,t),e.lanes=n,e}function Vo(e,t,n){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ms(e,t,n,r,l,o,i,s,a){return e=new Jh(e,t,n,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ze(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(o),e}function qh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:r==null?null:\"\"+r,children:e,containerInfo:t,implementation:n}}function Id(e){if(!e)return Dt;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Se(n))return Ic(e,n,t)}return t}function Md(e,t,n,r,l,o,i,s,a){return e=Ms(n,r,!0,e,l,o,i,s,a),e.context=Id(null),n=e.current,r=pe(),l=Ot(n),o=at(r,l),o.callback=t??null,Rt(n,o,l),e.current.lanes=l,Lr(e,l,r),je(e,r),e}function so(e,t,n,r){var l=t.current,o=pe(),i=Ot(l);return n=Id(n),t.context===null?t.context=n:t.pendingContext=n,t=at(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rt(l,t,i),e!==null&&(We(e,l,i,o),fl(e,l,i)),i}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bs(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}function Xh(){return null}var Bd=typeof reportError==\"function\"?reportError:function(e){console.error(e)};function $s(e){this._internalRoot=e}ao.prototype.render=$s.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));so(e,t,null,null)};ao.prototype.unmount=$s.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;en(function(){so(null,e,null,null)}),t[ct]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=gc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wt.length&&t!==0&&t<wt[n].priority;n++);wt.splice(n,0,e),n===0&&xc(e)}};function Hs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==\" react-mount-point-unstable \"))}function lu(){}function Yh(e,t,n,r,l){if(l){if(typeof r==\"function\"){var o=r;r=function(){var c=Ql(i);o.call(c)}}var i=Md(t,r,e,0,null,!1,!1,\"\",lu);return e._reactRootContainer=i,e[ct]=i.current,wr(e.nodeType===8?e.parentNode:e),en(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r==\"function\"){var s=r;r=function(){var c=Ql(a);s.call(c)}}var a=Ms(e,0,!1,null,null,!1,!1,\"\",lu);return e._reactRootContainer=a,e[ct]=a.current,wr(e.nodeType===8?e.parentNode:e),en(function(){so(t,a,n,r)}),a}function co(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l==\"function\"){var s=l;l=function(){var a=Ql(i);s.call(a)}}so(t,i,e,l)}else i=Yh(n,t,e,l,r);return Ql(i)}mc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&(ss(t,n|1),je(t,X()),!(A&6)&&(Dn=X()+500,It()))}break;case 13:en(function(){var r=dt(e,1);if(r!==null){var l=pe();We(r,e,1,l)}}),Bs(e,1)}};as=function(e){if(e.tag===13){var t=dt(e,134217728);if(t!==null){var n=pe();We(t,e,134217728,n)}Bs(e,134217728)}};yc=function(e){if(e.tag===13){var t=Ot(e),n=dt(e,t);if(n!==null){var r=pe();We(n,e,t,r)}Bs(e,t)}};gc=function(){return I};vc=function(e,t){var n=I;try{return I=e,t()}finally{I=n}};ai=function(e,t,n){switch(t){case\"input\":if(ti(e,n),t=n.name,n.type===\"radio\"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+t)+'][type=\"radio\"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=eo(r);if(!l)throw Error(k(90));Xu(r),ti(r,l)}}}break;case\"textarea\":Gu(e,n);break;case\"select\":t=n.value,t!=null&&Sn(e,!!n.multiple,t,!1)}};lc=Ds;oc=en;var Gh={usingClientEntryPoint:!1,Events:[zr,hn,eo,nc,rc,Ds]},Gn={findFiberByHostInstance:Vt,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"},Zh={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ac(e),e===null?null:e.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||Xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Yl=ol.inject(Zh),tt=ol}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hs(t))throw Error(k(200));return qh(e,t,null,n)};Re.createRoot=function(e,t){if(!Hs(e))throw Error(k(299));var n=!1,r=\"\",l=Bd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ms(e,1,!1,null,null,n,!1,r,l),e[ct]=t.current,wr(e.nodeType===8?e.parentNode:e),new $s(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render==\"function\"?Error(k(188)):(e=Object.keys(e).join(\",\"),Error(k(268,e)));return e=ac(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return en(e)};Re.hydrate=function(e,t,n){if(!uo(t))throw Error(k(200));return co(null,e,t,!0,n)};Re.hydrateRoot=function(e,t,n){if(!Hs(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,l=!1,o=\"\",i=Bd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Md(t,null,e,1,n??null,l,!1,o,i),e[ct]=t.current,wr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ao(t)};Re.render=function(e,t,n){if(!uo(t))throw Error(k(200));return co(null,e,t,!1,n)};Re.unmountComponentAtNode=function(e){if(!uo(e))throw Error(k(40));return e._reactRootContainer?(en(function(){co(null,null,e,!1,function(){e._reactRootContainer=null,e[ct]=null})}),!0):!1};Re.unstable_batchedUpdates=Ds;Re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uo(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return co(e,t,n,!1,r)};Re.version=\"18.3.1-next-f1338f8080-20240426\";function $d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($d)}catch(e){console.error(e)}}$d(),$u.exports=Re;var bh=$u.exports,ou=bh;qo.createRoot=ou.createRoot,qo.hydrateRoot=ou.hydrateRoot;/**\n * @remix-run/router v1.23.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)}var _t;(function(e){e.Pop=\"POP\",e.Push=\"PUSH\",e.Replace=\"REPLACE\"})(_t||(_t={}));const iu=\"popstate\";function em(e){e===void 0&&(e={});function t(r,l){let{pathname:o,search:i,hash:s}=r.location;return $i(\"\",{pathname:o,search:i,hash:s},l.state&&l.state.usr||null,l.state&&l.state.key||\"default\")}function n(r,l){return typeof l==\"string\"?l:Kl(l)}return nm(t,n,null,e)}function Y(e,t){if(e===!1||e===null||typeof e>\"u\")throw new Error(t)}function Hd(e,t){if(!e){typeof console<\"u\"&&console.warn(t);try{throw new Error(t)}catch{}}}function tm(){return Math.random().toString(36).substr(2,8)}function su(e,t){return{usr:e.state,key:e.key,idx:t}}function $i(e,t,n,r){return n===void 0&&(n=null),Rr({pathname:typeof e==\"string\"?e:e.pathname,search:\"\",hash:\"\"},typeof t==\"string\"?Bn(t):t,{state:n,key:t&&t.key||r||tm()})}function Kl(e){let{pathname:t=\"/\",search:n=\"\",hash:r=\"\"}=e;return n&&n!==\"?\"&&(t+=n.charAt(0)===\"?\"?n:\"?\"+n),r&&r!==\"#\"&&(t+=r.charAt(0)===\"#\"?r:\"#\"+r),t}function Bn(e){let t={};if(e){let n=e.indexOf(\"#\");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf(\"?\");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nm(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:o=!1}=r,i=l.history,s=_t.Pop,a=null,c=f();c==null&&(c=0,i.replaceState(Rr({},i.state,{idx:c}),\"\"));function f(){return(i.state||{idx:null}).idx}function d(){s=_t.Pop;let S=f(),m=S==null?null:S-c;c=S,a&&a({action:s,location:x.location,delta:m})}function y(S,m){s=_t.Push;let h=$i(x.location,S,m);c=f()+1;let p=su(h,c),j=x.createHref(h);try{i.pushState(p,\"\",j)}catch(_){if(_ instanceof DOMException&&_.name===\"DataCloneError\")throw _;l.location.assign(j)}o&&a&&a({action:s,location:x.location,delta:1})}function v(S,m){s=_t.Replace;let h=$i(x.location,S,m);c=f();let p=su(h,c),j=x.createHref(h);i.replaceState(p,\"\",j),o&&a&&a({action:s,location:x.location,delta:0})}function g(S){let m=l.location.origin!==\"null\"?l.location.origin:l.location.href,h=typeof S==\"string\"?S:Kl(S);return h=h.replace(/ $/,\"%20\"),Y(m,\"No window.location.(origin|href) available to create URL for href: \"+h),new URL(h,m)}let x={get action(){return s},get location(){return e(l,i)},listen(S){if(a)throw new Error(\"A history only accepts one active listener\");return l.addEventListener(iu,d),a=S,()=>{l.removeEventListener(iu,d),a=null}},createHref(S){return t(l,S)},createURL:g,encodeLocation(S){let m=g(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:y,replace:v,go(S){return i.go(S)}};return x}var au;(function(e){e.data=\"data\",e.deferred=\"deferred\",e.redirect=\"redirect\",e.error=\"error\"})(au||(au={}));function rm(e,t,n){return n===void 0&&(n=\"/\"),lm(e,t,n)}function lm(e,t,n,r){let l=typeof t==\"string\"?Bn(t):t,o=Vs(l.pathname||\"/\",n);if(o==null)return null;let i=Vd(e);om(i);let s=null;for(let a=0;s==null&&a<i.length;++a){let c=gm(o);s=hm(i[a],c)}return s}function Vd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=\"\");let l=(o,i,s)=>{let a={relativePath:s===void 0?o.path||\"\":s,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};a.relativePath.startsWith(\"/\")&&(Y(a.relativePath.startsWith(r),'Absolute route path \"'+a.relativePath+'\" nested under path '+('\"'+r+'\" is not valid. An absolute child route path ')+\"must start with the combined path of all its parent routes.\"),a.relativePath=a.relativePath.slice(r.length));let c=Ft([r,a.relativePath]),f=n.concat(a);o.children&&o.children.length>0&&(Y(o.index!==!0,\"Index routes must not have child routes. Please remove \"+('all child routes from route path \"'+c+'\".')),Vd(o.children,t,f,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:fm(c,o.index),routesMeta:f})};return e.forEach((o,i)=>{var s;if(o.path===\"\"||!((s=o.path)!=null&&s.includes(\"?\")))l(o,i);else for(let a of Wd(o.path))l(o,i,a)}),t}function Wd(e){let t=e.split(\"/\");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith(\"?\"),o=n.replace(/\\?$/,\"\");if(r.length===0)return l?[o,\"\"]:[o];let i=Wd(r.join(\"/\")),s=[];return s.push(...i.map(a=>a===\"\"?o:[o,a].join(\"/\"))),l&&s.push(...i),s.map(a=>e.startsWith(\"/\")&&a===\"\"?\"/\":a)}function om(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pm(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const im=/^:[\\w-]+$/,sm=3,am=2,um=1,cm=10,dm=-2,uu=e=>e===\"*\";function fm(e,t){let n=e.split(\"/\"),r=n.length;return n.some(uu)&&(r+=dm),t&&(r+=am),n.filter(l=>!uu(l)).reduce((l,o)=>l+(im.test(o)?sm:o===\"\"?um:cm),r)}function pm(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function hm(e,t,n){let{routesMeta:r}=e,l={},o=\"/\",i=[];for(let s=0;s<r.length;++s){let a=r[s],c=s===r.length-1,f=o===\"/\"?t:t.slice(o.length)||\"/\",d=mm({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},f),y=a.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:Ft([o,d.pathname]),pathnameBase:Sm(Ft([o,d.pathnameBase])),route:y}),d.pathnameBase!==\"/\"&&(o=Ft([o,d.pathnameBase]))}return i}function mm(e,t){typeof e==\"string\"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ym(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let o=l[0],i=o.replace(/(.)\\/+$/,\"$1\"),s=l.slice(1);return{params:r.reduce((c,f,d)=>{let{paramName:y,isOptional:v}=f;if(y===\"*\"){let x=s[d]||\"\";i=o.slice(0,o.length-x.length).replace(/(.)\\/+$/,\"$1\")}const g=s[d];return v&&!g?c[y]=void 0:c[y]=(g||\"\").replace(/%2F/g,\"/\"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function ym(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hd(e===\"*\"||!e.endsWith(\"*\")||e.endsWith(\"/*\"),'Route path \"'+e+'\" will be treated as if it were '+('\"'+e.replace(/\\*$/,\"/*\")+'\" because the `*` character must ')+\"always follow a `/` in the pattern. To get rid of this warning, \"+('please change the route path to \"'+e.replace(/\\*$/,\"/*\")+'\".'));let r=[],l=\"^\"+e.replace(/\\/*\\*?$/,\"\").replace(/^\\/*/,\"/\").replace(/[\\\\.*+^${}|()[\\]]/g,\"\\\\$&\").replace(/\\/:([\\w-]+)(\\?)?/g,(i,s,a)=>(r.push({paramName:s,isOptional:a!=null}),a?\"/?([^\\\\/]+)?\":\"/([^\\\\/]+)\"));return e.endsWith(\"*\")?(r.push({paramName:\"*\"}),l+=e===\"*\"||e===\"/*\"?\"(.*)$\":\"(?:\\\\/(.+)|\\\\/*)$\"):n?l+=\"\\\\/*$\":e!==\"\"&&e!==\"/\"&&(l+=\"(?:(?=\\\\/|$))\"),[new RegExp(l,t?void 0:\"i\"),r]}function gm(e){try{return e.split(\"/\").map(t=>decodeURIComponent(t).replace(/\\//g,\"%2F\")).join(\"/\")}catch(t){return Hd(!1,'The URL path \"'+e+'\" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+(\"encoding (\"+t+\").\")),e}}function Vs(e,t){if(t===\"/\")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(\"/\")?t.length-1:t.length,r=e.charAt(n);return r&&r!==\"/\"?null:e.slice(n)||\"/\"}function vm(e,t){t===void 0&&(t=\"/\");let{pathname:n,search:r=\"\",hash:l=\"\"}=typeof e==\"string\"?Bn(e):e;return{pathname:n?n.startsWith(\"/\")?n:xm(n,t):t,search:jm(r),hash:Em(l)}}function xm(e,t){let n=t.replace(/\\/+$/,\"\").split(\"/\");return e.split(\"/\").forEach(l=>{l===\"..\"?n.length>1&&n.pop():l!==\".\"&&n.push(l)}),n.length>1?n.join(\"/\"):\"/\"}function Wo(e,t,n,r){return\"Cannot include a '\"+e+\"' character in a manually specified \"+(\"`to.\"+t+\"` field [\"+JSON.stringify(r)+\"].  Please separate it out to the \")+(\"`to.\"+n+\"` field. Alternatively you may provide the full path as \")+'a string in <Link to=\"...\"> and the router will parse it for you.'}function wm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ws(e,t){let n=wm(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qs(e,t,n,r){r===void 0&&(r=!1);let l;typeof e==\"string\"?l=Bn(e):(l=Rr({},e),Y(!l.pathname||!l.pathname.includes(\"?\"),Wo(\"?\",\"pathname\",\"search\",l)),Y(!l.pathname||!l.pathname.includes(\"#\"),Wo(\"#\",\"pathname\",\"hash\",l)),Y(!l.search||!l.search.includes(\"#\"),Wo(\"#\",\"search\",\"hash\",l)));let o=e===\"\"||l.pathname===\"\",i=o?\"/\":l.pathname,s;if(i==null)s=n;else{let d=t.length-1;if(!r&&i.startsWith(\"..\")){let y=i.split(\"/\");for(;y[0]===\"..\";)y.shift(),d-=1;l.pathname=y.join(\"/\")}s=d>=0?t[d]:\"/\"}let a=vm(l,s),c=i&&i!==\"/\"&&i.endsWith(\"/\"),f=(o||i===\".\")&&n.endsWith(\"/\");return!a.pathname.endsWith(\"/\")&&(c||f)&&(a.pathname+=\"/\"),a}const Ft=e=>e.join(\"/\").replace(/\\/\\/+/g,\"/\"),Sm=e=>e.replace(/\\/+$/,\"\").replace(/^\\/*/,\"/\"),jm=e=>!e||e===\"?\"?\"\":e.startsWith(\"?\")?e:\"?\"+e,Em=e=>!e||e===\"#\"?\"\":e.startsWith(\"#\")?e:\"#\"+e;function _m(e){return e!=null&&typeof e.status==\"number\"&&typeof e.statusText==\"string\"&&typeof e.internal==\"boolean\"&&\"data\"in e}const Qd=[\"post\",\"put\",\"patch\",\"delete\"];new Set(Qd);const km=[\"get\",...Qd];new Set(km);/**\n * React Router v6.30.1\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}const Ks=E.createContext(null),Cm=E.createContext(null),Mt=E.createContext(null),fo=E.createContext(null),ht=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Kd=E.createContext(null);function Nm(e,t){let{relative:n}=t===void 0?{}:t;$n()||Y(!1);let{basename:r,navigator:l}=E.useContext(Mt),{hash:o,pathname:i,search:s}=qd(e,{relative:n}),a=i;return r!==\"/\"&&(a=i===\"/\"?r:Ft([r,i])),l.createHref({pathname:a,search:s,hash:o})}function $n(){return E.useContext(fo)!=null}function Ar(){return $n()||Y(!1),E.useContext(fo).location}function Jd(e){E.useContext(Mt).static||E.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=E.useContext(ht);return e?$m():Pm()}function Pm(){$n()||Y(!1);let e=E.useContext(Ks),{basename:t,future:n,navigator:r}=E.useContext(Mt),{matches:l}=E.useContext(ht),{pathname:o}=Ar(),i=JSON.stringify(Ws(l,n.v7_relativeSplatPath)),s=E.useRef(!1);return Jd(()=>{s.current=!0}),E.useCallback(function(c,f){if(f===void 0&&(f={}),!s.current)return;if(typeof c==\"number\"){r.go(c);return}let d=Qs(c,JSON.parse(i),o,f.relative===\"path\");e==null&&t!==\"/\"&&(d.pathname=d.pathname===\"/\"?t:Ft([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,i,o,e])}function Rm(){let{matches:e}=E.useContext(ht),t=e[e.length-1];return t?t.params:{}}function qd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(Mt),{matches:l}=E.useContext(ht),{pathname:o}=Ar(),i=JSON.stringify(Ws(l,r.v7_relativeSplatPath));return E.useMemo(()=>Qs(e,JSON.parse(i),o,n===\"path\"),[e,i,o,n])}function Tm(e,t){return Om(e,t)}function Om(e,t,n,r){$n()||Y(!1);let{navigator:l}=E.useContext(Mt),{matches:o}=E.useContext(ht),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:\"/\";i&&i.route;let c=Ar(),f;if(t){var d;let S=typeof t==\"string\"?Bn(t):t;a===\"/\"||(d=S.pathname)!=null&&d.startsWith(a)||Y(!1),f=S}else f=c;let y=f.pathname||\"/\",v=y;if(a!==\"/\"){let S=a.replace(/^\\//,\"\").split(\"/\");v=\"/\"+y.replace(/^\\//,\"\").split(\"/\").slice(S.length).join(\"/\")}let g=rm(e,{pathname:v}),x=Am(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},s,S.params),pathname:Ft([a,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase===\"/\"?a:Ft([a,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&x?E.createElement(fo.Provider,{value:{location:Tr({pathname:\"/\",search:\"\",hash:\"\",state:null,key:\"default\"},f),navigationType:_t.Pop}},x):x}function Lm(){let e=Bm(),t=_m(e)?e.status+\" \"+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:\"0.5rem\",backgroundColor:\"rgba(200,200,200, 0.5)\"};return E.createElement(E.Fragment,null,E.createElement(\"h2\",null,\"Unexpected Application Error!\"),E.createElement(\"h3\",{style:{fontStyle:\"italic\"}},t),n?E.createElement(\"pre\",{style:l},n):null,null)}const Fm=E.createElement(Lm,null);class zm extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!==\"idle\"&&t.revalidation===\"idle\"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error(\"React Router caught the following error during render\",t,n)}render(){return this.state.error!==void 0?E.createElement(ht.Provider,{value:this.props.routeContext},E.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dm(e){let{routeContext:t,match:n,children:r}=e,l=E.useContext(Ks);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ht.Provider,{value:t},r)}function Am(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=(l=n)==null?void 0:l.errors;if(s!=null){let f=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);f>=0||Y(!1),i=i.slice(0,Math.min(i.length,f+1))}let a=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:y,errors:v}=n,g=d.route.loader&&y[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||g){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,d,y)=>{let v,g=!1,x=null,S=null;n&&(v=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||Fm,a&&(c<0&&y===0?(Hm(\"route-fallback\"),g=!0,S=null):c===y&&(g=!0,S=d.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,y+1)),h=()=>{let p;return v?p=x:g?p=S:d.route.Component?p=E.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=f,E.createElement(Dm,{match:d,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?E.createElement(zm,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var Xd=function(e){return e.UseBlocker=\"useBlocker\",e.UseRevalidator=\"useRevalidator\",e.UseNavigateStable=\"useNavigate\",e}(Xd||{}),Yd=function(e){return e.UseBlocker=\"useBlocker\",e.UseLoaderData=\"useLoaderData\",e.UseActionData=\"useActionData\",e.UseRouteError=\"useRouteError\",e.UseNavigation=\"useNavigation\",e.UseRouteLoaderData=\"useRouteLoaderData\",e.UseMatches=\"useMatches\",e.UseRevalidator=\"useRevalidator\",e.UseNavigateStable=\"useNavigate\",e.UseRouteId=\"useRouteId\",e}(Yd||{});function Um(e){let t=E.useContext(Ks);return t||Y(!1),t}function Im(e){let t=E.useContext(Cm);return t||Y(!1),t}function Mm(e){let t=E.useContext(ht);return t||Y(!1),t}function Gd(e){let t=Mm(),n=t.matches[t.matches.length-1];return n.route.id||Y(!1),n.route.id}function Bm(){var e;let t=E.useContext(Kd),n=Im(),r=Gd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function $m(){let{router:e}=Um(Xd.UseNavigateStable),t=Gd(Yd.UseNavigateStable),n=E.useRef(!1);return Jd(()=>{n.current=!0}),E.useCallback(function(l,o){o===void 0&&(o={}),n.current&&(typeof l==\"number\"?e.navigate(l):e.navigate(l,Tr({fromRouteId:t},o)))},[e,t])}const cu={};function Hm(e,t,n){cu[e]||(cu[e]=!0)}function Vm(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zd(e){let{to:t,replace:n,state:r,relative:l}=e;$n()||Y(!1);let{future:o,static:i}=E.useContext(Mt),{matches:s}=E.useContext(ht),{pathname:a}=Ar(),c=Ke(),f=Qs(t,Ws(s,o.v7_relativeSplatPath),a,l===\"path\"),d=JSON.stringify(f);return E.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function Ze(e){Y(!1)}function Wm(e){let{basename:t=\"/\",children:n=null,location:r,navigationType:l=_t.Pop,navigator:o,static:i=!1,future:s}=e;$n()&&Y(!1);let a=t.replace(/^\\/*/,\"/\"),c=E.useMemo(()=>({basename:a,navigator:o,static:i,future:Tr({v7_relativeSplatPath:!1},s)}),[a,s,o,i]);typeof r==\"string\"&&(r=Bn(r));let{pathname:f=\"/\",search:d=\"\",hash:y=\"\",state:v=null,key:g=\"default\"}=r,x=E.useMemo(()=>{let S=Vs(f,a);return S==null?null:{location:{pathname:S,search:d,hash:y,state:v,key:g},navigationType:l}},[a,f,d,y,v,g,l]);return x==null?null:E.createElement(Mt.Provider,{value:c},E.createElement(fo.Provider,{children:n,value:x}))}function Qm(e){let{children:t,location:n}=e;return Tm(Hi(t),n)}new Promise(()=>{});function Hi(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,l)=>{if(!E.isValidElement(r))return;let o=[...t,l];if(r.type===E.Fragment){n.push.apply(n,Hi(r.props.children,o));return}r.type!==Ze&&Y(!1),!r.props.index||!r.props.children||Y(!1);let i={id:r.props.id||o.join(\"-\"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Hi(r.props.children,o)),n.push(i)}),n}/**\n * React Router DOM v6.30.1\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(this,arguments)}function Km(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,o;for(o=0;o<r.length;o++)l=r[o],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Jm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qm(e,t){return e.button===0&&(!t||t===\"_self\")&&!Jm(e)}const Xm=[\"onClick\",\"relative\",\"reloadDocument\",\"replace\",\"state\",\"target\",\"to\",\"preventScrollReset\",\"viewTransition\"],Ym=\"6\";try{window.__reactRouterVersion=Ym}catch{}const Gm=\"startTransition\",du=Hf[Gm];function Zm(e){let{basename:t,children:n,future:r,window:l}=e,o=E.useRef();o.current==null&&(o.current=em({window:l,v5Compat:!0}));let i=o.current,[s,a]=E.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},f=E.useCallback(d=>{c&&du?du(()=>a(d)):a(d)},[a,c]);return E.useLayoutEffect(()=>i.listen(f),[i,f]),E.useEffect(()=>Vm(r),[r]),E.createElement(Wm,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i,future:r})}const bm=typeof window<\"u\"&&typeof window.document<\"u\"&&typeof window.document.createElement<\"u\",ey=/^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i,xt=E.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:o,replace:i,state:s,target:a,to:c,preventScrollReset:f,viewTransition:d}=t,y=Km(t,Xm),{basename:v}=E.useContext(Mt),g,x=!1;if(typeof c==\"string\"&&ey.test(c)&&(g=c,bm))try{let p=new URL(window.location.href),j=c.startsWith(\"//\")?new URL(p.protocol+c):new URL(c),_=Vs(j.pathname,v);j.origin===p.origin&&_!=null?c=_+j.search+j.hash:x=!0}catch{}let S=Nm(c,{relative:l}),m=ty(c,{replace:i,state:s,target:a,preventScrollReset:f,relative:l,viewTransition:d});function h(p){r&&r(p),p.defaultPrevented||m(p)}return E.createElement(\"a\",Vi({},y,{href:g||S,onClick:x||o?r:h,ref:n,target:a}))});var fu;(function(e){e.UseScrollRestoration=\"useScrollRestoration\",e.UseSubmit=\"useSubmit\",e.UseSubmitFetcher=\"useSubmitFetcher\",e.UseFetcher=\"useFetcher\",e.useViewTransitionState=\"useViewTransitionState\"})(fu||(fu={}));var pu;(function(e){e.UseFetcher=\"useFetcher\",e.UseFetchers=\"useFetchers\",e.UseScrollRestoration=\"useScrollRestoration\"})(pu||(pu={}));function ty(e,t){let{target:n,replace:r,state:l,preventScrollReset:o,relative:i,viewTransition:s}=t===void 0?{}:t,a=Ke(),c=Ar(),f=qd(e,{relative:i});return E.useCallback(d=>{if(qm(d,n)){d.preventDefault();let y=r!==void 0?r:Kl(c)===Kl(f);a(e,{replace:y,state:l,preventScrollReset:o,relative:i,viewTransition:s})}},[c,a,f,r,l,n,e,o,i,s])}const bd=E.createContext(null),rt=()=>{const e=E.useContext(bd);if(!e)throw new Error(\"useAuth must be used within an AuthProvider\");return e},ny=({children:e})=>{const[t,n]=E.useState(null),[r,l]=E.useState(!0);E.useEffect(()=>{const c=localStorage.getItem(\"user\");c&&n(JSON.parse(c)),l(!1)},[]);const a={user:t,login:c=>{n(c),localStorage.setItem(\"user\",JSON.stringify(c))},logout:()=>{n(null),localStorage.removeItem(\"user\")},updateUser:c=>{n(c),localStorage.setItem(\"user\",JSON.stringify(c))},isAuthenticated:!!t,isFreelancer:(t==null?void 0:t.role)===\"freelancer\",isClient:(t==null?void 0:t.role)===\"client\"};return r?u.jsx(\"div\",{className:\"loading\",children:\"Loading...\"}):u.jsx(bd.Provider,{value:a,children:e})},ry=()=>{const{user:e,logout:t,isAuthenticated:n,isFreelancer:r,isClient:l}=rt(),o=Ke(),i=()=>{t(),o(\"/login\")};return u.jsx(\"nav\",{className:\"navbar\",children:u.jsxs(\"div\",{className:\"navbar-container\",children:[u.jsx(\"h1\",{onClick:()=>o(\"/\"),style:{cursor:\"pointer\"},children:\"Freelance Platform\"}),u.jsx(\"div\",{style:{display:\"flex\",gap:\"1.5rem\",alignItems:\"center\"},children:n?u.jsxs(u.Fragment,{children:[u.jsx(xt,{to:\"/\",children:\"Projects\"}),r&&u.jsx(xt,{to:\"/my-proposals\",children:\"My Proposals\"}),l&&u.jsx(xt,{to:\"/my-projects\",children:\"My Projects\"}),u.jsx(xt,{to:\"/profile\",children:\"Profile\"}),u.jsxs(\"span\",{style:{color:\"#ecf0f1\"},children:[e.first_name,\" (\",e.role,\")\"]}),u.jsx(\"button\",{onClick:i,children:\"Logout\"})]}):u.jsxs(u.Fragment,{children:[u.jsx(xt,{to:\"/login\",children:\"Login\"}),u.jsx(xt,{to:\"/register\",children:\"Register\"})]})})]})})};function ef(e,t){return function(){return e.apply(t,arguments)}}const{toString:ly}=Object.prototype,{getPrototypeOf:Js}=Object,{iterator:po,toStringTag:tf}=Symbol,ho=(e=>t=>{const n=ly.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Je=e=>(e=e.toLowerCase(),t=>ho(t)===e),mo=e=>t=>typeof t===e,{isArray:Hn}=Array,An=mo(\"undefined\");function Ur(e){return e!==null&&!An(e)&&e.constructor!==null&&!An(e.constructor)&&Ee(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nf=Je(\"ArrayBuffer\");function oy(e){let t;return typeof ArrayBuffer<\"u\"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nf(e.buffer),t}const iy=mo(\"string\"),Ee=mo(\"function\"),rf=mo(\"number\"),Ir=e=>e!==null&&typeof e==\"object\",sy=e=>e===!0||e===!1,xl=e=>{if(ho(e)!==\"object\")return!1;const t=Js(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tf in e)&&!(po in e)},ay=e=>{if(!Ir(e)||Ur(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uy=Je(\"Date\"),cy=Je(\"File\"),dy=Je(\"Blob\"),fy=Je(\"FileList\"),py=e=>Ir(e)&&Ee(e.pipe),hy=e=>{let t;return e&&(typeof FormData==\"function\"&&e instanceof FormData||Ee(e.append)&&((t=ho(e))===\"formdata\"||t===\"object\"&&Ee(e.toString)&&e.toString()===\"[object FormData]\"))},my=Je(\"URLSearchParams\"),[yy,gy,vy,xy]=[\"ReadableStream\",\"Request\",\"Response\",\"Headers\"].map(Je),wy=e=>e.trim?e.trim():e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\");function Mr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>\"u\")return;let r,l;if(typeof e!=\"object\"&&(e=[e]),Hn(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(Ur(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let s;for(r=0;r<i;r++)s=o[r],t.call(null,e[s],s,e)}}function lf(e,t){if(Ur(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const Kt=typeof globalThis<\"u\"?globalThis:typeof self<\"u\"?self:typeof window<\"u\"?window:global,of=e=>!An(e)&&e!==Kt;function Wi(){const{caseless:e,skipUndefined:t}=of(this)&&this||{},n={},r=(l,o)=>{const i=e&&lf(n,o)||o;xl(n[i])&&xl(l)?n[i]=Wi(n[i],l):xl(l)?n[i]=Wi({},l):Hn(l)?n[i]=l.slice():(!t||!An(l))&&(n[i]=l)};for(let l=0,o=arguments.length;l<o;l++)arguments[l]&&Mr(arguments[l],r);return n}const Sy=(e,t,n,{allOwnKeys:r}={})=>(Mr(t,(l,o)=>{n&&Ee(l)?e[o]=ef(l,n):e[o]=l},{allOwnKeys:r}),e),jy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ey=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,\"super\",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_y=(e,t,n,r)=>{let l,o,i;const s={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),o=l.length;o-- >0;)i=l[o],(!r||r(i,e,t))&&!s[i]&&(t[i]=e[i],s[i]=!0);e=n!==!1&&Js(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ky=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Cy=e=>{if(!e)return null;if(Hn(e))return e;let t=e.length;if(!rf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ny=(e=>t=>e&&t instanceof e)(typeof Uint8Array<\"u\"&&Js(Uint8Array)),Py=(e,t)=>{const r=(e&&e[po]).call(e);let l;for(;(l=r.next())&&!l.done;){const o=l.value;t.call(e,o[0],o[1])}},Ry=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Ty=Je(\"HTMLFormElement\"),Oy=e=>e.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,function(n,r,l){return r.toUpperCase()+l}),hu=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ly=Je(\"RegExp\"),sf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Mr(n,(l,o)=>{let i;(i=t(l,o,e))!==!1&&(r[o]=i||l)}),Object.defineProperties(e,r)},Fy=e=>{sf(e,(t,n)=>{if(Ee(e)&&[\"arguments\",\"caller\",\"callee\"].indexOf(n)!==-1)return!1;const r=e[n];if(Ee(r)){if(t.enumerable=!1,\"writable\"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error(\"Can not rewrite read-only method '\"+n+\"'\")})}})},zy=(e,t)=>{const n={},r=l=>{l.forEach(o=>{n[o]=!0})};return Hn(e)?r(e):r(String(e).split(t)),n},Dy=()=>{},Ay=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Uy(e){return!!(e&&Ee(e.append)&&e[tf]===\"FormData\"&&e[po])}const Iy=e=>{const t=new Array(10),n=(r,l)=>{if(Ir(r)){if(t.indexOf(r)>=0)return;if(Ur(r))return r;if(!(\"toJSON\"in r)){t[l]=r;const o=Hn(r)?[]:{};return Mr(r,(i,s)=>{const a=n(i,l+1);!An(a)&&(o[s]=a)}),t[l]=void 0,o}}return r};return n(e,0)},My=Je(\"AsyncFunction\"),By=e=>e&&(Ir(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch),af=((e,t)=>e?setImmediate:t?((n,r)=>(Kt.addEventListener(\"message\",({source:l,data:o})=>{l===Kt&&o===n&&r.length&&r.shift()()},!1),l=>{r.push(l),Kt.postMessage(n,\"*\")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate==\"function\",Ee(Kt.postMessage)),$y=typeof queueMicrotask<\"u\"?queueMicrotask.bind(Kt):typeof process<\"u\"&&process.nextTick||af,Hy=e=>e!=null&&Ee(e[po]),w={isArray:Hn,isArrayBuffer:nf,isBuffer:Ur,isFormData:hy,isArrayBufferView:oy,isString:iy,isNumber:rf,isBoolean:sy,isObject:Ir,isPlainObject:xl,isEmptyObject:ay,isReadableStream:yy,isRequest:gy,isResponse:vy,isHeaders:xy,isUndefined:An,isDate:uy,isFile:cy,isBlob:dy,isRegExp:Ly,isFunction:Ee,isStream:py,isURLSearchParams:my,isTypedArray:Ny,isFileList:fy,forEach:Mr,merge:Wi,extend:Sy,trim:wy,stripBOM:jy,inherits:Ey,toFlatObject:_y,kindOf:ho,kindOfTest:Je,endsWith:ky,toArray:Cy,forEachEntry:Py,matchAll:Ry,isHTMLForm:Ty,hasOwnProperty:hu,hasOwnProp:hu,reduceDescriptors:sf,freezeMethods:Fy,toObjectSet:zy,toCamelCase:Oy,noop:Dy,toFiniteNumber:Ay,findKey:lf,global:Kt,isContextDefined:of,isSpecCompliantForm:Uy,toJSONObject:Iy,isAsyncFn:My,isThenable:By,setImmediate:af,asap:$y,isIterable:Hy};function L(e,t,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name=\"AxiosError\",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}w.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const uf=L.prototype,cf={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\",\"ERR_NOT_SUPPORT\",\"ERR_INVALID_URL\"].forEach(e=>{cf[e]={value:e}});Object.defineProperties(L,cf);Object.defineProperty(uf,\"isAxiosError\",{value:!0});L.from=(e,t,n,r,l,o)=>{const i=Object.create(uf);w.toFlatObject(e,i,function(f){return f!==Error.prototype},c=>c!==\"isAxiosError\");const s=e&&e.message?e.message:\"Error\",a=t==null&&e?e.code:t;return L.call(i,s,a,n,r,l),e&&i.cause==null&&Object.defineProperty(i,\"cause\",{value:e,configurable:!0}),i.name=e&&e.name||\"Error\",o&&Object.assign(i,o),i};const Vy=null;function Qi(e){return w.isPlainObject(e)||w.isArray(e)}function df(e){return w.endsWith(e,\"[]\")?e.slice(0,-2):e}function mu(e,t,n){return e?e.concat(t).map(function(l,o){return l=df(l),!n&&o?\"[\"+l+\"]\":l}).join(n?\".\":\"\"):t}function Wy(e){return w.isArray(e)&&!e.some(Qi)}const Qy=w.toFlatObject(w,{},null,function(t){return/^is[A-Z]/.test(t)});function yo(e,t,n){if(!w.isObject(e))throw new TypeError(\"target must be an object\");t=t||new FormData,n=w.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!w.isUndefined(S[x])});const r=n.metaTokens,l=n.visitor||f,o=n.dots,i=n.indexes,a=(n.Blob||typeof Blob<\"u\"&&Blob)&&w.isSpecCompliantForm(t);if(!w.isFunction(l))throw new TypeError(\"visitor must be a function\");function c(g){if(g===null)return\"\";if(w.isDate(g))return g.toISOString();if(w.isBoolean(g))return g.toString();if(!a&&w.isBlob(g))throw new L(\"Blob is not supported. Use a Buffer instead.\");return w.isArrayBuffer(g)||w.isTypedArray(g)?a&&typeof Blob==\"function\"?new Blob([g]):Buffer.from(g):g}function f(g,x,S){let m=g;if(g&&!S&&typeof g==\"object\"){if(w.endsWith(x,\"{}\"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(w.isArray(g)&&Wy(g)||(w.isFileList(g)||w.endsWith(x,\"[]\"))&&(m=w.toArray(g)))return x=df(x),m.forEach(function(p,j){!(w.isUndefined(p)||p===null)&&t.append(i===!0?mu([x],j,o):i===null?x:x+\"[]\",c(p))}),!1}return Qi(g)?!0:(t.append(mu(S,x,o),c(g)),!1)}const d=[],y=Object.assign(Qy,{defaultVisitor:f,convertValue:c,isVisitable:Qi});function v(g,x){if(!w.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error(\"Circular reference detected in \"+x.join(\".\"));d.push(g),w.forEach(g,function(m,h){(!(w.isUndefined(m)||m===null)&&l.call(t,m,w.isString(h)?h.trim():h,x,y))===!0&&v(m,x?x.concat(h):[h])}),d.pop()}}if(!w.isObject(e))throw new TypeError(\"data must be an object\");return v(e),t}function yu(e){const t={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\",\"%00\":\"\\0\"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function qs(e,t){this._pairs=[],e&&yo(e,this,t)}const ff=qs.prototype;ff.append=function(t,n){this._pairs.push([t,n])};ff.toString=function(t){const n=t?function(r){return t.call(this,r,yu)}:yu;return this._pairs.map(function(l){return n(l[0])+\"=\"+n(l[1])},\"\").join(\"&\")};function Ky(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\")}function pf(e,t,n){if(!t)return e;const r=n&&n.encode||Ky;w.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let o;if(l?o=l(t,n):o=w.isURLSearchParams(t)?t.toString():new qs(t,n).toString(r),o){const i=e.indexOf(\"#\");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf(\"?\")===-1?\"?\":\"&\")+o}return e}class gu{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){w.forEach(this.handlers,function(r){r!==null&&t(r)})}}const hf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jy=typeof URLSearchParams<\"u\"?URLSearchParams:qs,qy=typeof FormData<\"u\"?FormData:null,Xy=typeof Blob<\"u\"?Blob:null,Yy={isBrowser:!0,classes:{URLSearchParams:Jy,FormData:qy,Blob:Xy},protocols:[\"http\",\"https\",\"file\",\"blob\",\"url\",\"data\"]},Xs=typeof window<\"u\"&&typeof document<\"u\",Ki=typeof navigator==\"object\"&&navigator||void 0,Gy=Xs&&(!Ki||[\"ReactNative\",\"NativeScript\",\"NS\"].indexOf(Ki.product)<0),Zy=typeof WorkerGlobalScope<\"u\"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==\"function\",by=Xs&&window.location.href||\"http://localhost\",eg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xs,hasStandardBrowserEnv:Gy,hasStandardBrowserWebWorkerEnv:Zy,navigator:Ki,origin:by},Symbol.toStringTag,{value:\"Module\"})),ue={...eg,...Yy};function tg(e,t){return yo(e,new ue.classes.URLSearchParams,{visitor:function(n,r,l,o){return ue.isNode&&w.isBuffer(n)?(this.append(r,n.toString(\"base64\")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function ng(e){return w.matchAll(/\\w+|\\[(\\w*)]/g,e).map(t=>t[0]===\"[]\"?\"\":t[1]||t[0])}function rg(e){const t={},n=Object.keys(e);let r;const l=n.length;let o;for(r=0;r<l;r++)o=n[r],t[o]=e[o];return t}function mf(e){function t(n,r,l,o){let i=n[o++];if(i===\"__proto__\")return!0;const s=Number.isFinite(+i),a=o>=n.length;return i=!i&&w.isArray(l)?l.length:i,a?(w.hasOwnProp(l,i)?l[i]=[l[i],r]:l[i]=r,!s):((!l[i]||!w.isObject(l[i]))&&(l[i]=[]),t(n,r,l[i],o)&&w.isArray(l[i])&&(l[i]=rg(l[i])),!s)}if(w.isFormData(e)&&w.isFunction(e.entries)){const n={};return w.forEachEntry(e,(r,l)=>{t(ng(r),l,n,0)}),n}return null}function lg(e,t,n){if(w.isString(e))try{return(t||JSON.parse)(e),w.trim(e)}catch(r){if(r.name!==\"SyntaxError\")throw r}return(n||JSON.stringify)(e)}const Br={transitional:hf,adapter:[\"xhr\",\"http\",\"fetch\"],transformRequest:[function(t,n){const r=n.getContentType()||\"\",l=r.indexOf(\"application/json\")>-1,o=w.isObject(t);if(o&&w.isHTMLForm(t)&&(t=new FormData(t)),w.isFormData(t))return l?JSON.stringify(mf(t)):t;if(w.isArrayBuffer(t)||w.isBuffer(t)||w.isStream(t)||w.isFile(t)||w.isBlob(t)||w.isReadableStream(t))return t;if(w.isArrayBufferView(t))return t.buffer;if(w.isURLSearchParams(t))return n.setContentType(\"application/x-www-form-urlencoded;charset=utf-8\",!1),t.toString();let s;if(o){if(r.indexOf(\"application/x-www-form-urlencoded\")>-1)return tg(t,this.formSerializer).toString();if((s=w.isFileList(t))||r.indexOf(\"multipart/form-data\")>-1){const a=this.env&&this.env.FormData;return yo(s?{\"files[]\":t}:t,a&&new a,this.formSerializer)}}return o||l?(n.setContentType(\"application/json\",!1),lg(t)):t}],transformResponse:[function(t){const n=this.transitional||Br.transitional,r=n&&n.forcedJSONParsing,l=this.responseType===\"json\";if(w.isResponse(t)||w.isReadableStream(t))return t;if(t&&w.isString(t)&&(r&&!this.responseType||l)){const i=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(s){if(i)throw s.name===\"SyntaxError\"?L.from(s,L.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":void 0}}};w.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\"],e=>{Br.headers[e]={}});const og=w.toObjectSet([\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"]),ig=e=>{const t={};let n,r,l;return e&&e.split(`\n`).forEach(function(i){l=i.indexOf(\":\"),n=i.substring(0,l).trim().toLowerCase(),r=i.substring(l+1).trim(),!(!n||t[n]&&og[n])&&(n===\"set-cookie\"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+\", \"+r:r)}),t},vu=Symbol(\"internals\");function Zn(e){return e&&String(e).trim().toLowerCase()}function wl(e){return e===!1||e==null?e:w.isArray(e)?e.map(wl):String(e)}function sg(e){const t=Object.create(null),n=/([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ag=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qo(e,t,n,r,l){if(w.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!w.isString(t)){if(w.isString(r))return t.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(t)}}function ug(e){return e.trim().toLowerCase().replace(/([a-z\\d])(\\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function cg(e,t){const n=w.toCamelCase(\" \"+t);[\"get\",\"set\",\"has\"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,o,i){return this[r].call(this,t,l,o,i)},configurable:!0})})}let _e=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function o(s,a,c){const f=Zn(a);if(!f)throw new Error(\"header name must be a non-empty string\");const d=w.findKey(l,f);(!d||l[d]===void 0||c===!0||c===void 0&&l[d]!==!1)&&(l[d||a]=wl(s))}const i=(s,a)=>w.forEach(s,(c,f)=>o(c,f,a));if(w.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(w.isString(t)&&(t=t.trim())&&!ag(t))i(ig(t),n);else if(w.isObject(t)&&w.isIterable(t)){let s={},a,c;for(const f of t){if(!w.isArray(f))throw TypeError(\"Object iterator must return a key-value pair\");s[c=f[0]]=(a=s[c])?w.isArray(a)?[...a,f[1]]:[a,f[1]]:f[1]}i(s,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Zn(t),t){const r=w.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return sg(l);if(w.isFunction(n))return n.call(this,l,r);if(w.isRegExp(n))return n.exec(l);throw new TypeError(\"parser must be boolean|regexp|function\")}}}has(t,n){if(t=Zn(t),t){const r=w.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Qo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function o(i){if(i=Zn(i),i){const s=w.findKey(r,i);s&&(!n||Qo(r,r[s],s,n))&&(delete r[s],l=!0)}}return w.isArray(t)?t.forEach(o):o(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const o=n[r];(!t||Qo(this,this[o],o,t,!0))&&(delete this[o],l=!0)}return l}normalize(t){const n=this,r={};return w.forEach(this,(l,o)=>{const i=w.findKey(r,o);if(i){n[i]=wl(l),delete n[o];return}const s=t?ug(o):String(o).trim();s!==o&&delete n[o],n[s]=wl(l),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return w.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&w.isArray(r)?r.join(\", \"):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+\": \"+n).join(`\n`)}getSetCookie(){return this.get(\"set-cookie\")||[]}get[Symbol.toStringTag](){return\"AxiosHeaders\"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[vu]=this[vu]={accessors:{}}).accessors,l=this.prototype;function o(i){const s=Zn(i);r[s]||(cg(l,i),r[s]=!0)}return w.isArray(t)?t.forEach(o):o(t),this}};_e.accessor([\"Content-Type\",\"Content-Length\",\"Accept\",\"Accept-Encoding\",\"User-Agent\",\"Authorization\"]);w.reduceDescriptors(_e.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});w.freezeMethods(_e);function Ko(e,t){const n=this||Br,r=t||n,l=_e.from(r.headers);let o=r.data;return w.forEach(e,function(s){o=s.call(n,o,l.normalize(),t?t.status:void 0)}),l.normalize(),o}function yf(e){return!!(e&&e.__CANCEL__)}function Vn(e,t,n){L.call(this,e??\"canceled\",L.ERR_CANCELED,t,n),this.name=\"CanceledError\"}w.inherits(Vn,L,{__CANCEL__:!0});function gf(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new L(\"Request failed with status code \"+n.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dg(e){const t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"}function fg(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,o=0,i;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),f=r[o];i||(i=c),n[l]=a,r[l]=c;let d=o,y=0;for(;d!==l;)y+=n[d++],d=d%e;if(l=(l+1)%e,l===o&&(o=(o+1)%e),c-i<t)return;const v=f&&c-f;return v?Math.round(y*1e3/v):void 0}}function pg(e,t){let n=0,r=1e3/t,l,o;const i=(c,f=Date.now())=>{n=f,l=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const f=Date.now(),d=f-n;d>=r?i(c,f):(l=c,o||(o=setTimeout(()=>{o=null,i(l)},r-d)))},()=>l&&i(l)]}const Jl=(e,t,n=3)=>{let r=0;const l=fg(50,250);return pg(o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-r,c=l(a),f=i<=s;r=i;const d={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&f?(s-i)/c:void 0,event:o,lengthComputable:s!=null,[t?\"download\":\"upload\"]:!0};e(d)},n)},xu=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},wu=e=>(...t)=>w.asap(()=>e(...t)),hg=ue.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ue.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,mg=ue.hasStandardBrowserEnv?{write(e,t,n,r,l,o,i){if(typeof document>\"u\")return;const s=[`${e}=${encodeURIComponent(t)}`];w.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),w.isString(r)&&s.push(`path=${r}`),w.isString(l)&&s.push(`domain=${l}`),o===!0&&s.push(\"secure\"),w.isString(i)&&s.push(`SameSite=${i}`),document.cookie=s.join(\"; \")},read(e){if(typeof document>\"u\")return null;const t=document.cookie.match(new RegExp(\"(?:^|; )\"+e+\"=([^;]*)\"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,\"\",Date.now()-864e5,\"/\")}}:{write(){},read(){return null},remove(){}};function yg(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)}function gg(e,t){return t?e.replace(/\\/?\\/$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}function vf(e,t,n){let r=!yg(t);return e&&(r||n==!1)?gg(e,t):t}const Su=e=>e instanceof _e?{...e}:e;function tn(e,t){t=t||{};const n={};function r(c,f,d,y){return w.isPlainObject(c)&&w.isPlainObject(f)?w.merge.call({caseless:y},c,f):w.isPlainObject(f)?w.merge({},f):w.isArray(f)?f.slice():f}function l(c,f,d,y){if(w.isUndefined(f)){if(!w.isUndefined(c))return r(void 0,c,d,y)}else return r(c,f,d,y)}function o(c,f){if(!w.isUndefined(f))return r(void 0,f)}function i(c,f){if(w.isUndefined(f)){if(!w.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function s(c,f,d){if(d in t)return r(c,f);if(d in e)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(c,f,d)=>l(Su(c),Su(f),d,!0)};return w.forEach(Object.keys({...e,...t}),function(f){const d=a[f]||l,y=d(e[f],t[f],f);w.isUndefined(y)&&d!==s||(n[f]=y)}),n}const xf=e=>{const t=tn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:o,headers:i,auth:s}=t;if(t.headers=i=_e.from(i),t.url=pf(vf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set(\"Authorization\",\"Basic \"+btoa((s.username||\"\")+\":\"+(s.password?unescape(encodeURIComponent(s.password)):\"\"))),w.isFormData(n)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(w.isFunction(n.getHeaders)){const a=n.getHeaders(),c=[\"content-type\",\"content-length\"];Object.entries(a).forEach(([f,d])=>{c.includes(f.toLowerCase())&&i.set(f,d)})}}if(ue.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(t)),r||r!==!1&&hg(t.url))){const a=l&&o&&mg.read(o);a&&i.set(l,a)}return t},vg=typeof XMLHttpRequest<\"u\",xg=vg&&function(e){return new Promise(function(n,r){const l=xf(e);let o=l.data;const i=_e.from(l.headers).normalize();let{responseType:s,onUploadProgress:a,onDownloadProgress:c}=l,f,d,y,v,g;function x(){v&&v(),g&&g(),l.cancelToken&&l.cancelToken.unsubscribe(f),l.signal&&l.signal.removeEventListener(\"abort\",f)}let S=new XMLHttpRequest;S.open(l.method.toUpperCase(),l.url,!0),S.timeout=l.timeout;function m(){if(!S)return;const p=_e.from(\"getAllResponseHeaders\"in S&&S.getAllResponseHeaders()),_={data:!s||s===\"text\"||s===\"json\"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:p,config:e,request:S};gf(function(C){n(C),x()},function(C){r(C),x()},_),S=null}\"onloadend\"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf(\"file:\")===0)||setTimeout(m)},S.onabort=function(){S&&(r(new L(\"Request aborted\",L.ECONNABORTED,e,S)),S=null)},S.onerror=function(j){const _=j&&j.message?j.message:\"Network Error\",P=new L(_,L.ERR_NETWORK,e,S);P.event=j||null,r(P),S=null},S.ontimeout=function(){let j=l.timeout?\"timeout of \"+l.timeout+\"ms exceeded\":\"timeout exceeded\";const _=l.transitional||hf;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),r(new L(j,_.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,e,S)),S=null},o===void 0&&i.setContentType(null),\"setRequestHeader\"in S&&w.forEach(i.toJSON(),function(j,_){S.setRequestHeader(_,j)}),w.isUndefined(l.withCredentials)||(S.withCredentials=!!l.withCredentials),s&&s!==\"json\"&&(S.responseType=l.responseType),c&&([y,g]=Jl(c,!0),S.addEventListener(\"progress\",y)),a&&S.upload&&([d,v]=Jl(a),S.upload.addEventListener(\"progress\",d),S.upload.addEventListener(\"loadend\",v)),(l.cancelToken||l.signal)&&(f=p=>{S&&(r(!p||p.type?new Vn(null,e,S):p),S.abort(),S=null)},l.cancelToken&&l.cancelToken.subscribe(f),l.signal&&(l.signal.aborted?f():l.signal.addEventListener(\"abort\",f)));const h=dg(l.url);if(h&&ue.protocols.indexOf(h)===-1){r(new L(\"Unsupported protocol \"+h+\":\",L.ERR_BAD_REQUEST,e));return}S.send(o||null)})},wg=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const o=function(c){if(!l){l=!0,s();const f=c instanceof Error?c:this.reason;r.abort(f instanceof L?f:new Vn(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,o(new L(`timeout ${t} of ms exceeded`,L.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener(\"abort\",o)}),e=null)};e.forEach(c=>c.addEventListener(\"abort\",o));const{signal:a}=r;return a.unsubscribe=()=>w.asap(s),a}},Sg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},jg=async function*(e,t){for await(const n of Eg(e))yield*Sg(n,t)},Eg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ju=(e,t,n,r)=>{const l=jg(e,t);let o=0,i,s=a=>{i||(i=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:c,value:f}=await l.next();if(c){s(),a.close();return}let d=f.byteLength;if(n){let y=o+=d;n(y)}a.enqueue(new Uint8Array(f))}catch(c){throw s(c),c}},cancel(a){return s(a),l.return()}},{highWaterMark:2})},Eu=64*1024,{isFunction:il}=w,_g=(({Request:e,Response:t})=>({Request:e,Response:t}))(w.global),{ReadableStream:_u,TextEncoder:ku}=w.global,Cu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kg=e=>{e=w.merge.call({skipUndefined:!0},_g,e);const{fetch:t,Request:n,Response:r}=e,l=t?il(t):typeof fetch==\"function\",o=il(n),i=il(r);if(!l)return!1;const s=l&&il(_u),a=l&&(typeof ku==\"function\"?(g=>x=>g.encode(x))(new ku):async g=>new Uint8Array(await new n(g).arrayBuffer())),c=o&&s&&Cu(()=>{let g=!1;const x=new n(ue.origin,{body:new _u,method:\"POST\",get duplex(){return g=!0,\"half\"}}).headers.has(\"Content-Type\");return g&&!x}),f=i&&s&&Cu(()=>w.isReadableStream(new r(\"\").body)),d={stream:f&&(g=>g.body)};l&&[\"text\",\"arrayBuffer\",\"blob\",\"formData\",\"stream\"].forEach(g=>{!d[g]&&(d[g]=(x,S)=>{let m=x&&x[g];if(m)return m.call(x);throw new L(`Response type '${g}' is not supported`,L.ERR_NOT_SUPPORT,S)})});const y=async g=>{if(g==null)return 0;if(w.isBlob(g))return g.size;if(w.isSpecCompliantForm(g))return(await new n(ue.origin,{method:\"POST\",body:g}).arrayBuffer()).byteLength;if(w.isArrayBufferView(g)||w.isArrayBuffer(g))return g.byteLength;if(w.isURLSearchParams(g)&&(g=g+\"\"),w.isString(g))return(await a(g)).byteLength},v=async(g,x)=>{const S=w.toFiniteNumber(g.getContentLength());return S??y(x)};return async g=>{let{url:x,method:S,data:m,signal:h,cancelToken:p,timeout:j,onDownloadProgress:_,onUploadProgress:P,responseType:C,headers:T,withCredentials:M=\"same-origin\",fetchOptions:z}=xf(g),ye=t||fetch;C=C?(C+\"\").toLowerCase():\"text\";let qe=wg([h,p&&p.toAbortSignal()],j),Ie=null;const Xe=qe&&qe.unsubscribe&&(()=>{qe.unsubscribe()});let $r;try{if(P&&c&&S!==\"get\"&&S!==\"head\"&&($r=await v(T,m))!==0){let U=new n(x,{method:\"POST\",body:m,duplex:\"half\"}),$;if(w.isFormData(m)&&($=U.headers.get(\"content-type\"))&&T.setContentType($),U.body){const[mt,Oe]=xu($r,Jl(wu(P)));m=ju(U.body,Eu,mt,Oe)}}w.isString(M)||(M=M?\"include\":\"omit\");const ge=o&&\"credentials\"in n.prototype,ln={...z,signal:qe,method:S.toUpperCase(),headers:T.normalize().toJSON(),body:m,duplex:\"half\",credentials:ge?M:void 0};Ie=o&&new n(x,ln);let N=await(o?ye(Ie,z):ye(x,ln));const O=f&&(C===\"stream\"||C===\"response\");if(f&&(_||O&&Xe)){const U={};[\"status\",\"statusText\",\"headers\"].forEach(on=>{U[on]=N[on]});const $=w.toFiniteNumber(N.headers.get(\"content-length\")),[mt,Oe]=_&&xu($,Jl(wu(_),!0))||[];N=new r(ju(N.body,Eu,mt,()=>{Oe&&Oe(),Xe&&Xe()}),U)}C=C||\"text\";let F=await d[w.findKey(d,C)||\"text\"](N,g);return!O&&Xe&&Xe(),await new Promise((U,$)=>{gf(U,$,{data:F,headers:_e.from(N.headers),status:N.status,statusText:N.statusText,config:g,request:Ie})})}catch(ge){throw Xe&&Xe(),ge&&ge.name===\"TypeError\"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new L(\"Network Error\",L.ERR_NETWORK,g,Ie),{cause:ge.cause||ge}):L.from(ge,ge&&ge.code,g,Ie)}}},Cg=new Map,wf=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:l}=t,o=[r,l,n];let i=o.length,s=i,a,c,f=Cg;for(;s--;)a=o[s],c=f.get(a),c===void 0&&f.set(a,c=s?new Map:kg(t)),f=c;return c};wf();const Ys={http:Vy,xhr:xg,fetch:{get:wf}};w.forEach(Ys,(e,t)=>{if(e){try{Object.defineProperty(e,\"name\",{value:t})}catch{}Object.defineProperty(e,\"adapterName\",{value:t})}});const Nu=e=>`- ${e}`,Ng=e=>w.isFunction(e)||e===null||e===!1;function Pg(e,t){e=w.isArray(e)?e:[e];const{length:n}=e;let r,l;const o={};for(let i=0;i<n;i++){r=e[i];let s;if(l=r,!Ng(r)&&(l=Ys[(s=String(r)).toLowerCase()],l===void 0))throw new L(`Unknown adapter '${s}'`);if(l&&(w.isFunction(l)||(l=l.get(t))))break;o[s||\"#\"+i]=l}if(!l){const i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?\"is not supported by the environment\":\"is not available in the build\"));let s=n?i.length>1?`since :\n`+i.map(Nu).join(`\n`):\" \"+Nu(i[0]):\"as no adapter specified\";throw new L(\"There is no suitable adapter to dispatch the request \"+s,\"ERR_NOT_SUPPORT\")}return l}const Sf={getAdapter:Pg,adapters:Ys};function Jo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vn(null,e)}function Pu(e){return Jo(e),e.headers=_e.from(e.headers),e.data=Ko.call(e,e.transformRequest),[\"post\",\"put\",\"patch\"].indexOf(e.method)!==-1&&e.headers.setContentType(\"application/x-www-form-urlencoded\",!1),Sf.getAdapter(e.adapter||Br.adapter,e)(e).then(function(r){return Jo(e),r.data=Ko.call(e,e.transformResponse,r),r.headers=_e.from(r.headers),r},function(r){return yf(r)||(Jo(e),r&&r.response&&(r.response.data=Ko.call(e,e.transformResponse,r.response),r.response.headers=_e.from(r.response.headers))),Promise.reject(r)})}const jf=\"1.13.1\",go={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((e,t)=>{go[e]=function(r){return typeof r===e||\"a\"+(t<1?\"n \":\" \")+e}});const Ru={};go.transitional=function(t,n,r){function l(o,i){return\"[Axios v\"+jf+\"] Transitional option '\"+o+\"'\"+i+(r?\". \"+r:\"\")}return(o,i,s)=>{if(t===!1)throw new L(l(i,\" has been removed\"+(n?\" in \"+n:\"\")),L.ERR_DEPRECATED);return n&&!Ru[i]&&(Ru[i]=!0,console.warn(l(i,\" has been deprecated since v\"+n+\" and will be removed in the near future\"))),t?t(o,i,s):!0}};go.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Rg(e,t,n){if(typeof e!=\"object\")throw new L(\"options must be an object\",L.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const o=r[l],i=t[o];if(i){const s=e[o],a=s===void 0||i(s,o,e);if(a!==!0)throw new L(\"option \"+o+\" must be \"+a,L.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new L(\"Unknown option \"+o,L.ERR_BAD_OPTION)}}const Sl={assertOptions:Rg,validators:go},Ge=Sl.validators;let Xt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new gu,response:new gu}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\\n/,\"\"):\"\";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\\n.+\\n/,\"\"))&&(r.stack+=`\n`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t==\"string\"?(n=n||{},n.url=t):n=t||{},n=tn(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:o}=n;r!==void 0&&Sl.assertOptions(r,{silentJSONParsing:Ge.transitional(Ge.boolean),forcedJSONParsing:Ge.transitional(Ge.boolean),clarifyTimeoutError:Ge.transitional(Ge.boolean)},!1),l!=null&&(w.isFunction(l)?n.paramsSerializer={serialize:l}:Sl.assertOptions(l,{encode:Ge.function,serialize:Ge.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sl.assertOptions(n,{baseUrl:Ge.spelling(\"baseURL\"),withXsrfToken:Ge.spelling(\"withXSRFToken\")},!0),n.method=(n.method||this.defaults.method||\"get\").toLowerCase();let i=o&&w.merge(o.common,o[n.method]);o&&w.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],g=>{delete o[g]}),n.headers=_e.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen==\"function\"&&x.runWhen(n)===!1||(a=a&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let f,d=0,y;if(!a){const g=[Pu.bind(this),void 0];for(g.unshift(...s),g.push(...c),y=g.length,f=Promise.resolve(n);d<y;)f=f.then(g[d++],g[d++]);return f}y=s.length;let v=n;for(;d<y;){const g=s[d++],x=s[d++];try{v=g(v)}catch(S){x.call(this,S);break}}try{f=Pu.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,y=c.length;d<y;)f=f.then(c[d++],c[d++]);return f}getUri(t){t=tn(this.defaults,t);const n=vf(t.baseURL,t.url,t.allowAbsoluteUrls);return pf(n,t.params,t.paramsSerializer)}};w.forEach([\"delete\",\"get\",\"head\",\"options\"],function(t){Xt.prototype[t]=function(n,r){return this.request(tn(r||{},{method:t,url:n,data:(r||{}).data}))}});w.forEach([\"post\",\"put\",\"patch\"],function(t){function n(r){return function(o,i,s){return this.request(tn(s||{},{method:t,headers:r?{\"Content-Type\":\"multipart/form-data\"}:{},url:o,data:i}))}}Xt.prototype[t]=n(),Xt.prototype[t+\"Form\"]=n(!0)});let Tg=class Ef{constructor(t){if(typeof t!=\"function\")throw new TypeError(\"executor must be a function.\");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(l=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](l);r._listeners=null}),this.promise.then=l=>{let o;const i=new Promise(s=>{r.subscribe(s),o=s}).then(l);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,s){r.reason||(r.reason=new Vn(o,i,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ef(function(l){t=l}),cancel:t}}};function Og(e){return function(n){return e.apply(null,n)}}function Lg(e){return w.isObject(e)&&e.isAxiosError===!0}const Ji={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ji).forEach(([e,t])=>{Ji[t]=e});function _f(e){const t=new Xt(e),n=ef(Xt.prototype.request,t);return w.extend(n,Xt.prototype,t,{allOwnKeys:!0}),w.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return _f(tn(e,l))},n}const G=_f(Br);G.Axios=Xt;G.CanceledError=Vn;G.CancelToken=Tg;G.isCancel=yf;G.VERSION=jf;G.toFormData=yo;G.AxiosError=L;G.Cancel=G.CanceledError;G.all=function(t){return Promise.all(t)};G.spread=Og;G.isAxiosError=Lg;G.mergeConfig=tn;G.AxiosHeaders=_e;G.formToJSON=e=>mf(w.isHTMLForm(e)?new FormData(e):e);G.getAdapter=Sf.getAdapter;G.HttpStatusCode=Ji;G.default=G;const{Axios:Kg,AxiosError:Jg,CanceledError:qg,isCancel:Xg,CancelToken:Yg,VERSION:Gg,all:Zg,Cancel:bg,isAxiosError:ev,spread:tv,toFormData:nv,AxiosHeaders:rv,HttpStatusCode:lv,formToJSON:ov,getAdapter:iv,mergeConfig:sv}=G,Fg=\"http://localhost:5000/api\",fe=G.create({baseURL:Fg,headers:{\"Content-Type\":\"application/json\"}}),ql={getAll:e=>fe.get(\"/users\",{params:e}),getById:e=>fe.get(`/users/${e}`),create:e=>fe.post(\"/users\",e),update:(e,t)=>fe.patch(`/users/${e}`,t),delete:e=>fe.delete(`/users/${e}`)},Nn={getAll:e=>fe.get(\"/projects\",{params:e}),getById:e=>fe.get(`/projects/${e}`),create:e=>fe.post(\"/projects\",e),update:(e,t)=>fe.patch(`/projects/${e}`,t),delete:e=>fe.delete(`/projects/${e}`)},Pn={getAll:e=>fe.get(\"/proposals\",{params:e}),getById:e=>fe.get(`/proposals/${e}`),create:e=>fe.post(\"/proposals\",e),update:(e,t)=>fe.patch(`/proposals/${e}`,t),delete:e=>fe.delete(`/proposals/${e}`)},zg=()=>{const[e,t]=E.useState(\"\"),[n,r]=E.useState(\"\"),[l,o]=E.useState(!1),{login:i}=rt(),s=Ke(),a=async c=>{var f,d;c.preventDefault(),r(\"\"),o(!0);try{const v=(await ql.getAll({limit:1})).data.data;if(v.length>0){const g=await ql.getById(v[0].id);i(g.data.data),s(\"/\")}else r(\"No users found. Please register first.\")}catch(y){r(((d=(f=y.response)==null?void 0:f.data)==null?void 0:d.message)||\"Failed to login. Please try again.\")}finally{o(!1)}};return u.jsx(\"div\",{className:\"auth-container\",children:u.jsxs(\"div\",{className:\"auth-card\",children:[u.jsx(\"h2\",{children:\"Login\"}),n&&u.jsx(\"div\",{className:\"error-message\",children:n}),u.jsxs(\"form\",{onSubmit:a,children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),u.jsx(\"input\",{type:\"email\",id:\"email\",value:e,onChange:c=>t(c.target.value),required:!0,placeholder:\"Enter your email\"})]}),u.jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:\"100%\"},disabled:l,children:l?\"Logging in...\":\"Login\"})]}),u.jsxs(\"div\",{className:\"auth-toggle\",children:[\"Don't have an account? \",u.jsx(xt,{to:\"/register\",children:\"Register here\"})]})]})})},Dg=()=>{const[e,t]=E.useState({email:\"\",password:\"password123\",role:\"freelancer\",first_name:\"\",last_name:\"\",phone:\"\",country:\"\",bio:\"\",hourly_rate:\"\",experience_years:\"\",headline:\"\",company_name:\"\",company_size:\"\",website:\"\"}),[n,r]=E.useState(\"\"),[l,o]=E.useState(!1),{login:i}=rt(),s=Ke(),a=f=>{t({...e,[f.target.name]:f.target.value})},c=async f=>{var d,y;f.preventDefault(),r(\"\"),o(!0);try{const v={email:e.email,password:e.password,role:e.role,first_name:e.first_name,last_name:e.last_name,phone:e.phone,country:e.country};e.role===\"freelancer\"?v.profile={bio:e.bio,hourly_rate:e.hourly_rate?parseFloat(e.hourly_rate):null,experience_years:e.experience_years?parseInt(e.experience_years):null,headline:e.headline}:e.role===\"client\"&&(v.profile={company_name:e.company_name,company_size:e.company_size,website:e.website});const g=await ql.create(v);i(g.data.data),s(\"/\")}catch(v){r(((y=(d=v.response)==null?void 0:d.data)==null?void 0:y.message)||\"Failed to register. Please try again.\")}finally{o(!1)}};return u.jsx(\"div\",{className:\"auth-container\",children:u.jsxs(\"div\",{className:\"auth-card\",children:[u.jsx(\"h2\",{children:\"Register\"}),n&&u.jsx(\"div\",{className:\"error-message\",children:n}),u.jsxs(\"form\",{onSubmit:c,children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"role\",children:\"I am a\"}),u.jsxs(\"select\",{id:\"role\",name:\"role\",value:e.role,onChange:a,required:!0,children:[u.jsx(\"option\",{value:\"freelancer\",children:\"Freelancer\"}),u.jsx(\"option\",{value:\"client\",children:\"Client\"})]})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),u.jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:e.email,onChange:a,required:!0,placeholder:\"your@email.com\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name\"}),u.jsx(\"input\",{type:\"text\",id:\"first_name\",name:\"first_name\",value:e.first_name,onChange:a,placeholder:\"John\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"last_name\",children:\"Last Name\"}),u.jsx(\"input\",{type:\"text\",id:\"last_name\",name:\"last_name\",value:e.last_name,onChange:a,placeholder:\"Doe\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),u.jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",value:e.phone,onChange:a,placeholder:\"+1234567890\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"country\",children:\"Country\"}),u.jsx(\"input\",{type:\"text\",id:\"country\",name:\"country\",value:e.country,onChange:a,placeholder:\"USA\"})]}),e.role===\"freelancer\"&&u.jsxs(u.Fragment,{children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"headline\",children:\"Professional Headline\"}),u.jsx(\"input\",{type:\"text\",id:\"headline\",name:\"headline\",value:e.headline,onChange:a,placeholder:\"Full Stack Developer\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"bio\",children:\"Bio\"}),u.jsx(\"textarea\",{id:\"bio\",name:\"bio\",value:e.bio,onChange:a,placeholder:\"Tell us about yourself...\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"hourly_rate\",children:\"Hourly Rate ($)\"}),u.jsx(\"input\",{type:\"number\",id:\"hourly_rate\",name:\"hourly_rate\",value:e.hourly_rate,onChange:a,placeholder:\"50\",min:\"0\",step:\"0.01\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"experience_years\",children:\"Years of Experience\"}),u.jsx(\"input\",{type:\"number\",id:\"experience_years\",name:\"experience_years\",value:e.experience_years,onChange:a,placeholder:\"5\",min:\"0\"})]})]}),e.role===\"client\"&&u.jsxs(u.Fragment,{children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"company_name\",children:\"Company Name\"}),u.jsx(\"input\",{type:\"text\",id:\"company_name\",name:\"company_name\",value:e.company_name,onChange:a,placeholder:\"Acme Inc.\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"company_size\",children:\"Company Size\"}),u.jsxs(\"select\",{id:\"company_size\",name:\"company_size\",value:e.company_size,onChange:a,children:[u.jsx(\"option\",{value:\"\",children:\"Select size\"}),u.jsx(\"option\",{value:\"1-10\",children:\"1-10 employees\"}),u.jsx(\"option\",{value:\"11-50\",children:\"11-50 employees\"}),u.jsx(\"option\",{value:\"51-200\",children:\"51-200 employees\"}),u.jsx(\"option\",{value:\"201-500\",children:\"201-500 employees\"}),u.jsx(\"option\",{value:\"500+\",children:\"500+ employees\"})]})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"website\",children:\"Website\"}),u.jsx(\"input\",{type:\"url\",id:\"website\",name:\"website\",value:e.website,onChange:a,placeholder:\"https://example.com\"})]})]}),u.jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:\"100%\"},disabled:l,children:l?\"Registering...\":\"Register\"})]}),u.jsxs(\"div\",{className:\"auth-toggle\",children:[\"Already have an account? \",u.jsx(xt,{to:\"/login\",children:\"Login here\"})]})]})})},Ag=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[l,o]=E.useState(\"\"),[i,s]=E.useState({status:\"\",project_type:\"\"}),a=Ke(),{isAuthenticated:c}=rt();E.useEffect(()=>{if(!c){a(\"/login\");return}f()},[i,c,a]);const f=async()=>{r(!0),o(\"\");try{const v={};i.status&&(v.status=i.status),i.project_type&&(v.project_type=i.project_type);const g=await Nn.getAll(v);t(g.data.data)}catch(v){o(\"Failed to load projects\"),console.error(v)}finally{r(!1)}},d=v=>{s({...i,[v.target.name]:v.target.value})},y=v=>{a(`/projects/${v}`)};return n?u.jsx(\"div\",{className:\"container\",children:u.jsx(\"div\",{className:\"loading\",children:\"Loading projects...\"})}):u.jsxs(\"div\",{className:\"container\",children:[u.jsx(\"h1\",{style:{marginBottom:\"1.5rem\"},children:\"Browse Projects\"}),u.jsx(\"div\",{className:\"filters\",children:u.jsxs(\"div\",{className:\"filters-row\",children:[u.jsxs(\"div\",{className:\"form-group\",style:{marginBottom:0},children:[u.jsx(\"label\",{htmlFor:\"status\",children:\"Status\"}),u.jsxs(\"select\",{id:\"status\",name:\"status\",value:i.status,onChange:d,children:[u.jsx(\"option\",{value:\"\",children:\"All Statuses\"}),u.jsx(\"option\",{value:\"open\",children:\"Open\"}),u.jsx(\"option\",{value:\"in-progress\",children:\"In Progress\"}),u.jsx(\"option\",{value:\"completed\",children:\"Completed\"}),u.jsx(\"option\",{value:\"cancelled\",children:\"Cancelled\"})]})]}),u.jsxs(\"div\",{className:\"form-group\",style:{marginBottom:0},children:[u.jsx(\"label\",{htmlFor:\"project_type\",children:\"Project Type\"}),u.jsxs(\"select\",{id:\"project_type\",name:\"project_type\",value:i.project_type,onChange:d,children:[u.jsx(\"option\",{value:\"\",children:\"All Types\"}),u.jsx(\"option\",{value:\"fixed\",children:\"Fixed Price\"}),u.jsx(\"option\",{value:\"hourly\",children:\"Hourly\"})]})]})]})}),l&&u.jsx(\"div\",{className:\"error-message\",children:l}),e.length===0?u.jsxs(\"div\",{className:\"empty-state\",children:[u.jsx(\"h3\",{children:\"No projects found\"}),u.jsx(\"p\",{children:\"Check back later for new opportunities\"})]}):u.jsx(\"div\",{className:\"projects-grid\",children:e.map(v=>{var g,x;return u.jsxs(\"div\",{className:\"project-card\",onClick:()=>y(v.id),children:[u.jsx(\"h3\",{children:v.title}),u.jsx(\"div\",{className:`status-badge status-${v.status}`,children:v.status}),u.jsxs(\"p\",{style:{marginTop:\"0.5rem\",color:\"#666\"},children:[(g=v.description)==null?void 0:g.substring(0,150),((x=v.description)==null?void 0:x.length)>150&&\"...\"]}),u.jsx(\"div\",{className:\"project-type\",children:v.project_type}),u.jsxs(\"div\",{className:\"project-meta\",children:[u.jsxs(\"span\",{children:[\"Budget: $\",v.budget_min,\" - $\",v.budget_max]}),u.jsxs(\"span\",{children:[v.proposal_count,\" proposals\"]})]}),v.skills&&v.skills.length>0&&u.jsx(\"div\",{className:\"skills-list\",children:v.skills.map(S=>u.jsx(\"span\",{className:\"skill-tag\",children:S.name},S.id))}),u.jsxs(\"div\",{style:{marginTop:\"0.5rem\",fontSize:\"0.875rem\",color:\"#666\"},children:[\"Posted by: \",v.client_name||v.company_name]})]},v.id)})})]})},Ug=()=>{const{id:e}=Rm(),[t,n]=E.useState(null),[r,l]=E.useState(!0),[o,i]=E.useState(\"\"),[s,a]=E.useState(!1),[c,f]=E.useState({bid_amount:\"\",hourly_rate:\"\",estimated_hours:\"\",cover_letter:\"\"}),[d,y]=E.useState(!1),[v,g]=E.useState(\"\"),{user:x,isFreelancer:S}=rt(),m=Ke();E.useEffect(()=>{h()},[e]);const h=async()=>{l(!0),i(\"\");try{const _=await Nn.getById(e);n(_.data.data)}catch(_){i(\"Failed to load project\"),console.error(_)}finally{l(!1)}},p=_=>{f({...c,[_.target.name]:_.target.value})},j=async _=>{var P,C;_.preventDefault(),y(!0),i(\"\"),g(\"\");try{const T={project_id:e,freelancer_id:x.profile.id,bid_amount:c.bid_amount?parseFloat(c.bid_amount):null,hourly_rate:c.hourly_rate?parseFloat(c.hourly_rate):null,estimated_hours:c.estimated_hours?parseInt(c.estimated_hours):null,cover_letter:c.cover_letter};await Pn.create(T),g(\"Proposal submitted successfully!\"),a(!1),f({bid_amount:\"\",hourly_rate:\"\",estimated_hours:\"\",cover_letter:\"\"}),h()}catch(T){i(((C=(P=T.response)==null?void 0:P.data)==null?void 0:C.message)||\"Failed to submit proposal\")}finally{y(!1)}};return r?u.jsx(\"div\",{className:\"container\",children:u.jsx(\"div\",{className:\"loading\",children:\"Loading project...\"})}):t?u.jsxs(\"div\",{className:\"container\",children:[u.jsx(\"button\",{onClick:()=>m(-1),className:\"btn btn-secondary\",style:{marginBottom:\"1rem\"},children:\"Back\"}),u.jsxs(\"div\",{className:\"card\",children:[u.jsx(\"h1\",{style:{marginBottom:\"1rem\"},children:t.title}),u.jsx(\"div\",{className:`status-badge status-${t.status}`,style:{marginBottom:\"1rem\"},children:t.status}),u.jsx(\"div\",{className:\"project-type\",children:t.project_type}),u.jsxs(\"div\",{style:{marginTop:\"1.5rem\"},children:[u.jsx(\"h3\",{children:\"Description\"}),u.jsx(\"p\",{style:{whiteSpace:\"pre-wrap\",marginTop:\"0.5rem\"},children:t.description})]}),u.jsxs(\"div\",{style:{marginTop:\"1.5rem\"},children:[u.jsx(\"h3\",{children:\"Budget\"}),u.jsxs(\"p\",{style:{fontSize:\"1.25rem\",fontWeight:\"bold\",marginTop:\"0.5rem\"},children:[\"$\",t.budget_min,\" - $\",t.budget_max,\" \",t.currency]})]}),t.due_at&&u.jsxs(\"div\",{style:{marginTop:\"1.5rem\"},children:[u.jsx(\"h3\",{children:\"Due Date\"}),u.jsx(\"p\",{style:{marginTop:\"0.5rem\"},children:new Date(t.due_at).toLocaleDateString()})]}),t.skills&&t.skills.length>0&&u.jsxs(\"div\",{style:{marginTop:\"1.5rem\"},children:[u.jsx(\"h3\",{children:\"Required Skills\"}),u.jsx(\"div\",{className:\"skills-list\",style:{marginTop:\"0.5rem\"},children:t.skills.map(_=>u.jsx(\"span\",{className:\"skill-tag\",children:_.name},_.id))})]}),u.jsxs(\"div\",{style:{marginTop:\"1.5rem\"},children:[u.jsx(\"h3\",{children:\"Client Information\"}),u.jsxs(\"p\",{style:{marginTop:\"0.5rem\"},children:[u.jsx(\"strong\",{children:\"Company:\"}),\" \",t.company_name,u.jsx(\"br\",{}),u.jsx(\"strong\",{children:\"Contact:\"}),\" \",t.client_name,u.jsx(\"br\",{}),u.jsx(\"strong\",{children:\"Location:\"}),\" \",t.client_country]})]}),u.jsx(\"div\",{style:{marginTop:\"1.5rem\"},children:u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:t.proposal_count}),\" proposal(s) submitted\"]})}),S&&t.status===\"open\"&&u.jsx(\"div\",{style:{marginTop:\"1.5rem\"},children:s?u.jsxs(\"div\",{className:\"card\",style:{backgroundColor:\"#f8f9fa\"},children:[u.jsx(\"h3\",{children:\"Submit Your Proposal\"}),o&&u.jsx(\"div\",{className:\"error-message\",children:o}),v&&u.jsx(\"div\",{className:\"success-message\",children:v}),u.jsxs(\"form\",{onSubmit:j,children:[t.project_type===\"fixed\"?u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"bid_amount\",children:\"Bid Amount ($)\"}),u.jsx(\"input\",{type:\"number\",id:\"bid_amount\",name:\"bid_amount\",value:c.bid_amount,onChange:p,required:!0,min:\"0\",step:\"0.01\",placeholder:\"Enter your bid amount\"})]}):u.jsxs(u.Fragment,{children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"hourly_rate\",children:\"Hourly Rate ($)\"}),u.jsx(\"input\",{type:\"number\",id:\"hourly_rate\",name:\"hourly_rate\",value:c.hourly_rate,onChange:p,required:!0,min:\"0\",step:\"0.01\",placeholder:\"Your hourly rate\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"estimated_hours\",children:\"Estimated Hours\"}),u.jsx(\"input\",{type:\"number\",id:\"estimated_hours\",name:\"estimated_hours\",value:c.estimated_hours,onChange:p,required:!0,min:\"1\",placeholder:\"Estimated hours to complete\"})]})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"cover_letter\",children:\"Cover Letter\"}),u.jsx(\"textarea\",{id:\"cover_letter\",name:\"cover_letter\",value:c.cover_letter,onChange:p,required:!0,placeholder:\"Explain why you're the best fit for this project...\",rows:\"6\"})]}),u.jsxs(\"div\",{style:{display:\"flex\",gap:\"1rem\"},children:[u.jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",disabled:d,children:d?\"Submitting...\":\"Submit Proposal\"}),u.jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>a(!1),disabled:d,children:\"Cancel\"})]})]})]}):u.jsx(\"button\",{onClick:()=>a(!0),className:\"btn btn-success\",children:\"Submit Proposal\"})})]})]}):u.jsx(\"div\",{className:\"container\",children:u.jsx(\"div\",{className:\"error-message\",children:\"Project not found\"})})},Ig=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[l,o]=E.useState(\"\"),{user:i,isFreelancer:s}=rt(),a=Ke();E.useEffect(()=>{if(!s){a(\"/\");return}c()},[s,a]);const c=async()=>{r(!0),o(\"\");try{const d=await Pn.getAll({freelancer_id:i.profile.id});t(d.data.data)}catch(d){o(\"Failed to load proposals\"),console.error(d)}finally{r(!1)}},f=async d=>{if(window.confirm(\"Are you sure you want to withdraw this proposal?\"))try{await Pn.delete(d),t(e.filter(y=>y.id!==d))}catch(y){alert(\"Failed to withdraw proposal\"),console.error(y)}};return n?u.jsx(\"div\",{className:\"container\",children:u.jsx(\"div\",{className:\"loading\",children:\"Loading proposals...\"})}):u.jsxs(\"div\",{className:\"container\",children:[u.jsx(\"h1\",{style:{marginBottom:\"1.5rem\"},children:\"My Proposals\"}),l&&u.jsx(\"div\",{className:\"error-message\",children:l}),e.length===0?u.jsxs(\"div\",{className:\"empty-state\",children:[u.jsx(\"h3\",{children:\"No proposals yet\"}),u.jsx(\"p\",{children:\"Browse projects and submit proposals to get started\"}),u.jsx(\"button\",{onClick:()=>a(\"/\"),className:\"btn btn-primary\",style:{marginTop:\"1rem\"},children:\"Browse Projects\"})]}):u.jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"1rem\"},children:e.map(d=>u.jsx(\"div\",{className:\"card\",children:u.jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"start\"},children:[u.jsxs(\"div\",{style:{flex:1},children:[u.jsx(\"h3\",{style:{cursor:\"pointer\",color:\"#3498db\"},onClick:()=>a(`/projects/${d.project_id}`),children:d.project_title}),u.jsx(\"div\",{className:`status-badge status-${d.status}`,style:{marginTop:\"0.5rem\"},children:d.status}),u.jsxs(\"div\",{style:{marginTop:\"1rem\"},children:[d.bid_amount&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Bid Amount:\"}),\" $\",d.bid_amount]}),d.hourly_rate&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Hourly Rate:\"}),\" $\",d.hourly_rate,\"/hr\"]}),d.estimated_hours&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Estimated Hours:\"}),\" \",d.estimated_hours,\"h\"]})]}),d.cover_letter&&u.jsxs(\"div\",{style:{marginTop:\"1rem\"},children:[u.jsx(\"strong\",{children:\"Cover Letter:\"}),u.jsxs(\"p\",{style:{whiteSpace:\"pre-wrap\",marginTop:\"0.5rem\"},children:[d.cover_letter.substring(0,200),d.cover_letter.length>200&&\"...\"]})]}),u.jsxs(\"p\",{style:{marginTop:\"1rem\",fontSize:\"0.875rem\",color:\"#666\"},children:[\"Submitted: \",new Date(d.submitted_at).toLocaleDateString()]})]}),d.status===\"pending\"&&u.jsx(\"button\",{onClick:()=>f(d.id),className:\"btn btn-danger\",children:\"Withdraw\"})]})},d.id))})]})},Mg=()=>{const[e,t]=E.useState([]),[n,r]=E.useState(!0),[l,o]=E.useState(\"\"),[i,s]=E.useState(null),[a,c]=E.useState([]),{user:f,isClient:d}=rt(),y=Ke();E.useEffect(()=>{if(!d){y(\"/\");return}v()},[d,y]);const v=async()=>{r(!0),o(\"\");try{const j=(await Nn.getAll()).data.data.filter(_=>_.client_id===f.profile.id);t(j)}catch(p){o(\"Failed to load projects\"),console.error(p)}finally{r(!1)}},g=async p=>{try{const j=await Pn.getAll({project_id:p});c(j.data.data)}catch(j){console.error(\"Failed to load proposals:\",j)}},x=p=>{s(p),g(p.id)},S=async p=>{if(window.confirm(\"Are you sure you want to accept this proposal?\"))try{await Pn.update(p,{status:\"accepted\"}),await Nn.update(i.id,{status:\"in-progress\"}),alert(\"Proposal accepted!\"),g(i.id),v()}catch(j){alert(\"Failed to accept proposal\"),console.error(j)}},m=async p=>{if(window.confirm(\"Are you sure you want to reject this proposal?\"))try{await Pn.update(p,{status:\"rejected\"}),g(i.id)}catch(j){alert(\"Failed to reject proposal\"),console.error(j)}},h=async p=>{if(window.confirm(\"Are you sure you want to delete this project?\"))try{await Nn.delete(p),t(e.filter(j=>j.id!==p))}catch(j){alert(\"Failed to delete project\"),console.error(j)}};return n?u.jsx(\"div\",{className:\"container\",children:u.jsx(\"div\",{className:\"loading\",children:\"Loading projects...\"})}):u.jsxs(\"div\",{className:\"container\",children:[u.jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"1.5rem\"},children:[u.jsx(\"h1\",{children:\"My Projects\"}),u.jsx(\"button\",{onClick:()=>y(\"/create-project\"),className:\"btn btn-success\",children:\"Create New Project\"})]}),l&&u.jsx(\"div\",{className:\"error-message\",children:l}),e.length===0?u.jsxs(\"div\",{className:\"empty-state\",children:[u.jsx(\"h3\",{children:\"No projects yet\"}),u.jsx(\"p\",{children:\"Create your first project to get started\"}),u.jsx(\"button\",{onClick:()=>y(\"/create-project\"),className:\"btn btn-primary\",style:{marginTop:\"1rem\"},children:\"Create Project\"})]}):u.jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"1rem\"},children:e.map(p=>{var j,_;return u.jsx(\"div\",{className:\"card\",children:u.jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"start\"},children:[u.jsxs(\"div\",{style:{flex:1},children:[u.jsx(\"h3\",{children:p.title}),u.jsx(\"div\",{className:`status-badge status-${p.status}`,style:{marginTop:\"0.5rem\"},children:p.status}),u.jsxs(\"p\",{style:{marginTop:\"1rem\",color:\"#666\"},children:[(j=p.description)==null?void 0:j.substring(0,200),((_=p.description)==null?void 0:_.length)>200&&\"...\"]}),u.jsxs(\"div\",{className:\"project-meta\",style:{marginTop:\"1rem\"},children:[u.jsxs(\"span\",{children:[\"Type: \",p.project_type]}),u.jsxs(\"span\",{children:[\"Budget: $\",p.budget_min,\" - $\",p.budget_max]}),u.jsxs(\"span\",{children:[p.proposal_count,\" proposals\"]})]})]}),u.jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"0.5rem\"},children:[u.jsxs(\"button\",{onClick:()=>x(p),className:\"btn btn-primary\",children:[\"View Proposals (\",p.proposal_count,\")\"]}),u.jsx(\"button\",{onClick:()=>y(`/projects/${p.id}`),className:\"btn btn-secondary\",children:\"View Details\"}),p.status===\"open\"&&u.jsx(\"button\",{onClick:()=>h(p.id),className:\"btn btn-danger\",children:\"Delete\"})]})]})},p.id)})}),i&&u.jsx(\"div\",{style:{position:\"fixed\",top:0,left:0,right:0,bottom:0,backgroundColor:\"rgba(0,0,0,0.5)\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"1rem\",zIndex:1e3},onClick:()=>s(null),children:u.jsxs(\"div\",{style:{backgroundColor:\"white\",borderRadius:\"8px\",padding:\"2rem\",maxWidth:\"800px\",width:\"100%\",maxHeight:\"80vh\",overflow:\"auto\"},onClick:p=>p.stopPropagation(),children:[u.jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"1rem\"},children:[u.jsxs(\"h2\",{children:['Proposals for \"',i.title,'\"']}),u.jsx(\"button\",{onClick:()=>s(null),className:\"btn btn-secondary\",children:\"Close\"})]}),a.length===0?u.jsx(\"div\",{className:\"empty-state\",children:u.jsx(\"p\",{children:\"No proposals yet\"})}):u.jsx(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"1rem\"},children:a.map(p=>u.jsx(\"div\",{className:\"card\",style:{backgroundColor:\"#f8f9fa\"},children:u.jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"start\"},children:[u.jsxs(\"div\",{style:{flex:1},children:[u.jsx(\"h3\",{children:p.freelancer_name}),u.jsx(\"div\",{className:`status-badge status-${p.status}`,style:{marginTop:\"0.5rem\"},children:p.status}),u.jsxs(\"div\",{style:{marginTop:\"1rem\"},children:[p.bid_amount&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Bid Amount:\"}),\" $\",p.bid_amount]}),p.hourly_rate&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Hourly Rate:\"}),\" $\",p.hourly_rate,\"/hr\"]}),p.estimated_hours&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Estimated Hours:\"}),\" \",p.estimated_hours,\"h\"]}),p.freelancer_rating&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Rating:\"}),\" \",p.freelancer_rating,\" / 5\"]})]}),p.cover_letter&&u.jsxs(\"div\",{style:{marginTop:\"1rem\"},children:[u.jsx(\"strong\",{children:\"Cover Letter:\"}),u.jsx(\"p\",{style:{whiteSpace:\"pre-wrap\",marginTop:\"0.5rem\"},children:p.cover_letter})]}),u.jsxs(\"p\",{style:{marginTop:\"1rem\",fontSize:\"0.875rem\",color:\"#666\"},children:[\"Submitted: \",new Date(p.submitted_at).toLocaleDateString()]})]}),p.status===\"pending\"&&u.jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"0.5rem\"},children:[u.jsx(\"button\",{onClick:()=>S(p.id),className:\"btn btn-success\",children:\"Accept\"}),u.jsx(\"button\",{onClick:()=>m(p.id),className:\"btn btn-danger\",children:\"Reject\"})]})]})},p.id))})]})})]})},Bg=()=>{const[e,t]=E.useState({title:\"\",description:\"\",project_type:\"fixed\",budget_min:\"\",budget_max:\"\",currency:\"USD\",due_at:\"\"}),[n,r]=E.useState(\"\"),[l,o]=E.useState(!1),{user:i,isClient:s}=rt(),a=Ke();Zi.useEffect(()=>{s||a(\"/\")},[s,a]);const c=d=>{t({...e,[d.target.name]:d.target.value})},f=async d=>{var y,v;d.preventDefault(),r(\"\"),o(!0);try{const g={client_id:i.profile.id,title:e.title,description:e.description,project_type:e.project_type,budget_min:e.budget_min?parseFloat(e.budget_min):null,budget_max:e.budget_max?parseFloat(e.budget_max):null,currency:e.currency,due_at:e.due_at||null},x=await Nn.create(g);a(`/projects/${x.data.data.id}`)}catch(g){r(((v=(y=g.response)==null?void 0:y.data)==null?void 0:v.message)||\"Failed to create project\")}finally{o(!1)}};return u.jsxs(\"div\",{className:\"container\",children:[u.jsx(\"button\",{onClick:()=>a(-1),className:\"btn btn-secondary\",style:{marginBottom:\"1rem\"},children:\"Back\"}),u.jsxs(\"div\",{className:\"card\",children:[u.jsx(\"h1\",{style:{marginBottom:\"1.5rem\"},children:\"Create New Project\"}),n&&u.jsx(\"div\",{className:\"error-message\",children:n}),u.jsxs(\"form\",{onSubmit:f,children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"title\",children:\"Project Title *\"}),u.jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:e.title,onChange:c,required:!0,placeholder:\"e.g., Build a responsive website\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"description\",children:\"Description *\"}),u.jsx(\"textarea\",{id:\"description\",name:\"description\",value:e.description,onChange:c,required:!0,rows:\"6\",placeholder:\"Describe your project in detail...\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"project_type\",children:\"Project Type *\"}),u.jsxs(\"select\",{id:\"project_type\",name:\"project_type\",value:e.project_type,onChange:c,required:!0,children:[u.jsx(\"option\",{value:\"fixed\",children:\"Fixed Price\"}),u.jsx(\"option\",{value:\"hourly\",children:\"Hourly\"})]})]}),u.jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr 1fr\",gap:\"1rem\"},children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"budget_min\",children:\"Minimum Budget ($)\"}),u.jsx(\"input\",{type:\"number\",id:\"budget_min\",name:\"budget_min\",value:e.budget_min,onChange:c,min:\"0\",step:\"0.01\",placeholder:\"500\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"budget_max\",children:\"Maximum Budget ($)\"}),u.jsx(\"input\",{type:\"number\",id:\"budget_max\",name:\"budget_max\",value:e.budget_max,onChange:c,min:\"0\",step:\"0.01\",placeholder:\"2000\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"currency\",children:\"Currency\"}),u.jsxs(\"select\",{id:\"currency\",name:\"currency\",value:e.currency,onChange:c,children:[u.jsx(\"option\",{value:\"USD\",children:\"USD\"}),u.jsx(\"option\",{value:\"EUR\",children:\"EUR\"}),u.jsx(\"option\",{value:\"GBP\",children:\"GBP\"}),u.jsx(\"option\",{value:\"CAD\",children:\"CAD\"}),u.jsx(\"option\",{value:\"AUD\",children:\"AUD\"})]})]})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"due_at\",children:\"Due Date (optional)\"}),u.jsx(\"input\",{type:\"date\",id:\"due_at\",name:\"due_at\",value:e.due_at,onChange:c,min:new Date().toISOString().split(\"T\")[0]})]}),u.jsxs(\"div\",{style:{display:\"flex\",gap:\"1rem\"},children:[u.jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",disabled:l,children:l?\"Creating...\":\"Create Project\"}),u.jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>a(-1),disabled:l,children:\"Cancel\"})]})]})]})]})},$g=()=>{const{user:e,updateUser:t}=rt(),[n,r]=E.useState({first_name:e.first_name||\"\",last_name:e.last_name||\"\",phone:e.phone||\"\",country:e.country||\"\"}),[l,o]=E.useState(\"\"),[i,s]=E.useState(\"\"),[a,c]=E.useState(!1),f=Ke(),d=v=>{r({...n,[v.target.name]:v.target.value})},y=async v=>{var g,x;v.preventDefault(),o(\"\"),s(\"\"),c(!0);try{const S=await ql.update(e.id,n);t({...e,...S.data.data}),s(\"Profile updated successfully!\")}catch(S){o(((x=(g=S.response)==null?void 0:g.data)==null?void 0:x.message)||\"Failed to update profile\")}finally{c(!1)}};return u.jsxs(\"div\",{className:\"container\",children:[u.jsx(\"button\",{onClick:()=>f(-1),className:\"btn btn-secondary\",style:{marginBottom:\"1rem\"},children:\"Back\"}),u.jsxs(\"div\",{className:\"card\",children:[u.jsx(\"h1\",{style:{marginBottom:\"1.5rem\"},children:\"My Profile\"}),l&&u.jsx(\"div\",{className:\"error-message\",children:l}),i&&u.jsx(\"div\",{className:\"success-message\",children:i}),u.jsxs(\"div\",{style:{marginBottom:\"2rem\",padding:\"1rem\",backgroundColor:\"#f8f9fa\",borderRadius:\"4px\"},children:[u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Email:\"}),\" \",e.email]}),u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Role:\"}),\" \",e.role]}),u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Account Status:\"}),\" \",e.is_verified?\"Verified\":\"Not Verified\"]}),u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Member Since:\"}),\" \",new Date(e.created_at).toLocaleDateString()]})]}),u.jsx(\"h2\",{style:{marginBottom:\"1rem\"},children:\"Update Profile Information\"}),u.jsxs(\"form\",{onSubmit:y,children:[u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name\"}),u.jsx(\"input\",{type:\"text\",id:\"first_name\",name:\"first_name\",value:n.first_name,onChange:d,placeholder:\"John\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"last_name\",children:\"Last Name\"}),u.jsx(\"input\",{type:\"text\",id:\"last_name\",name:\"last_name\",value:n.last_name,onChange:d,placeholder:\"Doe\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),u.jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",value:n.phone,onChange:d,placeholder:\"+1234567890\"})]}),u.jsxs(\"div\",{className:\"form-group\",children:[u.jsx(\"label\",{htmlFor:\"country\",children:\"Country\"}),u.jsx(\"input\",{type:\"text\",id:\"country\",name:\"country\",value:n.country,onChange:d,placeholder:\"USA\"})]}),u.jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:a,children:a?\"Updating...\":\"Update Profile\"})]}),e.profile&&u.jsxs(\"div\",{style:{marginTop:\"2rem\"},children:[u.jsxs(\"h2\",{style:{marginBottom:\"1rem\"},children:[e.role===\"freelancer\"?\"Freelancer\":\"Client\",\" Profile\"]}),e.role===\"freelancer\"&&u.jsxs(\"div\",{style:{padding:\"1rem\",backgroundColor:\"#f8f9fa\",borderRadius:\"4px\"},children:[e.profile.headline&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Headline:\"}),\" \",e.profile.headline]}),e.profile.bio&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Bio:\"}),\" \",e.profile.bio]}),e.profile.hourly_rate&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Hourly Rate:\"}),\" $\",e.profile.hourly_rate,\"/hr\"]}),e.profile.experience_years!==null&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Experience:\"}),\" \",e.profile.experience_years,\" years\"]}),e.profile.rating_avg&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Rating:\"}),\" \",e.profile.rating_avg,\" / 5 (\",e.profile.rating_count,\" reviews)\"]})]}),e.role===\"client\"&&u.jsxs(\"div\",{style:{padding:\"1rem\",backgroundColor:\"#f8f9fa\",borderRadius:\"4px\"},children:[e.profile.company_name&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Company:\"}),\" \",e.profile.company_name]}),e.profile.company_size&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Company Size:\"}),\" \",e.profile.company_size]}),e.profile.website&&u.jsxs(\"p\",{children:[u.jsx(\"strong\",{children:\"Website:\"}),\" \",u.jsx(\"a\",{href:e.profile.website,target:\"_blank\",rel:\"noopener noreferrer\",children:e.profile.website})]})]})]})]})]})},an=({children:e})=>{const{isAuthenticated:t}=rt();return t?e:u.jsx(Zd,{to:\"/login\"})};function Hg(){return u.jsxs(u.Fragment,{children:[u.jsx(ry,{}),u.jsxs(Qm,{children:[u.jsx(Ze,{path:\"/login\",element:u.jsx(zg,{})}),u.jsx(Ze,{path:\"/register\",element:u.jsx(Dg,{})}),u.jsx(Ze,{path:\"/\",element:u.jsx(an,{children:u.jsx(Ag,{})})}),u.jsx(Ze,{path:\"/projects/:id\",element:u.jsx(an,{children:u.jsx(Ug,{})})}),u.jsx(Ze,{path:\"/my-proposals\",element:u.jsx(an,{children:u.jsx(Ig,{})})}),u.jsx(Ze,{path:\"/my-projects\",element:u.jsx(an,{children:u.jsx(Mg,{})})}),u.jsx(Ze,{path:\"/create-project\",element:u.jsx(an,{children:u.jsx(Bg,{})})}),u.jsx(Ze,{path:\"/profile\",element:u.jsx(an,{children:u.jsx($g,{})})}),u.jsx(Ze,{path:\"*\",element:u.jsx(Zd,{to:\"/\"})})]})]})}function Vg(){return u.jsx(Zm,{children:u.jsx(ny,{children:u.jsx(Hg,{})})})}qo.createRoot(document.getElementById(\"root\")).render(u.jsx(Zi.StrictMode,{children:u.jsx(Vg,{})}));\n"
    },
    "src\\db\\generateHashes.js": {
      "content": "const bcrypt = require('bcrypt');\n\n/**\n * Generate bcrypt hashes for seed data passwords\n * Run this with: node src/db/generateHashes.js\n */\n\nconst seedPasswords = {\n  jane: 'Password123!',\n  hiro: 'Password123!',\n  john: 'Password123!',\n  priya: 'Password123!',\n  carlos: 'Password123!',\n  ava: 'Admin123!'\n};\n\nconst generateHashes = async () => {\n  console.log('Generating bcrypt hashes for seed data...\\n');\n  console.log('Use these credentials to log in:');\n  console.log('='.repeat(60));\n\n  for (const [name, password] of Object.entries(seedPasswords)) {\n    const hash = await bcrypt.hash(password, 10);\n    console.log(`\\n${name.toUpperCase()}:`);\n    console.log(`  Email: ${name}.${name === 'ava' ? 'admin' : (name === 'jane' || name === 'hiro') ? 'client' : 'freelancer'}@example.com`);\n    console.log(`  Password: ${password}`);\n    console.log(`  Hash: '${hash}'`);\n  }\n\n  console.log('\\n' + '='.repeat(60));\n  console.log('\\nCopy the hashes above into src/db/seed.js');\n};\n\ngenerateHashes().catch(console.error);\n"
    },
    "client\\dist\\assets\\index-Ba-r_W9w.css": {
      "content": "*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#f5f5f5;color:#333}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.navbar{background-color:#2c3e50;color:#fff;padding:1rem 2rem;box-shadow:0 2px 4px #0000001a}.navbar-container{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.navbar h1{font-size:1.5rem;cursor:pointer}.navbar nav{display:flex;gap:1.5rem;align-items:center}.navbar a{color:#fff;text-decoration:none;font-weight:500;transition:opacity .2s}.navbar a:hover{opacity:.8}.navbar button{background-color:#e74c3c;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer;font-weight:500;transition:background-color .2s}.navbar button:hover{background-color:#c0392b}.container{max-width:1200px;margin:2rem auto;padding:0 1rem}.card{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;margin-bottom:1.5rem}.card h2{margin-bottom:1rem;color:#2c3e50}.form-group{margin-bottom:1.5rem}.form-group label{display:block;margin-bottom:.5rem;font-weight:500;color:#2c3e50}.form-group input,.form-group textarea,.form-group select{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;font-family:inherit}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:#3498db}.form-group textarea{resize:vertical;min-height:100px}.btn{padding:.75rem 1.5rem;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary{background-color:#3498db;color:#fff}.btn-primary:hover{background-color:#2980b9}.btn-success{background-color:#27ae60;color:#fff}.btn-success:hover{background-color:#229954}.btn-danger{background-color:#e74c3c;color:#fff}.btn-danger:hover{background-color:#c0392b}.btn-secondary{background-color:#95a5a6;color:#fff}.btn-secondary:hover{background-color:#7f8c8d}.projects-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.project-card{background:#fff;border-radius:8px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:transform .2s,box-shadow .2s}.project-card:hover{transform:translateY(-4px);box-shadow:0 4px 12px #00000026}.project-card h3{color:#2c3e50;margin-bottom:.5rem}.project-meta{display:flex;gap:1rem;margin-top:1rem;font-size:.875rem;color:#666}.project-type{display:inline-block;padding:.25rem .75rem;background-color:#ecf0f1;border-radius:12px;font-size:.875rem;margin-top:.5rem}.skills-list{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:1rem}.skill-tag{background-color:#3498db;color:#fff;padding:.25rem .75rem;border-radius:12px;font-size:.875rem}.status-badge{display:inline-block;padding:.25rem .75rem;border-radius:12px;font-size:.875rem;font-weight:500}.status-open{background-color:#d4edda;color:#155724}.status-in-progress{background-color:#fff3cd;color:#856404}.status-completed{background-color:#cce5ff;color:#004085}.status-pending{background-color:#fff3cd;color:#856404}.status-accepted{background-color:#d4edda;color:#155724}.status-rejected{background-color:#f8d7da;color:#721c24}.auth-container{max-width:400px;margin:4rem auto}.auth-card{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 8px #0000001a}.auth-card h2{text-align:center;margin-bottom:1.5rem;color:#2c3e50}.auth-toggle{text-align:center;margin-top:1rem}.auth-toggle a{color:#3498db;text-decoration:none}.auth-toggle a:hover{text-decoration:underline}.error-message{background-color:#f8d7da;color:#721c24;padding:.75rem;border-radius:4px;margin-bottom:1rem;border:1px solid #f5c6cb}.success-message{background-color:#d4edda;color:#155724;padding:.75rem;border-radius:4px;margin-bottom:1rem;border:1px solid #c3e6cb}.loading{text-align:center;padding:2rem;color:#666}.empty-state{text-align:center;padding:3rem;color:#666}.empty-state h3{margin-bottom:.5rem}.filters{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin-bottom:1.5rem}.filters-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 768px){.navbar-container{flex-direction:column;gap:1rem}.projects-grid,.filters-row{grid-template-columns:1fr}}\n"
    },
    "client\\src\\pages\\ProjectDetail.jsx": {
      "content": "import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { projectsAPI, proposalsAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst ProjectDetail = () => {\n  const { id } = useParams();\n  const [project, setProject] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showProposalForm, setShowProposalForm] = useState(false);\n  const [proposalData, setProposalData] = useState({\n    bid_amount: '',\n    hourly_rate: '',\n    estimated_hours: '',\n    cover_letter: '',\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [success, setSuccess] = useState('');\n  const { user, isFreelancer } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchProject();\n  }, [id]);\n\n  const fetchProject = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await projectsAPI.getById(id);\n      setProject(response.data.data);\n    } catch (err) {\n      setError('Failed to load project');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleProposalChange = (e) => {\n    setProposalData({\n      ...proposalData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmitProposal = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const data = {\n        project_id: id,\n        bid_amount: proposalData.bid_amount ? parseFloat(proposalData.bid_amount) : null,\n        hourly_rate: proposalData.hourly_rate ? parseFloat(proposalData.hourly_rate) : null,\n        estimated_hours: proposalData.estimated_hours ? parseInt(proposalData.estimated_hours) : null,\n        cover_letter: proposalData.cover_letter,\n      };\n\n      await proposalsAPI.create(data);\n      setSuccess('Proposal submitted successfully!');\n      setShowProposalForm(false);\n      setProposalData({\n        bid_amount: '',\n        hourly_rate: '',\n        estimated_hours: '',\n        cover_letter: '',\n      });\n      // Refresh project to update proposal count\n      fetchProject();\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to submit proposal');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">Loading project...</div>\n      </div>\n    );\n  }\n\n  if (!project) {\n    return (\n      <div className=\"container\">\n        <div className=\"error-message\">Project not found</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <button onClick={() => navigate(-1)} className=\"btn btn-secondary\" style={{ marginBottom: '1rem' }}>\n        Back\n      </button>\n\n      <div className=\"card\">\n        <h1 style={{ marginBottom: '1rem' }}>{project.title}</h1>\n        <div className={`status-badge status-${project.status}`} style={{ marginBottom: '1rem' }}>\n          {project.status}\n        </div>\n        <div className=\"project-type\">{project.project_type}</div>\n\n        <div style={{ marginTop: '1.5rem' }}>\n          <h3>Description</h3>\n          <p style={{ whiteSpace: 'pre-wrap', marginTop: '0.5rem' }}>{project.description}</p>\n        </div>\n\n        <div style={{ marginTop: '1.5rem' }}>\n          <h3>Budget</h3>\n          <p style={{ fontSize: '1.25rem', fontWeight: 'bold', marginTop: '0.5rem' }}>\n            ${project.budget_min} - ${project.budget_max} {project.currency}\n          </p>\n        </div>\n\n        {project.due_at && (\n          <div style={{ marginTop: '1.5rem' }}>\n            <h3>Due Date</h3>\n            <p style={{ marginTop: '0.5rem' }}>{new Date(project.due_at).toLocaleDateString()}</p>\n          </div>\n        )}\n\n        {project.skills && project.skills.length > 0 && (\n          <div style={{ marginTop: '1.5rem' }}>\n            <h3>Required Skills</h3>\n            <div className=\"skills-list\" style={{ marginTop: '0.5rem' }}>\n              {project.skills.map((skill) => (\n                <span key={skill.id} className=\"skill-tag\">\n                  {skill.name}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <div style={{ marginTop: '1.5rem' }}>\n          <h3>Client Information</h3>\n          <p style={{ marginTop: '0.5rem' }}>\n            <strong>Company:</strong> {project.company_name}\n            <br />\n            <strong>Contact:</strong> {project.client_name}\n            <br />\n            <strong>Location:</strong> {project.client_country}\n          </p>\n        </div>\n\n        <div style={{ marginTop: '1.5rem' }}>\n          <p>\n            <strong>{project.proposal_count}</strong> proposal(s) submitted\n          </p>\n        </div>\n\n        {isFreelancer && project.status === 'open' && (\n          <div style={{ marginTop: '1.5rem' }}>\n            {!showProposalForm ? (\n              <button onClick={() => setShowProposalForm(true)} className=\"btn btn-success\">\n                Submit Proposal\n              </button>\n            ) : (\n              <div className=\"card\" style={{ backgroundColor: '#f8f9fa' }}>\n                <h3>Submit Your Proposal</h3>\n                {error && <div className=\"error-message\">{error}</div>}\n                {success && <div className=\"success-message\">{success}</div>}\n                <form onSubmit={handleSubmitProposal}>\n                  {project.project_type === 'fixed' ? (\n                    <div className=\"form-group\">\n                      <label htmlFor=\"bid_amount\">Bid Amount ($)</label>\n                      <input\n                        type=\"number\"\n                        id=\"bid_amount\"\n                        name=\"bid_amount\"\n                        value={proposalData.bid_amount}\n                        onChange={handleProposalChange}\n                        required\n                        min=\"0\"\n                        step=\"0.01\"\n                        placeholder=\"Enter your bid amount\"\n                      />\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"hourly_rate\">Hourly Rate ($)</label>\n                        <input\n                          type=\"number\"\n                          id=\"hourly_rate\"\n                          name=\"hourly_rate\"\n                          value={proposalData.hourly_rate}\n                          onChange={handleProposalChange}\n                          required\n                          min=\"0\"\n                          step=\"0.01\"\n                          placeholder=\"Your hourly rate\"\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <label htmlFor=\"estimated_hours\">Estimated Hours</label>\n                        <input\n                          type=\"number\"\n                          id=\"estimated_hours\"\n                          name=\"estimated_hours\"\n                          value={proposalData.estimated_hours}\n                          onChange={handleProposalChange}\n                          required\n                          min=\"1\"\n                          placeholder=\"Estimated hours to complete\"\n                        />\n                      </div>\n                    </>\n                  )}\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"cover_letter\">Cover Letter</label>\n                    <textarea\n                      id=\"cover_letter\"\n                      name=\"cover_letter\"\n                      value={proposalData.cover_letter}\n                      onChange={handleProposalChange}\n                      required\n                      placeholder=\"Explain why you're the best fit for this project...\"\n                      rows=\"6\"\n                    />\n                  </div>\n\n                  <div style={{ display: 'flex', gap: '1rem' }}>\n                    <button type=\"submit\" className=\"btn btn-success\" disabled={submitting}>\n                      {submitting ? 'Submitting...' : 'Submit Proposal'}\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      onClick={() => setShowProposalForm(false)}\n                      disabled={submitting}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </form>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDetail;\n"
    },
    "client\\src\\pages\\Profile.jsx": {
      "content": "import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { usersAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst Profile = () => {\n  const { user, updateUser } = useAuth();\n  const [formData, setFormData] = useState({\n    first_name: user.first_name || '',\n    last_name: user.last_name || '',\n    phone: user.phone || '',\n    country: user.country || '',\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setLoading(true);\n\n    try {\n      const response = await usersAPI.update(user.id, formData);\n      updateUser({ ...user, ...response.data.data });\n      setSuccess('Profile updated successfully!');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <button onClick={() => navigate(-1)} className=\"btn btn-secondary\" style={{ marginBottom: '1rem' }}>\n        Back\n      </button>\n\n      <div className=\"card\">\n        <h1 style={{ marginBottom: '1.5rem' }}>My Profile</h1>\n\n        {error && <div className=\"error-message\">{error}</div>}\n        {success && <div className=\"success-message\">{success}</div>}\n\n        <div style={{ marginBottom: '2rem', padding: '1rem', backgroundColor: '#f8f9fa', borderRadius: '4px' }}>\n          <p>\n            <strong>Email:</strong> {user.email}\n          </p>\n          <p>\n            <strong>Role:</strong> {user.role}\n          </p>\n          <p>\n            <strong>Account Status:</strong> {user.is_verified ? 'Verified' : 'Not Verified'}\n          </p>\n          <p>\n            <strong>Member Since:</strong> {new Date(user.created_at).toLocaleDateString()}\n          </p>\n        </div>\n\n        <h2 style={{ marginBottom: '1rem' }}>Update Profile Information</h2>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"first_name\">First Name</label>\n            <input\n              type=\"text\"\n              id=\"first_name\"\n              name=\"first_name\"\n              value={formData.first_name}\n              onChange={handleChange}\n              placeholder=\"John\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"last_name\">Last Name</label>\n            <input\n              type=\"text\"\n              id=\"last_name\"\n              name=\"last_name\"\n              value={formData.last_name}\n              onChange={handleChange}\n              placeholder=\"Doe\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"phone\">Phone</label>\n            <input\n              type=\"tel\"\n              id=\"phone\"\n              name=\"phone\"\n              value={formData.phone}\n              onChange={handleChange}\n              placeholder=\"+1234567890\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"country\">Country</label>\n            <input\n              type=\"text\"\n              id=\"country\"\n              name=\"country\"\n              value={formData.country}\n              onChange={handleChange}\n              placeholder=\"USA\"\n            />\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n            {loading ? 'Updating...' : 'Update Profile'}\n          </button>\n        </form>\n\n        {user.profile && (\n          <div style={{ marginTop: '2rem' }}>\n            <h2 style={{ marginBottom: '1rem' }}>\n              {user.role === 'freelancer' ? 'Freelancer' : 'Client'} Profile\n            </h2>\n\n            {user.role === 'freelancer' && (\n              <div style={{ padding: '1rem', backgroundColor: '#f8f9fa', borderRadius: '4px' }}>\n                {user.profile.headline && (\n                  <p>\n                    <strong>Headline:</strong> {user.profile.headline}\n                  </p>\n                )}\n                {user.profile.bio && (\n                  <p>\n                    <strong>Bio:</strong> {user.profile.bio}\n                  </p>\n                )}\n                {user.profile.hourly_rate && (\n                  <p>\n                    <strong>Hourly Rate:</strong> ${user.profile.hourly_rate}/hr\n                  </p>\n                )}\n                {user.profile.experience_years !== null && (\n                  <p>\n                    <strong>Experience:</strong> {user.profile.experience_years} years\n                  </p>\n                )}\n                {user.profile.rating_avg && (\n                  <p>\n                    <strong>Rating:</strong> {user.profile.rating_avg} / 5 ({user.profile.rating_count} reviews)\n                  </p>\n                )}\n              </div>\n            )}\n\n            {user.role === 'client' && (\n              <div style={{ padding: '1rem', backgroundColor: '#f8f9fa', borderRadius: '4px' }}>\n                {user.profile.company_name && (\n                  <p>\n                    <strong>Company:</strong> {user.profile.company_name}\n                  </p>\n                )}\n                {user.profile.company_size && (\n                  <p>\n                    <strong>Company Size:</strong> {user.profile.company_size}\n                  </p>\n                )}\n                {user.profile.website && (\n                  <p>\n                    <strong>Website:</strong>{' '}\n                    <a href={user.profile.website} target=\"_blank\" rel=\"noopener noreferrer\">\n                      {user.profile.website}\n                    </a>\n                  </p>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"
    },
    "client\\src\\pages\\MyProposals.jsx": {
      "content": "import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { proposalsAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst MyProposals = () => {\n  const [proposals, setProposals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const { user, isFreelancer } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!isFreelancer) {\n      navigate('/');\n      return;\n    }\n    fetchProposals();\n  }, [isFreelancer, navigate]);\n\n  const fetchProposals = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await proposalsAPI.getAll({\n        freelancer_id: user.profile.id,\n      });\n      setProposals(response.data.data);\n    } catch (err) {\n      setError('Failed to load proposals');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleWithdraw = async (proposalId) => {\n    if (!window.confirm('Are you sure you want to withdraw this proposal?')) {\n      return;\n    }\n\n    try {\n      await proposalsAPI.delete(proposalId);\n      setProposals(proposals.filter((p) => p.id !== proposalId));\n    } catch (err) {\n      alert('Failed to withdraw proposal');\n      console.error(err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">Loading proposals...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 style={{ marginBottom: '1.5rem' }}>My Proposals</h1>\n\n      {error && <div className=\"error-message\">{error}</div>}\n\n      {proposals.length === 0 ? (\n        <div className=\"empty-state\">\n          <h3>No proposals yet</h3>\n          <p>Browse projects and submit proposals to get started</p>\n          <button onClick={() => navigate('/')} className=\"btn btn-primary\" style={{ marginTop: '1rem' }}>\n            Browse Projects\n          </button>\n        </div>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          {proposals.map((proposal) => (\n            <div key={proposal.id} className=\"card\">\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\n                <div style={{ flex: 1 }}>\n                  <h3\n                    style={{ cursor: 'pointer', color: '#3498db' }}\n                    onClick={() => navigate(`/projects/${proposal.project_id}`)}\n                  >\n                    {proposal.project_title}\n                  </h3>\n                  <div className={`status-badge status-${proposal.status}`} style={{ marginTop: '0.5rem' }}>\n                    {proposal.status}\n                  </div>\n\n                  <div style={{ marginTop: '1rem' }}>\n                    {proposal.bid_amount && (\n                      <p>\n                        <strong>Bid Amount:</strong> ${proposal.bid_amount}\n                      </p>\n                    )}\n                    {proposal.hourly_rate && (\n                      <p>\n                        <strong>Hourly Rate:</strong> ${proposal.hourly_rate}/hr\n                      </p>\n                    )}\n                    {proposal.hourly_rate && proposal.estimated_hours && (\n                      <p>\n                        <strong>Estimated Hours:</strong> {proposal.estimated_hours}h\n                      </p>\n                    )}\n                  </div>\n\n                  {proposal.cover_letter && (\n                    <div style={{ marginTop: '1rem' }}>\n                      <strong>Cover Letter:</strong>\n                      <p style={{ whiteSpace: 'pre-wrap', marginTop: '0.5rem' }}>\n                        {proposal.cover_letter.substring(0, 200)}\n                        {proposal.cover_letter.length > 200 && '...'}\n                      </p>\n                    </div>\n                  )}\n\n                  <p style={{ marginTop: '1rem', fontSize: '0.875rem', color: '#666' }}>\n                    Submitted: {new Date(proposal.submitted_at).toLocaleDateString()}\n                  </p>\n                </div>\n\n                {proposal.status === 'pending' && (\n                  <button onClick={() => handleWithdraw(proposal.id)} className=\"btn btn-danger\">\n                    Withdraw\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyProposals;\n"
    },
    "client\\src\\pages\\MyProjects.jsx": {
      "content": "import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { projectsAPI, proposalsAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\nconst MyProjects = () => {\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [proposals, setProposals] = useState([]);\n  const [filterStatus, setFilterStatus] = useState('all');\n  const { user, isClient } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!isClient) {\n      navigate('/');\n      return;\n    }\n    fetchProjects();\n  }, [isClient, navigate]);\n\n  const fetchProjects = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      // Get all projects and filter by client_id\n      const response = await projectsAPI.getAll();\n      const clientProjects = response.data.data.filter((p) => p.client_id === user.profile.id);\n      setProjects(clientProjects);\n    } catch (err) {\n      setError('Failed to load projects');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProposals = async (projectId) => {\n    try {\n      const response = await proposalsAPI.getAll({ project_id: projectId });\n      setProposals(response.data.data);\n    } catch (err) {\n      console.error('Failed to load proposals:', err);\n    }\n  };\n\n  const handleViewProposals = (project) => {\n    setSelectedProject(project);\n    setFilterStatus('all');\n    fetchProposals(project.id);\n  };\n\n  const handleAcceptProposal = async (proposalId) => {\n    if (!window.confirm('Are you sure you want to accept this proposal? This will reject all other proposals, mark the project as awarded, and create a contract.')) {\n      return;\n    }\n\n    try {\n      const response = await proposalsAPI.accept(proposalId);\n      const { contract } = response.data.data;\n      \n      alert(`Proposal accepted successfully!\\n\\nA contract has been created and is now active.\\nContract ID: ${contract.id}`);\n      \n      fetchProposals(selectedProject.id);\n      fetchProjects();\n      \n      // Optionally navigate to the contract\n      if (window.confirm('Would you like to view the contract now?')) {\n        navigate(`/contracts/${contract.id}`);\n      }\n    } catch (err) {\n      alert(err.response?.data?.message || 'Failed to accept proposal');\n      console.error(err);\n    }\n  };\n\n  const handleRejectProposal = async (proposalId) => {\n    if (!window.confirm('Are you sure you want to reject this proposal?')) {\n      return;\n    }\n\n    try {\n      await proposalsAPI.reject(proposalId);\n      alert('Proposal rejected successfully!');\n      fetchProposals(selectedProject.id);\n    } catch (err) {\n      alert(err.response?.data?.message || 'Failed to reject proposal');\n      console.error(err);\n    }\n  };\n\n  const handleShortlistProposal = async (proposalId) => {\n    try {\n      await proposalsAPI.update(proposalId, { status: 'shortlisted' });\n      fetchProposals(selectedProject.id);\n    } catch (err) {\n      alert('Failed to shortlist proposal');\n      console.error(err);\n    }\n  };\n\n  const handleDeleteProject = async (projectId) => {\n    if (!window.confirm('Are you sure you want to delete this project?')) {\n      return;\n    }\n\n    try {\n      await projectsAPI.delete(projectId);\n      setProjects(projects.filter((p) => p.id !== projectId));\n    } catch (err) {\n      alert('Failed to delete project');\n      console.error(err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">Loading projects...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\n        <h1>My Projects</h1>\n        <button onClick={() => navigate('/create-project')} className=\"btn btn-success\">\n          Create New Project\n        </button>\n      </div>\n\n      {error && <div className=\"error-message\">{error}</div>}\n\n      {projects.length === 0 ? (\n        <div className=\"empty-state\">\n          <h3>No projects yet</h3>\n          <p>Create your first project to get started</p>\n          <button onClick={() => navigate('/create-project')} className=\"btn btn-primary\" style={{ marginTop: '1rem' }}>\n            Create Project\n          </button>\n        </div>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n          {projects.map((project) => (\n            <div key={project.id} className=\"card\">\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\n                <div style={{ flex: 1 }}>\n                  <h3>{project.title}</h3>\n                  <div className={`status-badge status-${project.status}`} style={{ marginTop: '0.5rem' }}>\n                    {project.status}\n                  </div>\n                  <p style={{ marginTop: '1rem', color: '#666' }}>\n                    {project.description?.substring(0, 200)}\n                    {project.description?.length > 200 && '...'}\n                  </p>\n                  <div className=\"project-meta\" style={{ marginTop: '1rem' }}>\n                    <span>Type: {project.project_type}</span>\n                    <span>\n                      Budget: ${project.budget_min} - ${project.budget_max}\n                    </span>\n                    <span>{project.proposal_count} proposals</span>\n                  </div>\n                </div>\n\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                  <button onClick={() => handleViewProposals(project)} className=\"btn btn-primary\">\n                    View Proposals ({project.proposal_count})\n                  </button>\n                  <button onClick={() => navigate(`/projects/${project.id}`)} className=\"btn btn-secondary\">\n                    View Details\n                  </button>\n                  {project.status === 'open' && (\n                    <button onClick={() => handleDeleteProject(project.id)} className=\"btn btn-danger\">\n                      Delete\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {selectedProject && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '1rem',\n            zIndex: 1000,\n          }}\n          onClick={() => setSelectedProject(null)}\n        >\n          <div\n            style={{\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              padding: '2rem',\n              maxWidth: '800px',\n              width: '100%',\n              maxHeight: '80vh',\n              overflow: 'auto',\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>\n              <h2>Proposals for \"{selectedProject.title}\"</h2>\n              <button onClick={() => setSelectedProject(null)} className=\"btn btn-secondary\">\n                Close\n              </button>\n            </div>\n\n            <div style={{ marginBottom: '1rem', display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n              <button \n                onClick={() => setFilterStatus('all')} \n                className={`btn ${filterStatus === 'all' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ fontSize: '0.875rem' }}\n              >\n                All ({proposals.length})\n              </button>\n              <button \n                onClick={() => setFilterStatus('submitted')} \n                className={`btn ${filterStatus === 'submitted' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ fontSize: '0.875rem' }}\n              >\n                Submitted ({proposals.filter(p => p.status === 'submitted').length})\n              </button>\n              <button \n                onClick={() => setFilterStatus('shortlisted')} \n                className={`btn ${filterStatus === 'shortlisted' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ fontSize: '0.875rem' }}\n              >\n                ‚≠ê Shortlisted ({proposals.filter(p => p.status === 'shortlisted').length})\n              </button>\n              <button \n                onClick={() => setFilterStatus('accepted')} \n                className={`btn ${filterStatus === 'accepted' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ fontSize: '0.875rem' }}\n              >\n                ‚úì Accepted ({proposals.filter(p => p.status === 'accepted').length})\n              </button>\n              <button \n                onClick={() => setFilterStatus('rejected')} \n                className={`btn ${filterStatus === 'rejected' ? 'btn-primary' : 'btn-secondary'}`}\n                style={{ fontSize: '0.875rem' }}\n              >\n                ‚úó Rejected ({proposals.filter(p => p.status === 'rejected').length})\n              </button>\n            </div>\n\n            {proposals.filter(p => filterStatus === 'all' || p.status === filterStatus).length === 0 ? (\n              <div className=\"empty-state\">\n                <p>No {filterStatus !== 'all' ? filterStatus : ''} proposals yet</p>\n              </div>\n            ) : (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n                {proposals.filter(p => filterStatus === 'all' || p.status === filterStatus).map((proposal) => (\n                  <div key={proposal.id} className=\"card\" style={{ backgroundColor: '#f8f9fa' }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\n                      <div style={{ flex: 1 }}>\n                        <h3>{proposal.freelancer_name}</h3>\n                        <div className={`status-badge status-${proposal.status}`} style={{ marginTop: '0.5rem', display: 'inline-flex', alignItems: 'center', gap: '0.25rem' }}>\n                          {proposal.status === 'shortlisted' && '‚≠ê '}\n                          {proposal.status === 'accepted' && '‚úì '}\n                          {proposal.status === 'rejected' && '‚úó '}\n                          {proposal.status}\n                        </div>\n\n                        <div style={{ marginTop: '1rem' }}>\n                          {proposal.bid_amount && (\n                            <p>\n                              <strong>Bid Amount:</strong> ${proposal.bid_amount}\n                            </p>\n                          )}\n                          {proposal.hourly_rate && (\n                            <p>\n                              <strong>Hourly Rate:</strong> ${proposal.hourly_rate}/hr\n                            </p>\n                          )}\n                          {proposal.estimated_hours && (\n                            <p>\n                              <strong>Estimated Hours:</strong> {proposal.estimated_hours}h\n                            </p>\n                          )}\n                          {proposal.freelancer_rating && (\n                            <p>\n                              <strong>Rating:</strong> {proposal.freelancer_rating} / 5\n                            </p>\n                          )}\n                        </div>\n\n                        {proposal.cover_letter && (\n                          <div style={{ marginTop: '1rem' }}>\n                            <strong>Cover Letter:</strong>\n                            <p style={{ whiteSpace: 'pre-wrap', marginTop: '0.5rem' }}>{proposal.cover_letter}</p>\n                          </div>\n                        )}\n\n                        <p style={{ marginTop: '1rem', fontSize: '0.875rem', color: '#666' }}>\n                          Submitted: {new Date(proposal.submitted_at).toLocaleDateString()}\n                        </p>\n                      </div>\n\n                      {(proposal.status === 'submitted' || proposal.status === 'shortlisted') && (\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem', minWidth: '120px' }}>\n                          <button \n                            onClick={() => handleAcceptProposal(proposal.id)} \n                            className=\"btn btn-success\"\n                            style={{ fontSize: '0.9rem', padding: '0.5rem 1rem' }}\n                          >\n                            ‚úì Accept\n                          </button>\n                          <button \n                            onClick={() => handleRejectProposal(proposal.id)} \n                            className=\"btn btn-danger\"\n                            style={{ fontSize: '0.9rem', padding: '0.5rem 1rem' }}\n                          >\n                            ‚úó Reject\n                          </button>\n                          {proposal.status === 'submitted' && (\n                            <button \n                              onClick={() => handleShortlistProposal(proposal.id)} \n                              className=\"btn btn-secondary\"\n                              style={{ fontSize: '0.9rem', padding: '0.5rem 1rem' }}\n                            >\n                              ‚≠ê Shortlist\n                            </button>\n                          )}\n                        </div>\n                      )}\n                      {proposal.status === 'accepted' && (\n                        <div style={{ \n                          padding: '0.75rem 1rem', \n                          backgroundColor: '#28a745', \n                          color: 'white',\n                          borderRadius: '4px',\n                          fontWeight: 'bold',\n                          textAlign: 'center'\n                        }}>\n                          ‚úì Accepted\n                        </div>\n                      )}\n                      {proposal.status === 'rejected' && (\n                        <div style={{ \n                          padding: '0.75rem 1rem', \n                          backgroundColor: '#dc3545', \n                          color: 'white',\n                          borderRadius: '4px',\n                          fontWeight: 'bold',\n                          textAlign: 'center'\n                        }}>\n                          ‚úó Rejected\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MyProjects;\n"
    },
    "client\\src\\pages\\MyContracts.jsx": {
      "content": "import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { contractsAPI } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst MyContracts = () => {\r\n  const [contracts, setContracts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchContracts();\r\n  }, []);\r\n\r\n  const fetchContracts = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const response = await contractsAPI.getAll();\r\n      setContracts(response.data.data);\r\n    } catch (err) {\r\n      setError('Failed to load contracts');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadgeStyle = (status) => {\r\n    const styles = {\r\n      active: { backgroundColor: '#28a745', color: 'white' },\r\n      completed: { backgroundColor: '#007bff', color: 'white' },\r\n      terminated: { backgroundColor: '#dc3545', color: 'white' },\r\n    };\r\n    return styles[status] || {};\r\n  };\r\n\r\n  const filteredContracts = contracts.filter(\r\n    (contract) => filterStatus === 'all' || contract.status === filterStatus\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"loading\">Loading contracts...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 style={{ marginBottom: '1.5rem' }}>My Contracts</h1>\r\n\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n\r\n      {/* Filter buttons */}\r\n      <div style={{ marginBottom: '1.5rem', display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\r\n        <button\r\n          onClick={() => setFilterStatus('all')}\r\n          className={`btn ${filterStatus === 'all' ? 'btn-primary' : 'btn-secondary'}`}\r\n          style={{ fontSize: '0.875rem' }}\r\n        >\r\n          All ({contracts.length})\r\n        </button>\r\n        <button\r\n          onClick={() => setFilterStatus('active')}\r\n          className={`btn ${filterStatus === 'active' ? 'btn-primary' : 'btn-secondary'}`}\r\n          style={{ fontSize: '0.875rem' }}\r\n        >\r\n          Active ({contracts.filter((c) => c.status === 'active').length})\r\n        </button>\r\n        <button\r\n          onClick={() => setFilterStatus('completed')}\r\n          className={`btn ${filterStatus === 'completed' ? 'btn-primary' : 'btn-secondary'}`}\r\n          style={{ fontSize: '0.875rem' }}\r\n        >\r\n          Completed ({contracts.filter((c) => c.status === 'completed').length})\r\n        </button>\r\n        <button\r\n          onClick={() => setFilterStatus('terminated')}\r\n          className={`btn ${filterStatus === 'terminated' ? 'btn-primary' : 'btn-secondary'}`}\r\n          style={{ fontSize: '0.875rem' }}\r\n        >\r\n          Terminated ({contracts.filter((c) => c.status === 'terminated').length})\r\n        </button>\r\n      </div>\r\n\r\n      {filteredContracts.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <h3>No {filterStatus !== 'all' ? filterStatus : ''} contracts</h3>\r\n          <p>\r\n            {filterStatus === 'all'\r\n              ? 'Contracts will appear here when proposals are accepted'\r\n              : `No ${filterStatus} contracts found`}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n          {filteredContracts.map((contract) => (\r\n            <div key={contract.id} className=\"card\">\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <h3>{contract.project_title}</h3>\r\n                  <div\r\n                    style={{\r\n                      display: 'inline-block',\r\n                      padding: '0.25rem 0.75rem',\r\n                      borderRadius: '12px',\r\n                      fontSize: '0.875rem',\r\n                      fontWeight: '600',\r\n                      marginTop: '0.5rem',\r\n                      ...getStatusBadgeStyle(contract.status),\r\n                    }}\r\n                  >\r\n                    {contract.status}\r\n                  </div>\r\n\r\n                  <div style={{ marginTop: '1rem', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n                    <div>\r\n                      <strong>Type:</strong> {contract.contract_type}\r\n                    </div>\r\n                    {contract.contract_type === 'fixed' && contract.agreed_amount && (\r\n                      <div>\r\n                        <strong>Amount:</strong> ${contract.agreed_amount} {contract.currency}\r\n                      </div>\r\n                    )}\r\n                    {contract.contract_type === 'hourly' && contract.hourly_rate && (\r\n                      <div>\r\n                        <strong>Rate:</strong> ${contract.hourly_rate}/hr\r\n                      </div>\r\n                    )}\r\n                    <div>\r\n                      <strong>Started:</strong> {new Date(contract.start_at).toLocaleDateString()}\r\n                    </div>\r\n                    {contract.end_at && (\r\n                      <div>\r\n                        <strong>Ended:</strong> {new Date(contract.end_at).toLocaleDateString()}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div style={{ marginTop: '1rem' }}>\r\n                    {user.role === 'client' ? (\r\n                      <p>\r\n                        <strong>Freelancer:</strong> {contract.freelancer_name}\r\n                        {contract.freelancer_rating && (\r\n                          <span style={{ marginLeft: '0.5rem', color: '#666' }}>\r\n                            ({contract.freelancer_rating}/5 ‚≠ê)\r\n                          </span>\r\n                        )}\r\n                      </p>\r\n                    ) : (\r\n                      <p>\r\n                        <strong>Client:</strong> {contract.client_name}\r\n                        {contract.company_name && ` (${contract.company_name})`}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                  <button\r\n                    onClick={() => navigate(`/contracts/${contract.id}`)}\r\n                    className=\"btn btn-primary\"\r\n                  >\r\n                    View Details\r\n                  </button>\r\n                  {contract.status === 'active' && (\r\n                    <button\r\n                      onClick={() => {\r\n                        if (window.confirm('Mark this contract as completed?')) {\r\n                          contractsAPI.update(contract.id, { status: 'completed' })\r\n                            .then(() => fetchContracts())\r\n                            .catch(err => alert('Failed to update contract'));\r\n                        }\r\n                      }}\r\n                      className=\"btn btn-success\"\r\n                      style={{ fontSize: '0.875rem' }}\r\n                    >\r\n                      Mark Complete\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyContracts;\r\n"
    },
    "client\\src\\pages\\Register.jsx": {
      "content": "import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { authAPI } from '../services/api';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    role: 'freelancer',\n    first_name: '',\n    last_name: '',\n    phone: '',\n    country: '',\n    // Profile fields\n    bio: '',\n    hourly_rate: '',\n    experience_years: '',\n    headline: '',\n    company_name: '',\n    company_size: '',\n    website: '',\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      // Validate passwords match\n      if (formData.password !== formData.confirmPassword) {\n        setError('Passwords do not match');\n        setLoading(false);\n        return;\n      }\n\n      // Validate password strength\n      if (formData.password.length < 8) {\n        setError('Password must be at least 8 characters long');\n        setLoading(false);\n        return;\n      }\n\n      if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password)) {\n        setError('Password must contain at least one uppercase letter, one lowercase letter, and one number');\n        setLoading(false);\n        return;\n      }\n\n      // Prepare data based on role\n      const userData = {\n        email: formData.email,\n        password: formData.password,\n        role: formData.role,\n        first_name: formData.first_name,\n        last_name: formData.last_name,\n        phone: formData.phone,\n        country: formData.country,\n      };\n\n      // Add profile data\n      if (formData.role === 'freelancer') {\n        userData.profile = {\n          bio: formData.bio,\n          hourly_rate: formData.hourly_rate ? parseFloat(formData.hourly_rate) : null,\n          experience_years: formData.experience_years ? parseInt(formData.experience_years) : null,\n          headline: formData.headline,\n        };\n      } else if (formData.role === 'client') {\n        userData.profile = {\n          company_name: formData.company_name,\n          company_size: formData.company_size,\n          website: formData.website,\n        };\n      }\n\n      const response = await authAPI.register(userData);\n      const { user, accessToken, refreshToken } = response.data.data;\n\n      // Store tokens and user data\n      login(user, accessToken, refreshToken);\n\n      // Redirect to dashboard\n      navigate('/');\n    } catch (err) {\n      console.error('Registration error:', err);\n      \n      // Handle validation errors\n      if (err.response?.data?.errors) {\n        const errorMessages = err.response.data.errors.map(e => e.message).join(', ');\n        setError(errorMessages);\n      } else {\n        setError(err.response?.data?.message || 'Failed to register. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2>Register</h2>\n        {error && <div className=\"error-message\">{error}</div>}\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"role\">I am a</label>\n            <select id=\"role\" name=\"role\" value={formData.role} onChange={handleChange} required>\n              <option value=\"freelancer\">Freelancer</option>\n              <option value=\"client\">Client</option>\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              required\n              placeholder=\"your@email.com\"\n              autoComplete=\"email\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              placeholder=\"Min 8 characters, uppercase, lowercase, number\"\n              autoComplete=\"new-password\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\n            <input\n              type=\"password\"\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              value={formData.confirmPassword}\n              onChange={handleChange}\n              required\n              placeholder=\"Re-enter your password\"\n              autoComplete=\"new-password\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"first_name\">First Name</label>\n            <input\n              type=\"text\"\n              id=\"first_name\"\n              name=\"first_name\"\n              value={formData.first_name}\n              onChange={handleChange}\n              placeholder=\"John\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"last_name\">Last Name</label>\n            <input\n              type=\"text\"\n              id=\"last_name\"\n              name=\"last_name\"\n              value={formData.last_name}\n              onChange={handleChange}\n              placeholder=\"Doe\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"phone\">Phone</label>\n            <input\n              type=\"tel\"\n              id=\"phone\"\n              name=\"phone\"\n              value={formData.phone}\n              onChange={handleChange}\n              placeholder=\"+1234567890\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"country\">Country</label>\n            <input\n              type=\"text\"\n              id=\"country\"\n              name=\"country\"\n              value={formData.country}\n              onChange={handleChange}\n              placeholder=\"USA\"\n            />\n          </div>\n\n          {formData.role === 'freelancer' && (\n            <>\n              <div className=\"form-group\">\n                <label htmlFor=\"headline\">Professional Headline</label>\n                <input\n                  type=\"text\"\n                  id=\"headline\"\n                  name=\"headline\"\n                  value={formData.headline}\n                  onChange={handleChange}\n                  placeholder=\"Full Stack Developer\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"bio\">Bio</label>\n                <textarea\n                  id=\"bio\"\n                  name=\"bio\"\n                  value={formData.bio}\n                  onChange={handleChange}\n                  placeholder=\"Tell us about yourself...\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"hourly_rate\">Hourly Rate ($)</label>\n                <input\n                  type=\"number\"\n                  id=\"hourly_rate\"\n                  name=\"hourly_rate\"\n                  value={formData.hourly_rate}\n                  onChange={handleChange}\n                  placeholder=\"50\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"experience_years\">Years of Experience</label>\n                <input\n                  type=\"number\"\n                  id=\"experience_years\"\n                  name=\"experience_years\"\n                  value={formData.experience_years}\n                  onChange={handleChange}\n                  placeholder=\"5\"\n                  min=\"0\"\n                />\n              </div>\n            </>\n          )}\n\n          {formData.role === 'client' && (\n            <>\n              <div className=\"form-group\">\n                <label htmlFor=\"company_name\">Company Name</label>\n                <input\n                  type=\"text\"\n                  id=\"company_name\"\n                  name=\"company_name\"\n                  value={formData.company_name}\n                  onChange={handleChange}\n                  placeholder=\"Acme Inc.\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"company_size\">Company Size</label>\n                <select\n                  id=\"company_size\"\n                  name=\"company_size\"\n                  value={formData.company_size}\n                  onChange={handleChange}\n                >\n                  <option value=\"\">Select size</option>\n                  <option value=\"1-10\">1-10 employees</option>\n                  <option value=\"11-50\">11-50 employees</option>\n                  <option value=\"51-200\">51-200 employees</option>\n                  <option value=\"201-500\">201-500 employees</option>\n                  <option value=\"500+\">500+ employees</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"website\">Website</label>\n                <input\n                  type=\"url\"\n                  id=\"website\"\n                  name=\"website\"\n                  value={formData.website}\n                  onChange={handleChange}\n                  placeholder=\"https://example.com\"\n                />\n              </div>\n            </>\n          )}\n\n          <button type=\"submit\" className=\"btn btn-primary\" style={{ width: '100%' }} disabled={loading}>\n            {loading ? 'Registering...' : 'Register'}\n          </button>\n        </form>\n        <div className=\"auth-toggle\">\n          Already have an account? <Link to=\"/login\">Login here</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"
    }
  }
}